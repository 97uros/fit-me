import{a as q,b as he,d as pa,e as w}from"./chunk-BE352OPC.js";function j2(t,e){return Object.is(t,e)}var gn=null,gm=!1,mm=1,eo=Symbol("SIGNAL");function Ze(t){let e=gn;return gn=t,e}function B2(){return gn}var Oh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function i1(t){if(gm)throw new Error("");if(gn===null)return;gn.consumerOnSignalRead(t);let e=gn.nextProducerIndex++;if(wm(gn),e<gn.producerNode.length&&gn.producerNode[e]!==t&&Ph(gn)){let n=gn.producerNode[e];_m(n,gn.producerIndexOfThis[e])}gn.producerNode[e]!==t&&(gn.producerNode[e]=t,gn.producerIndexOfThis[e]=Ph(gn)?z2(t,gn,e):0),gn.producerLastReadVersion[e]=t.version}function Q7(){mm++}function H2(t){if(!(Ph(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===mm)){if(!t.producerMustRecompute(t)&&!o1(t)){t.dirty=!1,t.lastCleanEpoch=mm;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=mm}}function W2(t){if(t.liveConsumerNode===void 0)return;let e=gm;gm=!0;try{for(let n of t.liveConsumerNode)n.dirty||K7(n)}finally{gm=e}}function $2(){return gn?.consumerAllowSignalWrites!==!1}function K7(t){t.dirty=!0,W2(t),t.consumerMarkedDirty?.(t)}function ym(t){return t&&(t.nextProducerIndex=0),Ze(t)}function s1(t,e){if(Ze(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ph(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_m(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function o1(t){wm(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(H2(n),r!==n.version))return!0}return!1}function a1(t){if(wm(t),Ph(t))for(let e=0;e<t.producerNode.length;e++)_m(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function z2(t,e,n){if(G2(t),t.liveConsumerNode.length===0&&q2(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=z2(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _m(t,e){if(G2(t),t.liveConsumerNode.length===1&&q2(t))for(let r=0;r<t.producerNode.length;r++)_m(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];wm(i),i.producerIndexOfThis[r]=e}}function Ph(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function wm(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function G2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function q2(t){return t.producerNode!==void 0}function Q2(t){let e=Object.create(Y7);e.computation=t;let n=()=>{if(H2(e),i1(e),e.value===vm)throw e.error;return e.value};return n[eo]=e,n}var n1=Symbol("UNSET"),r1=Symbol("COMPUTING"),vm=Symbol("ERRORED"),Y7=he(q({},Oh),{value:n1,dirty:!0,error:null,equal:j2,producerMustRecompute(t){return t.value===n1||t.value===r1},producerRecomputeValue(t){if(t.value===r1)throw new Error("Detected cycle in computations.");let e=t.value;t.value=r1;let n=ym(t),r;try{r=t.computation()}catch(i){r=vm,t.error=i}finally{s1(t,n)}if(e!==n1&&e!==vm&&r!==vm&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Z7(){throw new Error}var K2=Z7;function Y2(){K2()}function Z2(t){K2=t}var X7=null;function X2(t){let e=Object.create(eN);e.value=t;let n=()=>(i1(e),e.value);return n[eo]=e,n}function l1(t,e){$2()||Y2(),t.equal(t.value,e)||(t.value=e,J7(t))}function J2(t,e){$2()||Y2(),l1(t,e(t.value))}var eN=he(q({},Oh),{equal:j2,value:void 0});function J7(t){t.version++,Q7(),W2(t),X7?.()}function Ie(t){return typeof t=="function"}function iu(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Em=iu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function wl(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ut=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ie(r))try{r()}catch(s){e=s instanceof Em?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{tN(s)}catch(o){e=e??[],o instanceof Em?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Em(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tN(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&wl(n,e)}remove(e){let{_finalizers:n}=this;n&&wl(n,e),e instanceof t&&e._removeParent(this)}};Ut.EMPTY=(()=>{let t=new Ut;return t.closed=!0,t})();var c1=Ut.EMPTY;function bm(t){return t instanceof Ut||t&&"closed"in t&&Ie(t.remove)&&Ie(t.add)&&Ie(t.unsubscribe)}function tN(t){Ie(t)?t():t.unsubscribe()}var xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var su={setTimeout(t,e,...n){let{delegate:r}=su;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=su;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Im(t){su.setTimeout(()=>{let{onUnhandledError:e}=xi;if(e)e(t);else throw t})}function Fh(){}var nN=u1("C",void 0,void 0);function rN(t){return u1("E",void 0,t)}function iN(t){return u1("N",t,void 0)}function u1(t,e,n){return{kind:t,value:e,error:n}}var El=null;function ou(t){if(xi.useDeprecatedSynchronousErrorHandling){let e=!El;if(e&&(El={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=El;if(El=null,n)throw r}}else t()}function sN(t){xi.useDeprecatedSynchronousErrorHandling&&El&&(El.errorThrown=!0,El.error=t)}var bl=class extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bm(e)&&e.add(this)):this.destination=nH}static create(e,n,r){return new au(e,n,r)}next(e){this.isStopped?h1(iN(e),this):this._next(e)}error(e){this.isStopped?h1(rN(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?h1(nN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eH=Function.prototype.bind;function d1(t,e){return eH.call(t,e)}var f1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cm(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cm(r)}else Cm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cm(n)}}},au=class extends bl{constructor(e,n,r){super();let i;if(Ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&xi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&d1(e.next,s),error:e.error&&d1(e.error,s),complete:e.complete&&d1(e.complete,s)}):i=e}this.destination=new f1(i)}};function Cm(t){xi.useDeprecatedSynchronousErrorHandling?sN(t):Im(t)}function tH(t){throw t}function h1(t,e){let{onStoppedNotification:n}=xi;n&&su.setTimeout(()=>n(t,e))}var nH={closed:!0,next:Fh,error:tH,complete:Fh};var lu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rr(t){return t}function p1(...t){return g1(t)}function g1(t){return t.length===0?Rr:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=iH(n)?n:new au(n,r,i);return ou(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=oN(r),new r((i,s)=>{let o=new au({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[lu](){return this}pipe(...n){return g1(n)(this)}toPromise(n){return n=oN(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function oN(t){var e;return(e=t??xi.Promise)!==null&&e!==void 0?e:Promise}function rH(t){return t&&Ie(t.next)&&Ie(t.error)&&Ie(t.complete)}function iH(t){return t&&t instanceof bl||rH(t)&&bm(t)}function m1(t){return Ie(t?.lift)}function Ge(t){return e=>{if(m1(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(t,e,n,r,i){return new v1(t,e,n,r,i)}var v1=class extends bl{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cu(){return Ge((t,e)=>{let n=null;t._refCount++;let r=Ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var uu=class extends ke{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,m1(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;let n=this.getSubject();e.add(this.source.subscribe(Ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return cu()(this)}};var aN=iu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tm(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new aN}next(n){ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ou(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?c1:(this.currentObservers=null,s.push(n),new Ut(()=>{this.currentObservers=null,wl(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ke;return n.source=this,n}}return t.create=(e,n)=>new Tm(e,n),t})(),Tm=class extends vt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:c1}};var Pn=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var y1={now(){return(y1.delegate||Date).now()},delegate:void 0};var Dm=class extends Ut{constructor(e,n){super()}schedule(e,n=0){return this}};var Lh={setInterval(t,e,...n){let{delegate:r}=Lh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Lh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ga=class extends Dm{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Lh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Lh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,wl(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var sH=1,_1,w1={};function lN(t){return t in w1?(delete w1[t],!0):!1}var cN={setImmediate(t){let e=sH++;return w1[e]=!0,_1||(_1=Promise.resolve()),_1.then(()=>lN(e)&&t()),e},clearImmediate(t){lN(t)}};var{setImmediate:oH,clearImmediate:aH}=cN,Vh={setImmediate(...t){let{delegate:e}=Vh;return(e?.setImmediate||oH)(...t)},clearImmediate(t){let{delegate:e}=Vh;return(e?.clearImmediate||aH)(t)},delegate:void 0};var Sm=class extends ga{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Vh.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Vh.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var du=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};du.now=y1.now;var ma=class extends du{constructor(e,n=du.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Am=class extends ma{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var E1=new Am(Sm);var b1=new ma(ga);var xm=class extends ga{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Rm=class extends ma{};var I1=new Rm(xm);var Mr=new ke(t=>t.complete());function uN(t){return t&&Ie(t.schedule)}function dN(t){return t[t.length-1]}function Mm(t){return Ie(dN(t))?t.pop():void 0}function va(t){return uN(dN(t))?t.pop():void 0}function km(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fN(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function hN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Il(t){return this instanceof Il?(this.v=t,this):new Il(t)}function pN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(v){return Promise.resolve(v).then(g,h)}}function a(g,v){r[g]&&(i[g]=function(b){return new Promise(function(_,x){s.push([g,b,_,x])>1||l(g,b)})},v&&(i[g]=v(i[g])))}function l(g,v){try{c(r[g](v))}catch(b){f(s[0][3],b)}}function c(g){g.value instanceof Il?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){l("next",g)}function h(g){l("throw",g)}function f(g,v){g(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function gN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hN=="function"?hN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Nm=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pm(t){return Ie(t?.then)}function Om(t){return Ie(t[lu])}function Fm(t){return Symbol.asyncIterator&&Ie(t?.[Symbol.asyncIterator])}function Lm(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lH(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vm=lH();function Um(t){return Ie(t?.[Vm])}function jm(t){return pN(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Il(n.read());if(i)return yield Il(void 0);yield yield Il(r)}}finally{n.releaseLock()}})}function Bm(t){return Ie(t?.getReader)}function Jt(t){if(t instanceof ke)return t;if(t!=null){if(Om(t))return cH(t);if(Nm(t))return uH(t);if(Pm(t))return dH(t);if(Fm(t))return mN(t);if(Um(t))return hH(t);if(Bm(t))return fH(t)}throw Lm(t)}function cH(t){return new ke(e=>{let n=t[lu]();if(Ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uH(t){return new ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dH(t){return new ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Im)})}function hH(t){return new ke(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function mN(t){return new ke(e=>{pH(t,e).catch(n=>e.error(n))})}function fH(t){return mN(jm(t))}function pH(t,e){var n,r,i,s;return fN(this,void 0,void 0,function*(){try{for(n=gN(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function vr(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ya(t,e=0){return Ge((n,r)=>{n.subscribe(Ue(r,i=>vr(r,t,()=>r.next(i),e),()=>vr(r,t,()=>r.complete(),e),i=>vr(r,t,()=>r.error(i),e)))})}function _a(t,e=0){return Ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vN(t,e){return Jt(t).pipe(_a(e),ya(e))}function yN(t,e){return Jt(t).pipe(_a(e),ya(e))}function _N(t,e){return new ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function wN(t,e){return new ke(n=>{let r;return vr(n,e,()=>{r=t[Vm](),vr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Ie(r?.return)&&r.return()})}function Hm(t,e){if(!t)throw new Error("Iterable cannot be null");return new ke(n=>{vr(n,e,()=>{let r=t[Symbol.asyncIterator]();vr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function EN(t,e){return Hm(jm(t),e)}function bN(t,e){if(t!=null){if(Om(t))return vN(t,e);if(Nm(t))return _N(t,e);if(Pm(t))return yN(t,e);if(Fm(t))return Hm(t,e);if(Um(t))return wN(t,e);if(Bm(t))return EN(t,e)}throw Lm(t)}function dt(t,e){return e?bN(t,e):Jt(t)}function fe(...t){let e=va(t);return dt(t,e)}function hu(t,e){let n=Ie(t)?t:()=>t,r=i=>i.error(n());return new ke(e?i=>e.schedule(r,0,i):r)}function C1(t){return!!t&&(t instanceof ke||Ie(t.lift)&&Ie(t.subscribe))}var to=iu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ue(t,e){return Ge((n,r)=>{let i=0;n.subscribe(Ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:gH}=Array;function mH(t,e){return gH(e)?t(...e):t(e)}function Wm(t){return ue(e=>mH(t,e))}var{isArray:vH}=Array,{getPrototypeOf:yH,prototype:_H,keys:wH}=Object;function $m(t){if(t.length===1){let e=t[0];if(vH(e))return{args:e,keys:null};if(EH(e)){let n=wH(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function EH(t){return t&&typeof t=="object"&&yH(t)===_H}function zm(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Gm(...t){let e=va(t),n=Mm(t),{args:r,keys:i}=$m(t);if(r.length===0)return dt([],e);let s=new ke(bH(r,e,i?o=>zm(i,o):Rr));return n?s.pipe(Wm(n)):s}function bH(t,e,n=Rr){return r=>{IN(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)IN(e,()=>{let c=dt(t[l],e),u=!1;c.subscribe(Ue(r,h=>{s[l]=h,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function IN(t,e,n){t?vr(n,t,e):e()}function CN(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,h=!1,f=()=>{h&&!l.length&&!c&&e.complete()},g=b=>c<r?v(b):l.push(b),v=b=>{s&&e.next(b),c++;let _=!1;Jt(n(b,u++)).subscribe(Ue(e,x=>{i?.(x),s?g(x):e.next(x)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){let x=l.shift();o?vr(e,o,()=>v(x)):v(x)}f()}catch(x){e.error(x)}}))};return t.subscribe(Ue(e,g,()=>{h=!0,f()})),()=>{a?.()}}function mn(t,e,n=1/0){return Ie(e)?mn((r,i)=>ue((s,o)=>e(r,s,i,o))(Jt(t(r,i))),n):(typeof e=="number"&&(n=e),Ge((r,i)=>CN(r,i,t,n)))}function fu(t=1/0){return mn(Rr,t)}function TN(){return fu(1)}function pu(...t){return TN()(dt(t,va(t)))}function qm(t){return new ke(e=>{Jt(t()).subscribe(e)})}function T1(...t){let e=Mm(t),{args:n,keys:r}=$m(t),i=new ke(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let h=!1;Jt(n[u]).subscribe(Ue(s,f=>{h||(h=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(r?zm(r,a):a),s.complete())}))}});return e?i.pipe(Wm(e)):i}function kr(t,e){return Ge((n,r)=>{let i=0;n.subscribe(Ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Nr(t){return Ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Ue(n,void 0,void 0,o=>{s=Jt(t(o,Nr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function DN(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(Ue(o,u=>{let h=c++;l=a?t(l,u,h):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function wa(t,e){return Ie(e)?mn(t,e,1):mn(t,1)}function Ea(t){return Ge((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ri(t){return t<=0?()=>Mr:Ge((e,n)=>{let r=0;e.subscribe(Ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function D1(t){return ue(()=>t)}function Qm(t=IH){return Ge((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function IH(){return new to}function Cl(t){return Ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rs(t,e){let n=arguments.length>=2;return r=>r.pipe(t?kr((i,s)=>t(i,s,r)):Rr,Ri(1),n?Ea(e):Qm(()=>new to))}function gu(t){return t<=0?()=>Mr:Ge((e,n)=>{let r=[];e.subscribe(Ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function S1(t,e){let n=arguments.length>=2;return r=>r.pipe(t?kr((i,s)=>t(i,s,r)):Rr,gu(1),n?Ea(e):Qm(()=>new to))}function A1(t,e){return Ge(DN(t,e,arguments.length>=2,!0))}function x1(...t){let e=va(t);return Ge((n,r)=>{(e?pu(t,n,e):pu(t,n)).subscribe(r)})}function On(t,e){return Ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Ue(r,l=>{i?.unsubscribe();let c=0,u=s++;Jt(t(l,u)).subscribe(i=Ue(r,h=>r.next(e?e(l,h,u,c++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function R1(t){return Ge((e,n)=>{Jt(t).subscribe(Ue(n,()=>n.complete(),Fh)),!n.closed&&e.subscribe(n)})}function kt(t,e,n){let r=Ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ue(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Rr}var gP="https://g.co/ng/security#xss",ae=class extends Error{constructor(e,n){super(Mv(e,n)),this.code=e}};function Mv(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Yh(t){return{toString:t}.toString()}var Km="__parameters__";function CH(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function mP(t,e,n){return Yh(()=>{let r=CH(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let h=l.hasOwnProperty(Km)?l[Km]:Object.defineProperty(l,Km,{value:[]})[Km];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var no=globalThis;function ft(t){for(let e in t)if(t[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function TH(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function or(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(or).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function z1(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var DH=ft({__forward_ref__:ft});function lo(t){return t.__forward_ref__=lo,t.toString=function(){return or(this())},t}function sr(t){return vP(t)?t():t}function vP(t){return typeof t=="function"&&t.hasOwnProperty(DH)&&t.__forward_ref__===lo}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function kv(t){return SN(t,_P)||SN(t,wP)}function yP(t){return kv(t)!==null}function SN(t,e){return t.hasOwnProperty(e)?t[e]:null}function SH(t){let e=t&&(t[_P]||t[wP]);return e||null}function AN(t){return t&&(t.hasOwnProperty(xN)||t.hasOwnProperty(AH))?t[xN]:null}var _P=ft({\u0275prov:ft}),xN=ft({\u0275inj:ft}),wP=ft({ngInjectableDef:ft}),AH=ft({ngInjectorDef:ft}),ie=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function EP(t){return t&&!!t.\u0275providers}var xH=ft({\u0275cmp:ft}),RH=ft({\u0275dir:ft}),MH=ft({\u0275pipe:ft}),kH=ft({\u0275mod:ft}),lv=ft({\u0275fac:ft}),Bh=ft({__NG_ELEMENT_ID__:ft}),RN=ft({__NG_ENV_ID__:ft});function xl(t){return typeof t=="string"?t:t==null?"":String(t)}function NH(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xl(t)}function PH(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ae(-200,t)}function Xb(t,e){throw new ae(-201,!1)}var Ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ne||{}),G1;function bP(){return G1}function yr(t){let e=G1;return G1=t,e}function IP(t,e,n){let r=kv(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ne.Optional)return null;if(e!==void 0)return e;Xb(t,"Injector")}var OH={},Hh=OH,q1="__NG_DI_FLAG__",cv="ngTempTokenPath",FH="ngTokenPath",LH=/\n/gm,VH="\u0275",MN="__source",_u;function UH(){return _u}function ba(t){let e=_u;return _u=t,e}function jH(t,e=Ne.Default){if(_u===void 0)throw new ae(-203,!1);return _u===null?IP(t,void 0,e):_u.get(t,e&Ne.Optional?null:void 0,e)}function se(t,e=Ne.Default){return(bP()||jH)(sr(t),e)}function X(t,e=Ne.Default){return se(t,Nv(e))}function Nv(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Q1(t){let e=[];for(let n=0;n<t.length;n++){let r=sr(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ae(900,!1);let i,s=Ne.Default;for(let o=0;o<r.length;o++){let a=r[o],l=BH(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(se(i,s))}else e.push(se(r))}return e}function CP(t,e){return t[q1]=e,t.prototype[q1]=e,t}function BH(t){return t[q1]}function HH(t,e,n,r){let i=t[cv];throw e[MN]&&i.unshift(e[MN]),t.message=WH(`
`+t.message,i,n,r),t[FH]=i,t[cv]=null,t}function WH(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==VH?t.slice(2):t;let i=or(e);if(Array.isArray(e))i=e.map(or).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):or(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(LH,`
  `)}`}var ct=CP(mP("Optional"),8);var Jb=CP(mP("SkipSelf"),4);function Rl(t,e){let n=t.hasOwnProperty(lv);return n?t[lv]:null}function $H(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function zH(t){return t.flat(Number.POSITIVE_INFINITY)}function eI(t,e){t.forEach(n=>Array.isArray(n)?eI(n,e):e(n))}function TP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uv(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function GH(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function qH(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function tI(t,e,n){let r=Zh(t,e);return r>=0?t[r|1]=n:(r=~r,qH(t,r,e,n)),r}function M1(t,e){let n=Zh(t,e);if(n>=0)return t[n|1]}function Zh(t,e){return QH(t,e,1)}function QH(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Eu={},_r=[],bu=new ie(""),DP=new ie("",-1),SP=new ie(""),dv=class{get(e,n=Hh){if(n===Hh){let r=new Error(`NullInjectorError: No provider for ${or(e)}!`);throw r.name="NullInjectorError",r}return n}},AP=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(AP||{}),os=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(os||{}),Ta=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ta||{});function KH(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function K1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];YH(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function xP(t){return t===3||t===4||t===6}function YH(t){return t.charCodeAt(0)===64}function Wh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?kN(t,n,i,null,e[++r]):kN(t,n,i,null,null))}}return t}function kN(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var RP="ng-template";function ZH(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&KH(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(nI(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function nI(t){return t.type===4&&t.value!==RP}function XH(t,e,n){let r=t.type===4&&!n?RP:t.value;return e===r}function JH(t,e,n){let r=4,i=t.attrs,s=i!==null?nW(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Mi(r)&&!Mi(l))return!1;if(o&&Mi(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!XH(t,l,n)||l===""&&e.length===1){if(Mi(r))return!1;o=!0}}else if(r&8){if(i===null||!ZH(t,i,l,n)){if(Mi(r))return!1;o=!0}}else{let c=e[++a],u=eW(l,i,nI(t),n);if(u===-1){if(Mi(r))return!1;o=!0;continue}if(c!==""){let h;if(u>s?h="":h=i[u+1].toLowerCase(),r&2&&c!==h){if(Mi(r))return!1;o=!0}}}}return Mi(r)||o}function Mi(t){return(t&1)===0}function eW(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rW(e,t)}function MP(t,e,n=!1){for(let r=0;r<e.length;r++)if(JH(t,e[r],n))return!0;return!1}function tW(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function nW(t){for(let e=0;e<t.length;e++){let n=t[e];if(xP(n))return e}return t.length}function rW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function iW(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function NN(t,e){return t?":not("+e.trim()+")":e}function sW(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mi(o)&&(e+=NN(s,i),i=""),r=o,s=s||!Mi(r);n++}return i!==""&&(e+=NN(s,i)),e}function oW(t){return t.map(sW).join(",")}function aW(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mi(i))break;i=s}r++}return{attrs:e,classes:n}}function ve(t){return Yh(()=>{let e=FP(t),n=he(q({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===AP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||os.Emulated,styles:t.styles||_r,_:null,schemas:t.schemas||null,tView:null,id:""});LP(n);let r=t.dependencies;return n.directiveDefs=ON(r,!1),n.pipeDefs=ON(r,!0),n.id=uW(n),n})}function lW(t){return Ml(t)||kP(t)}function cW(t){return t!==null}function Yn(t){return Yh(()=>({type:t.type,bootstrap:t.bootstrap||_r,declarations:t.declarations||_r,imports:t.imports||_r,exports:t.exports||_r,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function PN(t,e){if(t==null)return Eu;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ta.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ta.None?[r,a]:r,e[s]=o):n[s]=r}return n}function yt(t){return Yh(()=>{let e=FP(t);return LP(e),e})}function rI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ml(t){return t[xH]||null}function kP(t){return t[RH]||null}function NP(t){return t[MH]||null}function PP(t){let e=Ml(t)||kP(t)||NP(t);return e!==null?e.standalone:!1}function OP(t,e){let n=t[kH]||null;if(!n&&e===!0)throw new Error(`Type ${or(t)} does not have '\u0275mod' property.`);return n}function FP(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Eu,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||_r,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:PN(t.inputs,e),outputs:PN(t.outputs),debugInfo:null}}function LP(t){t.features?.forEach(e=>e(t))}function ON(t,e){if(!t)return null;let n=e?NP:lW;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cW)}function uW(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function en(t){return{\u0275providers:t}}function iI(...t){return{\u0275providers:VP(!0,t),\u0275fromNgModule:!0}}function VP(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return eI(e,o=>{let a=o;Y1(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&UP(i,s),n}function UP(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];sI(i,s=>{e(s,r)})}}function Y1(t,e,n,r){if(t=sr(t),!t)return!1;let i=null,s=AN(t),o=!s&&Ml(t);if(!s&&!o){let l=t.ngModule;if(s=AN(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Y1(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{eI(s.imports,u=>{Y1(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&UP(c,e)}if(!a){let c=Rl(i)||(()=>new i);e({provide:i,useFactory:c,deps:_r},i),e({provide:SP,useValue:i,multi:!0},i),e({provide:bu,useValue:()=>se(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;sI(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function sI(t,e){for(let n of t)EP(n)&&(n=n.\u0275providers),Array.isArray(n)?sI(n,e):e(n)}var dW=ft({provide:String,useValue:ft});function jP(t){return t!==null&&typeof t=="object"&&dW in t}function hW(t){return!!(t&&t.useExisting)}function fW(t){return!!(t&&t.useFactory)}function Iu(t){return typeof t=="function"}function pW(t){return!!t.useClass}var Pv=new ie(""),nv={},gW={},k1;function oI(){return k1===void 0&&(k1=new dv),k1}var wr=class{},$h=class extends wr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X1(e,o=>this.processProvider(o)),this.records.set(DP,mu(void 0,this)),i.has("environment")&&this.records.set(wr,mu(void 0,this));let s=this.records.get(Pv);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SP,_r,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ze(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ze(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ba(this),r=yr(void 0),i;try{return e()}finally{ba(n),yr(r)}}get(e,n=Hh,r=Ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(RN))return e[RN](this);r=Nv(r);let i,s=ba(this),o=yr(void 0);try{if(!(r&Ne.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=wW(e)&&kv(e);c&&this.injectableDefInScope(c)?l=mu(Z1(e),nv):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Ne.Self?oI():this.parent;return n=r&Ne.Optional&&n===Hh?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[cv]=a[cv]||[]).unshift(or(e)),s)throw a;return HH(a,e,"R3InjectorError",this.source)}else throw a}finally{yr(o),ba(s)}}resolveInjectorInitializers(){let e=Ze(null),n=ba(this),r=yr(void 0),i;try{let s=this.get(bu,_r,Ne.Self);for(let o of s)o()}finally{ba(n),yr(r),Ze(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(or(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){e=sr(e);let n=Iu(e)?e:sr(e&&e.provide),r=vW(e);if(!Iu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=mu(void 0,nv,!0),i.factory=()=>Q1(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ze(null);try{return n.value===nv&&(n.value=gW,n.value=n.factory()),typeof n.value=="object"&&n.value&&_W(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ze(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=sr(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Z1(t){let e=kv(t),n=e!==null?e.factory:Rl(t);if(n!==null)return n;if(t instanceof ie)throw new ae(204,!1);if(t instanceof Function)return mW(t);throw new ae(204,!1)}function mW(t){if(t.length>0)throw new ae(204,!1);let n=SH(t);return n!==null?()=>n.factory(t):()=>new t}function vW(t){if(jP(t))return mu(void 0,t.useValue);{let e=BP(t);return mu(e,nv)}}function BP(t,e,n){let r;if(Iu(t)){let i=sr(t);return Rl(i)||Z1(i)}else if(jP(t))r=()=>sr(t.useValue);else if(fW(t))r=()=>t.useFactory(...Q1(t.deps||[]));else if(hW(t))r=()=>se(sr(t.useExisting));else{let i=sr(t&&(t.useClass||t.provide));if(yW(t))r=()=>new i(...Q1(t.deps));else return Rl(i)||Z1(i)}return r}function mu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yW(t){return!!t.deps}function _W(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wW(t){return typeof t=="function"||typeof t=="object"&&t instanceof ie}function X1(t,e){for(let n of t)Array.isArray(n)?X1(n,e):n&&EP(n)?X1(n.\u0275providers,e):e(n)}function Oi(t,e){t instanceof $h&&t.assertNotDestroyed();let n,r=ba(t),i=yr(void 0);try{return e()}finally{ba(r),yr(i)}}function EW(){return bP()!==void 0||UH()!=null}function bW(t){return typeof t=="function"}var ds=0,Ae=1,ye=2,Qn=3,Ni=4,br=5,zh=6,hv=7,Pi=8,Cu=9,as=10,Dt=11,Gh=12,FN=13,Ru=14,Jr=15,kl=16,vu=17,ro=18,Ov=19,HP=20,Ia=21,N1=22,Xr=23,Er=25,aI=1;var Nl=7,fv=8,Tu=9,Pr=10,pv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(pv||{});function Ca(t){return Array.isArray(t)&&typeof t[aI]=="object"}function co(t){return Array.isArray(t)&&t[aI]===!0}function lI(t){return(t.flags&4)!==0}function Fv(t){return t.componentOffset>-1}function Lv(t){return(t.flags&1)===1}function io(t){return!!t.template}function J1(t){return(t[ye]&512)!==0}var eb=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function WP(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function tn(){return $P}function $P(t){return t.type.prototype.ngOnChanges&&(t.setInput=CW),IW}tn.ngInherit=!0;function IW(){let t=GP(this),e=t?.current;if(e){let n=t.previous;if(n===Eu)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CW(t,e,n,r,i){let s=this.declaredInputs[r],o=GP(t)||TW(t,{previous:Eu,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new eb(c&&c.currentValue,n,l===Eu),WP(t,e,i,n)}var zP="__ngSimpleChanges__";function GP(t){return t[zP]||null}function TW(t,e){return t[zP]=e}var LN=null;var is=function(t,e,n){LN?.(t,e,n)},qP="svg",DW="math";function ls(t){for(;Array.isArray(t);)t=t[ds];return t}function SW(t){for(;Array.isArray(t);){if(typeof t[aI]=="object")return t;t=t[ds]}return null}function QP(t,e){return ls(e[t])}function ei(t,e){return ls(e[t.index])}function KP(t,e){return t.data[e]}function YP(t,e){return t[e]}function xa(t,e){let n=e[t];return Ca(n)?n:n[ds]}function AW(t){return(t[ye]&4)===4}function cI(t){return(t[ye]&128)===128}function xW(t){return co(t[Qn])}function Du(t,e){return e==null?null:t[e]}function ZP(t){t[vu]=0}function XP(t){t[ye]&1024||(t[ye]|=1024,cI(t)&&Uv(t))}function RW(t,e){for(;t>0;)e=e[Ru],t--;return e}function Vv(t){return!!(t[ye]&9216||t[Xr]?.dirty)}function tb(t){t[as].changeDetectionScheduler?.notify(8),t[ye]&64&&(t[ye]|=1024),Vv(t)&&Uv(t)}function Uv(t){t[as].changeDetectionScheduler?.notify(0);let e=Pl(t);for(;e!==null&&!(e[ye]&8192||(e[ye]|=8192,!cI(e)));)e=Pl(e)}function JP(t,e){if((t[ye]&256)===256)throw new ae(911,!1);t[Ia]===null&&(t[Ia]=[]),t[Ia].push(e)}function MW(t,e){if(t[Ia]===null)return;let n=t[Ia].indexOf(e);n!==-1&&t[Ia].splice(n,1)}function Pl(t){let e=t[Qn];return co(e)?e[Qn]:e}var Te={lFrame:cO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eO=!1;function kW(){return Te.lFrame.elementDepthCount}function NW(){Te.lFrame.elementDepthCount++}function PW(){Te.lFrame.elementDepthCount--}function tO(){return Te.bindingsEnabled}function nO(){return Te.skipHydrationRootTNode!==null}function OW(t){return Te.skipHydrationRootTNode===t}function FW(){Te.skipHydrationRootTNode=null}function Me(){return Te.lFrame.lView}function Nt(){return Te.lFrame.tView}function Q(t){return Te.lFrame.contextLView=t,t[Pi]}function K(t){return Te.lFrame.contextLView=null,t}function Fn(){let t=rO();for(;t!==null&&t.type===64;)t=t.parent;return t}function rO(){return Te.lFrame.currentTNode}function LW(){let t=Te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bl(t,e){let n=Te.lFrame;n.currentTNode=t,n.isParent=e}function uI(){return Te.lFrame.isParent}function dI(){Te.lFrame.isParent=!1}function VW(){return Te.lFrame.contextLView}function iO(){return eO}function VN(t){eO=t}function hI(){let t=Te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function UW(){return Te.lFrame.bindingIndex}function jW(t){return Te.lFrame.bindingIndex=t}function Xh(){return Te.lFrame.bindingIndex++}function fI(t){let e=Te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BW(){return Te.lFrame.inI18n}function HW(t,e){let n=Te.lFrame;n.bindingIndex=n.bindingRootIndex=t,nb(e)}function WW(){return Te.lFrame.currentDirectiveIndex}function nb(t){Te.lFrame.currentDirectiveIndex=t}function sO(t){let e=Te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function oO(){return Te.lFrame.currentQueryIndex}function pI(t){Te.lFrame.currentQueryIndex=t}function $W(t){let e=t[Ae];return e.type===2?e.declTNode:e.type===1?t[br]:null}function aO(t,e,n){if(n&Ne.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Ne.Host);)if(i=$W(s),i===null||(s=s[Ru],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Te.lFrame=lO();return r.currentTNode=e,r.lView=t,!0}function gI(t){let e=lO(),n=t[Ae];Te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lO(){let t=Te.lFrame,e=t===null?null:t.child;return e===null?cO(t):e}function cO(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uO(){let t=Te.lFrame;return Te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var dO=uO;function mI(){let t=uO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zW(t){return(Te.lFrame.contextLView=RW(t,Te.lFrame.contextLView))[Pi]}function Ra(){return Te.lFrame.selectedIndex}function Ol(t){Te.lFrame.selectedIndex=t}function Jh(){let t=Te.lFrame;return KP(t.tView,t.selectedIndex)}function Mu(){Te.lFrame.currentNamespace=qP}function jv(){GW()}function GW(){Te.lFrame.currentNamespace=null}function qW(){return Te.lFrame.currentNamespace}var hO=!0;function Bv(){return hO}function Hv(t){hO=t}function QW(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=$P(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Wv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function rv(t,e,n){fO(t,e,3,n)}function iv(t,e,n,r){(t[ye]&3)===n&&fO(t,e,n,r)}function P1(t,e){let n=t[ye];(n&3)===e&&(n&=16383,n+=1,t[ye]=n)}function fO(t,e,n,r){let i=r!==void 0?t[vu]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[vu]+=65536),(a<s||s==-1)&&(KW(t,n,e,l),t[vu]=(t[vu]&4294901760)+l+2),l++}function UN(t,e){is(4,t,e);let n=Ze(null);try{e.call(t)}finally{Ze(n),is(5,t,e)}}function KW(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ye]>>14<t[vu]>>16&&(t[ye]&3)===e&&(t[ye]+=16384,UN(a,s)):UN(a,s)}var wu=-1,Fl=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function YW(t){return t instanceof Fl}function ZW(t){return(t.flags&8)!==0}function XW(t){return(t.flags&16)!==0}var O1={},rb=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nv(r);let i=this.injector.get(e,O1,r);return i!==O1||n===O1?i:this.parentInjector.get(e,n,r)}};function pO(t){return t!==wu}function gv(t){return t&32767}function JW(t){return t>>16}function mv(t,e){let n=JW(t),r=e;for(;n>0;)r=r[Ru],n--;return r}var ib=!0;function vv(t){let e=ib;return ib=t,e}var e$=256,gO=e$-1,mO=5,t$=0,ss={};function n$(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bh)&&(r=n[Bh]),r==null&&(r=n[Bh]=t$++);let i=r&gO,s=1<<i;e.data[t+(i>>mO)]|=s}function yv(t,e){let n=vO(t,e);if(n!==-1)return n;let r=e[Ae];r.firstCreatePass&&(t.injectorIndex=e.length,F1(r.data,t),F1(e,null),F1(r.blueprint,null));let i=vI(t,e),s=t.injectorIndex;if(pO(i)){let o=gv(i),a=mv(i,e),l=a[Ae].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function F1(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vO(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vI(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=bO(i),r===null)return wu;if(n++,i=i[Ru],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wu}function sb(t,e,n){n$(t,e,n)}function r$(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(xP(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function yO(t,e,n){if(n&Ne.Optional||t!==void 0)return t;Xb(e,"NodeInjector")}function _O(t,e,n,r){if(n&Ne.Optional&&r===void 0&&(r=null),!(n&(Ne.Self|Ne.Host))){let i=t[Cu],s=yr(void 0);try{return i?i.get(e,r,n&Ne.Optional):IP(e,r,n&Ne.Optional)}finally{yr(s)}}return yO(r,e,n)}function wO(t,e,n,r=Ne.Default,i){if(t!==null){if(e[ye]&2048&&!(r&Ne.Self)){let o=a$(t,e,n,r,ss);if(o!==ss)return o}let s=EO(t,e,n,r,ss);if(s!==ss)return s}return _O(e,n,r,i)}function EO(t,e,n,r,i){let s=s$(n);if(typeof s=="function"){if(!aO(e,t,r))return r&Ne.Host?yO(i,n,r):_O(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Ne.Optional))Xb(n);else return o}finally{dO()}}else if(typeof s=="number"){let o=null,a=vO(t,e),l=wu,c=r&Ne.Host?e[Jr][br]:null;for((a===-1||r&Ne.SkipSelf)&&(l=a===-1?vI(t,e):e[a+8],l===wu||!BN(r,!1)?a=-1:(o=e[Ae],a=gv(l),e=mv(l,e)));a!==-1;){let u=e[Ae];if(jN(s,a,u.data)){let h=i$(a,e,n,o,r,c);if(h!==ss)return h}l=e[a+8],l!==wu&&BN(r,e[Ae].data[a+8]===c)&&jN(s,a,e)?(o=u,a=gv(l),e=mv(l,e)):a=-1}}return i}function i$(t,e,n,r,i,s){let o=e[Ae],a=o.data[t+8],l=r==null?Fv(a)&&ib:r!=o&&(a.type&3)!==0,c=i&Ne.Host&&s===a,u=sv(a,o,n,l,c);return u!==null?Ll(e,o,u,a):ss}function sv(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,h=r?a:a+u,f=i?a+u:c;for(let g=h;g<f;g++){let v=o[g];if(g<l&&n===v||g>=l&&v.type===n)return g}if(i){let g=o[l];if(g&&io(g)&&g.type===n)return l}return null}function Ll(t,e,n,r){let i=t[n],s=e.data;if(YW(i)){let o=i;o.resolving&&PH(NH(s[n]));let a=vv(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?yr(o.injectImpl):null,u=aO(t,r,Ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&QW(n,s[n],e)}finally{c!==null&&yr(c),vv(a),o.resolving=!1,dO()}}return i}function s$(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Bh)?t[Bh]:void 0;return typeof e=="number"?e>=0?e&gO:o$:e}function jN(t,e,n){let r=1<<t;return!!(n[e+(t>>mO)]&r)}function BN(t,e){return!(t&Ne.Self)&&!(t&Ne.Host&&e)}var Al=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wO(this._tNode,this._lView,e,Nv(r),n)}};function o$(){return new Al(Fn(),Me())}function Ma(t){return Yh(()=>{let e=t.prototype.constructor,n=e[lv]||ob(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[lv]||ob(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ob(t){return vP(t)?()=>{let e=ob(sr(t));return e&&e()}:Rl(t)}function a$(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ye]&2048&&!(o[ye]&512);){let a=EO(s,o,n,r|Ne.Self,ss);if(a!==ss)return a;let l=s.parent;if(!l){let c=o[HP];if(c){let u=c.get(n,ss,r);if(u!==ss)return u}l=bO(o),o=o[Ru]}s=l}return i}function bO(t){let e=t[Ae],n=e.type;return n===2?e.declTNode:n===1?t[br]:null}function yI(t){return r$(Fn(),t)}function HN(t,e=null,n=null,r){let i=IO(t,e,n,r);return i.resolveInjectorInitializers(),i}function IO(t,e=null,n=null,r,i=new Set){let s=[n||_r,iI(t)];return r=r||(typeof t=="object"?void 0:or(t)),new $h(s,e||oI(),r||null,i)}var Dl=class Dl{static create(e,n){if(Array.isArray(e))return HN({name:""},n,e,"");{let r=e.name??"";return HN({name:r},e.parent,e.providers,r)}}};Dl.THROW_IF_NOT_FOUND=Hh,Dl.NULL=new dv,Dl.\u0275prov=re({token:Dl,providedIn:"any",factory:()=>se(DP)}),Dl.__NG_ELEMENT_ID__=-1;var St=Dl;var l$=new ie("");l$.__NG_ELEMENT_ID__=t=>{let e=Fn();if(e===null)throw new ae(204,!1);if(e.type&2)return e.value;if(t&Ne.Optional)return null;throw new ae(204,!1)};var c$="ngOriginalError";function L1(t){return t[c$]}var CO=!0,TO=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=u$,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ab=class extends TO{constructor(e){super(),this._lView=e}onDestroy(e){return JP(this._lView,e),()=>MW(this._lView,e)}};function u$(){return new ab(Me())}var ka=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=re({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var lb=class extends vt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,EW()&&(this.destroyRef=X(TO,{optional:!0})??void 0,this.pendingTasks=X(ka,{optional:!0})??void 0)}emit(e){let n=Ze(null);try{super.next(e)}finally{Ze(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ut&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},je=lb;function _v(...t){}function DO(t){let e,n;function r(){t=_v;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function WN(t){return queueMicrotask(()=>t()),()=>{t=_v}}var _I="isAngularZone",wv=_I+"_ID",d$=0,xe=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=CO}=e;if(typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,p$(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_I)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ae(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,h$,_v,_v);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},h$={};function wI(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function f$(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){DO(()=>{t.callbackScheduled=!1,cb(t),t.isCheckStableRunning=!0,wI(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cb(t)}function p$(t){let e=()=>{f$(t)},n=d$++;t._inner=t._inner.fork({name:"angular",properties:{[_I]:!0,[wv]:n,[wv+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(g$(l))return r.invokeTask(s,o,a,l);try{return $N(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zN(t)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return $N(t),r.invoke(s,o,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!m$(l)&&e(),zN(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,cb(t),wI(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function cb(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $N(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zN(t){t._nesting--,wI(t)}var ub=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function g$(t){return SO(t,"__ignore_ng_zone__")}function m$(t){return SO(t,"__scheduler_tick__")}function SO(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var so=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&L1(e);for(;n&&L1(n);)n=L1(n);return n||null}},v$=new ie("",{providedIn:"root",factory:()=>{let t=X(xe),e=X(so);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function y$(){return ku(Fn(),Me())}function ku(t,e){return new jt(ei(t,e))}var jt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=y$;let t=e;return t})();function _$(t){return t instanceof jt?t.nativeElement:t}function w$(){return this._results[Symbol.iterator]()}var db=class t{get changes(){return this._changes??=new je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=w$)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=zH(e);(this._changesDetected=!$H(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function AO(t){return(t.flags&128)===128}var xO=new Map,E$=0;function b$(){return E$++}function I$(t){xO.set(t[Ov],t)}function hb(t){xO.delete(t[Ov])}var GN="__ngContext__";function Da(t,e){Ca(e)?(t[GN]=e[Ov],I$(e)):t[GN]=e}function RO(t){return kO(t[Gh])}function MO(t){return kO(t[Ni])}function kO(t){for(;t!==null&&!co(t);)t=t[Ni];return t}var fb;function NO(t){fb=t}function PO(){if(fb!==void 0)return fb;if(typeof document<"u")return document;throw new ae(210,!1)}var EI=new ie("",{providedIn:"root",factory:()=>C$}),C$="ng",bI=new ie(""),ti=new ie("",{providedIn:"platform",factory:()=>"unknown"});var II=new ie("",{providedIn:"root",factory:()=>PO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var T$="h",D$="b";var S$=()=>null;function CI(t,e,n=!1){return S$(t,e,n)}var OO=!1,A$=new ie("",{providedIn:"root",factory:()=>OO});var Ym;function x$(){if(Ym===void 0&&(Ym=null,no.trustedTypes))try{Ym=no.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ym}function $v(t){return x$()?.createHTML(t)||t}var Zm;function FO(){if(Zm===void 0&&(Zm=null,no.trustedTypes))try{Zm=no.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zm}function qN(t){return FO()?.createHTML(t)||t}function QN(t){return FO()?.createScriptURL(t)||t}var oo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gP})`}},pb=class extends oo{getTypeName(){return"HTML"}},gb=class extends oo{getTypeName(){return"Style"}},mb=class extends oo{getTypeName(){return"Script"}},vb=class extends oo{getTypeName(){return"URL"}},yb=class extends oo{getTypeName(){return"ResourceURL"}};function ni(t){return t instanceof oo?t.changingThisBreaksApplicationSecurity:t}function uo(t,e){let n=R$(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gP})`)}return n===e}function R$(t){return t instanceof oo&&t.getTypeName()||null}function LO(t){return new pb(t)}function VO(t){return new gb(t)}function UO(t){return new mb(t)}function jO(t){return new vb(t)}function BO(t){return new yb(t)}function M$(t){let e=new wb(t);return k$()?new _b(e):e}var _b=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString($v(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},wb=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=$v(e),n}};function k$(){try{return!!new window.DOMParser().parseFromString($v(""),"text/html")}catch{return!1}}var N$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zv(t){return t=String(t),t.match(N$)?t:"unsafe:"+t}function ho(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ef(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var HO=ho("area,br,col,hr,img,wbr"),WO=ho("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$O=ho("rp,rt"),P$=ef($O,WO),O$=ef(WO,ho("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),F$=ef($O,ho("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),KN=ef(HO,O$,F$,P$),zO=ho("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L$=ho("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),V$=ho("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),U$=ef(zO,L$,V$),j$=ho("script,style,template"),Eb=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=W$(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=H$(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=YN(e).toLowerCase();if(!KN.hasOwnProperty(n))return this.sanitizedSomething=!0,!j$.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!U$.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;zO[a]&&(l=zv(l)),this.buf.push(" ",o,'="',ZN(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=YN(e).toLowerCase();KN.hasOwnProperty(n)&&!HO.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(ZN(e))}};function B$(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function H$(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw GO(e);return e}function W$(t){let e=t.firstChild;if(e&&B$(t,e))throw GO(e);return e}function YN(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function GO(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var $$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,z$=/([^\#-~ |!])/g;function ZN(t){return t.replace(/&/g,"&amp;").replace($$,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(z$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Xm;function TI(t,e){let n=null;try{Xm=Xm||M$(t);let r=e?String(e):"";n=Xm.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Xm.getInertBodyElement(r)}while(r!==s);let a=new Eb().sanitizeChildren(XN(n)||n);return $v(a)}finally{if(n){let r=XN(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function XN(t){return"content"in t&&G$(t)?t.content:null}function G$(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Or||{});function DI(t){let e=SI();return e?qN(e.sanitize(Or.HTML,t)||""):uo(t,"HTML")?qN(ni(t)):TI(PO(),xl(t))}function Fr(t){let e=SI();return e?e.sanitize(Or.URL,t)||"":uo(t,"URL")?ni(t):zv(xl(t))}function q$(t){let e=SI();if(e)return QN(e.sanitize(Or.RESOURCE_URL,t)||"");if(uo(t,"ResourceURL"))return QN(ni(t));throw new ae(904,!1)}function Q$(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?q$:Fr}function qO(t,e,n){return Q$(e,n)(t)}function SI(){let t=Me();return t&&t[as].sanitizer}var K$=/^>|^->|<!--|-->|--!>|<!-$/g,Y$=/(<|>)/g,Z$="\u200B$1\u200B";function X$(t){return t.replace(K$,e=>e.replace(Y$,Z$))}function QO(t){return t instanceof Function?t():t}var cs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cs||{}),J$;function AI(t,e){return J$(t,e)}function yu(t,e,n,r,i){if(r!=null){let s,o=!1;co(r)?s=r:Ca(r)&&(o=!0,r=r[ds]);let a=ls(r);t===0&&n!==null?i==null?e3(e,n,a):Ev(e,n,a,i||null,!0):t===1&&n!==null?Ev(e,n,a,i||null,!0):t===2?fz(e,a,o):t===3&&e.destroyNode(a),s!=null&&gz(e,t,s,n,i)}}function ez(t,e){return t.createText(e)}function tz(t,e,n){t.setValue(e,n)}function nz(t,e){return t.createComment(X$(e))}function KO(t,e,n){return t.createElement(e,n)}function rz(t,e){YO(t,e),e[ds]=null,e[br]=null}function iz(t,e,n,r,i,s){r[ds]=i,r[br]=e,qv(t,r,n,1,i,s)}function YO(t,e){e[as].changeDetectionScheduler?.notify(9),qv(t,e,e[Dt],2,null,null)}function sz(t){let e=t[Gh];if(!e)return V1(t[Ae],t);for(;e;){let n=null;if(Ca(e))n=e[Gh];else{let r=e[Pr];r&&(n=r)}if(!n){for(;e&&!e[Ni]&&e!==t;)Ca(e)&&V1(e[Ae],e),e=e[Qn];e===null&&(e=t),Ca(e)&&V1(e[Ae],e),n=e&&e[Ni]}e=n}}function oz(t,e,n,r){let i=Pr+r,s=n.length;r>0&&(n[i-1][Ni]=e),r<s-Pr?(e[Ni]=n[i],TP(n,Pr+r,e)):(n.push(e),e[Ni]=null),e[Qn]=n;let o=e[kl];o!==null&&n!==o&&ZO(o,e);let a=e[ro];a!==null&&a.insertView(t),tb(e),e[ye]|=128}function ZO(t,e){let n=t[Tu],r=e[Qn];if(Ca(r))t[ye]|=pv.HasTransplantedViews;else{let i=r[Qn][Jr];e[Jr]!==i&&(t[ye]|=pv.HasTransplantedViews)}n===null?t[Tu]=[e]:n.push(e)}function xI(t,e){let n=t[Tu],r=n.indexOf(e);n.splice(r,1)}function bb(t,e){if(t.length<=Pr)return;let n=Pr+e,r=t[n];if(r){let i=r[kl];i!==null&&i!==t&&xI(i,r),e>0&&(t[n-1][Ni]=r[Ni]);let s=uv(t,Pr+e);rz(r[Ae],r);let o=s[ro];o!==null&&o.detachView(s[Ae]),r[Qn]=null,r[Ni]=null,r[ye]&=-129}return r}function XO(t,e){if(!(e[ye]&256)){let n=e[Dt];n.destroyNode&&qv(t,e,n,3,null,null),sz(e)}}function V1(t,e){if(e[ye]&256)return;let n=Ze(null);try{e[ye]&=-129,e[ye]|=256,e[Xr]&&a1(e[Xr]),lz(t,e),az(t,e),e[Ae].type===1&&e[Dt].destroy();let r=e[kl];if(r!==null&&co(e[Qn])){r!==e[Qn]&&xI(r,e);let i=e[ro];i!==null&&i.detachView(t)}hb(e)}finally{Ze(n)}}function az(t,e){let n=t.cleanup,r=e[hv];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[hv]=null);let i=e[Ia];if(i!==null){e[Ia]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function lz(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fl)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];is(4,a,l);try{l.call(a)}finally{is(5,a,l)}}else{is(4,i,s);try{s.call(i)}finally{is(5,i,s)}}}}}function JO(t,e,n){return cz(t,e.parent,n)}function cz(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ds];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===os.None||s===os.Emulated)return null}return ei(r,n)}}function Ev(t,e,n,r,i){t.insertBefore(e,n,r,i)}function e3(t,e,n){t.appendChild(e,n)}function JN(t,e,n,r,i){r!==null?Ev(t,e,n,r,i):e3(t,e,n)}function t3(t,e){return t.parentNode(e)}function uz(t,e){return t.nextSibling(e)}function n3(t,e,n){return hz(t,e,n)}function dz(t,e,n){return t.type&40?ei(t,n):null}var hz=dz,eP;function Gv(t,e,n,r){let i=JO(t,r,e),s=e[Dt],o=r.parent||e[br],a=n3(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)JN(s,i,n[l],a,!1);else JN(s,i,n,a,!1);eP!==void 0&&eP(s,r,e,n,i)}function Uh(t,e){if(e!==null){let n=e.type;if(n&3)return ei(e,t);if(n&4)return Ib(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uh(t,r);{let i=t[e.index];return co(i)?Ib(-1,i):ls(i)}}else{if(n&128)return Uh(t,e.next);if(n&32)return AI(e,t)()||ls(t[e.index]);{let r=r3(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Pl(t[Jr]);return Uh(i,r)}else return Uh(t,e.next)}}}return null}function r3(t,e){if(e!==null){let r=t[Jr][br],i=e.projection;return r.projection[i]}return null}function Ib(t,e){let n=Pr+t+1;if(n<e.length){let r=e[n],i=r[Ae].firstChild;if(i!==null)return Uh(r,i)}return e[Nl]}function fz(t,e,n){t.removeChild(null,e,n)}function RI(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Da(ls(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)RI(t,e,n.child,r,i,s,!1),yu(e,t,i,a,s);else if(l&32){let c=AI(n,r),u;for(;u=c();)yu(e,t,i,u,s);yu(e,t,i,a,s)}else l&16?i3(t,e,r,n,i,s):yu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qv(t,e,n,r,i,s){RI(n,r,t.firstChild,e,i,s,!1)}function pz(t,e,n){let r=e[Dt],i=JO(t,n,e),s=n.parent||e[br],o=n3(s,n,e);i3(r,0,e,n,i,o)}function i3(t,e,n,r,i,s){let o=n[Jr],l=o[br].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];yu(e,t,i,u,s)}else{let c=l,u=o[Qn];AO(r)&&(c.flags|=128),RI(t,e,c,u,i,s,!0)}}function gz(t,e,n,r,i){let s=n[Nl],o=ls(n);s!==o&&yu(e,t,r,s,i);for(let a=Pr;a<n.length;a++){let l=n[a];qv(l[Ae],l,t,e,r,s)}}function mz(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:cs.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cs.Important),t.setStyle(n,r,i,s))}}function vz(t,e,n){t.setAttribute(e,"style",n)}function s3(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function o3(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&K1(t,e,r),i!==null&&s3(t,e,i),s!==null&&vz(t,e,s)}var ri={};function P(t=1){a3(Nt(),Me(),Ra()+t,!1)}function a3(t,e,n,r){if(!r)if((e[ye]&3)===3){let s=t.preOrderCheckHooks;s!==null&&rv(e,s,n)}else{let s=t.preOrderHooks;s!==null&&iv(e,s,0,n)}Ol(n)}function U(t,e=Ne.Default){let n=Me();if(n===null)return se(t,e);let r=Fn();return wO(r,n,sr(t),e)}function l3(t,e,n,r,i,s){let o=Ze(null);try{let a=null;i&Ta.SignalBased&&(a=e[r][eo]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ta.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):WP(e,a,r,s)}finally{Ze(o)}}function yz(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ol(~i);else{let s=i,o=n[++r],a=n[++r];HW(o,s);let l=e[s];a(2,l)}}}finally{Ol(-1)}}function Qv(t,e,n,r,i,s,o,a,l,c,u){let h=e.blueprint.slice();return h[ds]=i,h[ye]=r|4|128|8|64,(c!==null||t&&t[ye]&2048)&&(h[ye]|=2048),ZP(h),h[Qn]=h[Ru]=t,h[Pi]=n,h[as]=o||t&&t[as],h[Dt]=a||t&&t[Dt],h[Cu]=l||t&&t[Cu]||null,h[br]=s,h[Ov]=b$(),h[zh]=u,h[HP]=c,h[Jr]=e.type==2?t[Jr]:h,h}function Nu(t,e,n,r,i){let s=t.data[e];if(s===null)s=_z(t,e,n,r,i),BW()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=LW();s.injectorIndex=o===null?-1:o.injectorIndex}return Bl(s,!0),s}function _z(t,e,n,r,i){let s=rO(),o=uI(),a=o?s:s&&s.parent,l=t.data[e]=Tz(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function c3(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function u3(t,e,n,r,i){let s=Ra(),o=r&2;try{Ol(-1),o&&e.length>Er&&a3(t,e,Er,!1),is(o?2:0,i),n(r,i)}finally{Ol(s),is(o?3:1,i)}}function MI(t,e,n){if(lI(e)){let r=Ze(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Ze(r)}}}function kI(t,e,n){tO()&&(Mz(t,e,n,ei(n,e)),(n.flags&64)===64&&f3(t,e,n))}function NI(t,e,n=ei){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function d3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=PI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function PI(t,e,n,r,i,s,o,a,l,c,u){let h=Er+r,f=h+i,g=wz(h,f),v=typeof c=="function"?c():c;return g[Ae]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function wz(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}function Ez(t,e,n,r){let s=r.get(A$,OO)||n===os.ShadowDom,o=t.selectRootElement(e,s);return bz(o),o}function bz(t){Iz(t)}var Iz=()=>null;function Cz(t,e,n,r){let i=m3(e);i.push(n),t.firstCreatePass&&v3(t).push(r,i.length-1)}function Tz(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tP(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Ta.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?nP(r,n,c,a,l):nP(r,n,c,a)}return r}function nP(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Dz(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let h=s[u],f=n?n.get(h):null,g=f?f.inputs:null,v=f?f.outputs:null;l=tP(0,h.inputs,u,l,g),c=tP(1,h.outputs,u,c,v);let b=l!==null&&o!==null&&!nI(e)?Hz(l,u,o):null;a.push(b)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function Sz(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Kv(t,e,n,r,i,s,o,a){let l=ei(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(FI(t,n,u,r,i),Fv(e)&&Az(n,e.index)):e.type&3?(r=Sz(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function Az(t,e){let n=xa(e,t);n[ye]&16||(n[ye]|=64)}function OI(t,e,n,r){if(tO()){let i=r===null?null:{"":-1},s=Nz(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&h3(t,e,n,o,i,a),i&&Pz(n,r,i)}n.mergedAttrs=Wh(n.mergedAttrs,n.attrs)}function h3(t,e,n,r,i,s){for(let c=0;c<r.length;c++)sb(yv(n,e),t,r[c].type);Fz(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=c3(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Wh(n.mergedAttrs,u.hostAttrs),Lz(t,n,e,l,u),Oz(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}Dz(t,n,s)}function xz(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Rz(o)!=a&&o.push(a),o.push(n,r,s)}}function Rz(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Mz(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Fv(n)&&Vz(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||yv(n,e),Da(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Ll(e,t,a,n);if(Da(c,e),o!==null&&Bz(e,a-i,c,l,n,o),io(l)){let u=xa(n.index,e);u[Pi]=Ll(e,t,a,n)}}}function f3(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=WW();try{Ol(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];nb(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&kz(l,c)}}finally{Ol(-1),nb(o)}}function kz(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Nz(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(MP(e,o.selectors,!1))if(r||(r=[]),io(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Cb(t,e,l)}else r.unshift(o),Cb(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Cb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Pz(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new ae(-301,!1);r.push(e[i],s)}}}function Oz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;io(e)&&(n[""]=t)}}function Fz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Lz(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Rl(i.type,!0)),o=new Fl(s,io(i),U);t.blueprint[r]=o,n[r]=o,xz(t,e,r,c3(t,n,i.hostVars,ri),i)}function Vz(t,e,n){let r=ei(e,t),i=d3(n),s=t[as].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Yv(t,Qv(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Uz(t,e,n,r,i,s){let o=ei(t,e);jz(e[Dt],o,s,t.value,n,r,i)}function jz(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?xl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Bz(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],h=o[a++];l3(r,n,l,c,u,h)}}function Hz(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function p3(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function g3(t,e){let n=t.contentQueries;if(n!==null){let r=Ze(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];pI(s),a.contentQueries(2,e[o],o)}}}finally{Ze(r)}}}function Yv(t,e){return t[Gh]?t[FN][Ni]=e:t[Gh]=e,t[FN]=e,e}function Tb(t,e,n){pI(0);let r=Ze(null);try{e(t,n)}finally{Ze(r)}}function m3(t){return t[hv]??=[]}function v3(t){return t.cleanup??=[]}function Wz(t,e,n){return(t===null||io(t))&&(n=SW(n[e.index])),n[Dt]}function y3(t,e){let n=t[Cu],r=n?n.get(so,null):null;r&&r.handleError(e)}function FI(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];l3(u,c,r,a,l,i)}}function _3(t,e,n){let r=QP(e,t);tz(t[Dt],r,n)}function $z(t,e){let n=xa(e,t),r=n[Ae];zz(r,n);let i=n[ds];i!==null&&n[zh]===null&&(n[zh]=CI(i,n[Cu])),LI(r,n,n[Pi])}function zz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function LI(t,e,n){gI(e);try{let r=t.viewQuery;r!==null&&Tb(1,r,n);let i=t.template;i!==null&&u3(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ro]?.finishViewCreation(t),t.staticContentQueries&&g3(t,e),t.staticViewQueries&&Tb(2,t.viewQuery,n);let s=t.components;s!==null&&Gz(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,mI()}}function Gz(t,e){for(let n=0;n<e.length;n++)$z(t,e[n])}function w3(t,e,n,r){let i=Ze(null);try{let s=e.tView,a=t[ye]&4096?4096:16,l=Qv(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[kl]=c;let u=t[ro];return u!==null&&(l[ro]=u.createEmbeddedView(s)),LI(s,l,n),l}finally{Ze(i)}}function Db(t,e){return!e||e.firstChild===null||AO(t)}function E3(t,e,n,r=!0){let i=e[Ae];if(oz(i,e,t,n),r){let o=Ib(n,t),a=e[Dt],l=t3(a,t[Nl]);l!==null&&iz(i,t[br],a,e,l,o)}let s=e[zh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function bv(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(ls(s)),co(s)&&qz(s,r);let o=n.type;if(o&8)bv(t,e,n.child,r);else if(o&32){let a=AI(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=r3(e,n);if(Array.isArray(a))r.push(...a);else{let l=Pl(e[Jr]);bv(l[Ae],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qz(t,e){for(let n=Pr;n<t.length;n++){let r=t[n],i=r[Ae].firstChild;i!==null&&bv(r[Ae],r,i,e)}t[Nl]!==t[ds]&&e.push(t[Nl])}var b3=[];function Qz(t){return t[Xr]??Kz(t)}function Kz(t){let e=b3.pop()??Object.create(Zz);return e.lView=t,e}function Yz(t){t.lView[Xr]!==t&&(t.lView=null,b3.push(t))}var Zz=he(q({},Oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Uv(t.lView)},consumerOnSignalRead(){this.lView[Xr]=this}});function Xz(t){let e=t[Xr]??Object.create(Jz);return e.lView=t,e}var Jz=he(q({},Oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Pl(t.lView);for(;e&&!I3(e[Ae]);)e=Pl(e);e&&XP(e)},consumerOnSignalRead(){this.lView[Xr]=this}});function I3(t){return t.type!==2}var eG=100;function C3(t,e=!0,n=0){let r=t[as],i=r.rendererFactory,s=!1;s||i.begin?.();try{tG(t,n)}catch(o){throw e&&y3(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function tG(t,e){let n=iO();try{VN(!0),Sb(t,e);let r=0;for(;Vv(t);){if(r===eG)throw new ae(103,!1);r++,Sb(t,1)}}finally{VN(n)}}function nG(t,e,n,r){let i=e[ye];if((i&256)===256)return;let s=!1,o=!1;!s&&e[as].inlineEffectRunner?.flush(),gI(e);let a=!0,l=null,c=null;s||(I3(t)?(c=Qz(e),l=ym(c)):B2()===null?(a=!1,c=Xz(e),l=ym(c)):e[Xr]&&(a1(e[Xr]),e[Xr]=null));try{ZP(e),jW(t.bindingStartIndex),n!==null&&u3(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let g=t.preOrderCheckHooks;g!==null&&rv(e,g,null)}else{let g=t.preOrderHooks;g!==null&&iv(e,g,0,null),P1(e,0)}if(o||rG(e),T3(e,0),t.contentQueries!==null&&g3(t,e),!s)if(u){let g=t.contentCheckHooks;g!==null&&rv(e,g)}else{let g=t.contentHooks;g!==null&&iv(e,g,1),P1(e,1)}yz(t,e);let h=t.components;h!==null&&S3(e,h,0);let f=t.viewQuery;if(f!==null&&Tb(2,f,r),!s)if(u){let g=t.viewCheckHooks;g!==null&&rv(e,g)}else{let g=t.viewHooks;g!==null&&iv(e,g,2),P1(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[N1]){for(let g of e[N1])g();e[N1]=null}s||(e[ye]&=-73)}catch(u){throw s||Uv(e),u}finally{c!==null&&(s1(c,l),a&&Yz(c)),mI()}}function T3(t,e){for(let n=RO(t);n!==null;n=MO(n))for(let r=Pr;r<n.length;r++){let i=n[r];D3(i,e)}}function rG(t){for(let e=RO(t);e!==null;e=MO(e)){if(!(e[ye]&pv.HasTransplantedViews))continue;let n=e[Tu];for(let r=0;r<n.length;r++){let i=n[r];XP(i)}}}function iG(t,e,n){let r=xa(e,t);D3(r,n)}function D3(t,e){cI(t)&&Sb(t,e)}function Sb(t,e){let r=t[Ae],i=t[ye],s=t[Xr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&o1(s)),o||=!1,s&&(s.dirty=!1),t[ye]&=-9217,o)nG(r,t,r.template,t[Pi]);else if(i&8192){T3(t,1);let a=r.components;a!==null&&S3(t,a,1)}}function S3(t,e,n){for(let r=0;r<e.length;r++)iG(t,e[r],n)}function VI(t,e){let n=iO()?64:1088;for(t[as].changeDetectionScheduler?.notify(e);t;){t[ye]|=n;let r=Pl(t);if(J1(t)&&!r)return t;t=r}return null}var Vl=class{get rootNodes(){let e=this._lView,n=e[Ae];return bv(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pi]}set context(e){this._lView[Pi]=e}get destroyed(){return(this._lView[ye]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qn];if(co(e)){let n=e[fv],r=n?n.indexOf(this):-1;r>-1&&(bb(e,r),uv(n,r))}this._attachedToViewContainer=!1}XO(this._lView[Ae],this._lView)}onDestroy(e){JP(this._lView,e)}markForCheck(){VI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ye]&=-129}reattach(){tb(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,C3(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=J1(this._lView),n=this._lView[kl];n!==null&&!e&&xI(n,this._lView),YO(this._lView[Ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e;let n=J1(this._lView),r=this._lView[kl];r!==null&&!n&&ZO(r,this._lView),tb(this._lView)}},Ul=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aG;let t=e;return t})(),sG=Ul,oG=class extends sG{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=w3(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Vl(i)}};function aG(){return Zv(Fn(),Me())}function Zv(t,e){return t.type&4?new oG(e,t,ku(t,e)):null}var aEe=new RegExp(`^(\\d+)*(${D$}|${T$})*(.*)`);var lG=()=>null;function Ab(t,e){return lG(t,e)}var Su=class{},UI=new ie("",{providedIn:"root",factory:()=>!1});var A3=new ie(""),x3=new ie(""),xb=class{},Iv=class{};function cG(t){let e=Error(`No component factory found for ${or(t)}.`);return e[uG]=t,e}var uG="ngComponent";var Rb=class{resolveComponentFactory(e){throw cG(e)}},KI=class KI{};KI.NULL=new Rb;var Sa=KI,Au=class{},Ir=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>dG();let t=e;return t})();function dG(){let t=Me(),e=Fn(),n=xa(e.index,t);return(Ca(n)?n:t)[Dt]}var hG=(()=>{let e=class e{};e.\u0275prov=re({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Cv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=z1(i,a);else if(s==2){let l=a,c=e[++o];r=z1(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Tv=class extends Sa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ml(e);return new qh(n,this.ngModule)}};function rP(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ta.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ta.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function fG(t){let e=t.toLowerCase();return e==="svg"?qP:e==="math"?DW:null}var qh=class extends Iv{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rP(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rP(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=oW(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ze(null);try{i=i||this.ngModule;let o=i instanceof wr?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new rb(e,o):e,l=a.get(Au,null);if(l===null)throw new ae(407,!1);let c=a.get(hG,null),u=a.get(Su,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},f=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=r?Ez(f,r,this.componentDef.encapsulation,a):KO(f,g,fG(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let _=null;v!==null&&(_=CI(v,a,!0));let x=PI(0,null,null,1,0,null,null,null,null,null,null),F=Qv(null,x,null,b,null,null,h,f,a,null,_);gI(F);let W,I,te=null;try{let B=this.componentDef,A,E=null;B.findHostDirectiveDefs?(A=[],E=new Map,B.findHostDirectiveDefs(B,A,E),A.push(B)):A=[B];let D=pG(F,v);te=gG(D,v,B,A,F,h,f),I=KP(x,Er),v&&yG(f,B,v,r),n!==void 0&&_G(I,this.ngContentSelectors,n),W=vG(te,B,A,E,F,[wG]),LI(x,F,null)}catch(B){throw te!==null&&hb(te),hb(F),B}finally{mI()}return new Mb(this.componentType,W,ku(I,F),F,I)}finally{Ze(s)}}},Mb=class extends xb{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vl(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;FI(s[Ae],s,i,e,n),this.previousInputValues.set(e,n);let o=xa(this._tNode.index,s);VI(o,1)}}get injector(){return new Al(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pG(t,e){let n=t[Ae],r=Er;return t[r]=e,Nu(n,r,2,"#host",null)}function gG(t,e,n,r,i,s,o){let a=i[Ae];mG(r,t,e,o);let l=null;e!==null&&(l=CI(e,i[Cu]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let h=Qv(i,d3(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Cb(a,t,r.length-1),Yv(i,h),i[t.index]=h}function mG(t,e,n,r){for(let i of t)e.mergedAttrs=Wh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Cv(e,e.mergedAttrs,!0),n!==null&&o3(r,n,e))}function vG(t,e,n,r,i,s){let o=Fn(),a=i[Ae],l=ei(o,i);h3(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let h=o.directiveStart+u,f=Ll(i,a,h,o);Da(f,i)}f3(a,i,o),l&&Da(l,i);let c=Ll(i,a,o.directiveStart+o.componentOffset,o);if(t[Pi]=i[Pi]=c,s!==null)for(let u of s)u(c,e);return MI(a,o,i),c}function yG(t,e,n,r){if(r)K1(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=aW(e.selectors[0]);i&&K1(t,n,i),s&&s.length>0&&s3(t,n,s.join(" "))}}function _G(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function wG(){let t=Fn();Wv(Me()[Ae],t)}var fo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EG;let t=e;return t})();function EG(){let t=Fn();return M3(t,Me())}var bG=fo,R3=class extends bG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new Al(this._hostTNode,this._hostLView)}get parentInjector(){let e=vI(this._hostTNode,this._hostLView);if(pO(e)){let n=mv(e,this._hostLView),r=gv(e),i=n[Ae].data[r+8];return new Al(i,n)}else return new Al(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iP(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ab(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Db(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!bW(e),a;if(o)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?e:new qh(Ml(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let b=(o?c:this.parentInjector).get(wr,null);b&&(s=b)}let u=Ml(l.componentType??{}),h=Ab(this._lContainer,u?.id??null),f=h?.firstChild??null,g=l.create(c,i,f,s);return this.insertImpl(g.hostView,a,Db(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xW(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Qn],c=new R3(l,l[br],l[Qn]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return E3(o,i,s,r),e.attachToViewContainerRef(),TP(U1(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iP(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bb(this._lContainer,n);r&&(uv(U1(this._lContainer),n),XO(r[Ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=bb(this._lContainer,n);return r&&uv(U1(this._lContainer),n)!=null?new Vl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iP(t){return t[fv]}function U1(t){return t[fv]||(t[fv]=[])}function M3(t,e){let n,r=e[t.index];return co(r)?n=r:(n=p3(r,e,null,t),e[t.index]=n,Yv(e,n)),CG(n,e,t,r),new R3(n,t,e)}function IG(t,e){let n=t[Dt],r=n.createComment(""),i=ei(e,t),s=t3(n,i);return Ev(n,s,r,uz(n,i),!1),r}var CG=SG,TG=()=>!1;function DG(t,e,n){return TG(t,e,n)}function SG(t,e,n,r){if(t[Nl])return;let i;n.type&8?i=ls(r):i=IG(e,n),t[Nl]=i}var kb=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Nb=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)jI(e,n).matches!==null&&this.queries[n].setDirty()}},Dv=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=OG(e):this.predicate=e}},Pb=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ob=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,AG(n,s)),this.matchTNodeWithReadOption(e,n,sv(n,e,s,!1,!1))}else r===Ul?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,sv(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===jt||i===fo||i===Ul&&n.type&4)this.addMatch(n.index,-2);else{let s=sv(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function AG(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function xG(t,e){return t.type&11?ku(t,e):t.type&4?Zv(t,e):null}function RG(t,e,n,r){return n===-1?xG(e,t):n===-2?MG(t,e,r):Ll(t,t[Ae],n,e)}function MG(t,e,n){if(n===jt)return ku(e,t);if(n===Ul)return Zv(e,t);if(n===fo)return M3(e,t)}function k3(t,e,n,r){let i=e[ro].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(RG(e,u,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Fb(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=k3(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let h=Pr;h<u.length;h++){let f=u[h];f[kl]===f[Qn]&&Fb(f[Ae],f,c,r)}if(u[Tu]!==null){let h=u[Tu];for(let f=0;f<h.length;f++){let g=h[f];Fb(g[Ae],g,c,r)}}}}}return r}function kG(t,e){return t[ro].queries[e].queryList}function N3(t,e,n){let r=new db((n&4)===4);return Cz(t,e,r,r.destroy),(e[ro]??=new Nb).queries.push(new kb(r))-1}function NG(t,e,n){let r=Nt();return r.firstCreatePass&&(P3(r,new Dv(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),N3(r,Me(),e)}function PG(t,e,n,r){let i=Nt();if(i.firstCreatePass){let s=Fn();P3(i,new Dv(e,n,r),s.index),FG(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return N3(i,Me(),n)}function OG(t){return t.split(",").map(e=>e.trim())}function P3(t,e,n){t.queries===null&&(t.queries=new Pb),t.queries.track(new Ob(e,n))}function FG(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function jI(t,e){return t.queries.getByIndex(e)}function LG(t,e){let n=t[Ae],r=jI(n,e);return r.crossesNgTemplate?Fb(n,t,e,[]):k3(n,t,r,e)}var sP=new Set;function Pu(t){sP.has(t)||(sP.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function VG(t){return typeof t=="function"&&t[eo]!==void 0}function ii(t,e){Pu("NgSignals");let n=X2(t),r=n[eo];return e?.equal&&(r.equal=e.equal),n.set=i=>l1(r,i),n.update=i=>J2(r,i),n.asReadonly=UG.bind(n),n}function UG(){let t=this[eo];if(t.readonlyFn===void 0){let e=()=>this();e[eo]=t,t.readonlyFn=e}return t.readonlyFn}function O3(t){return VG(t)&&typeof t.set=="function"}function jG(t){return Object.getPrototypeOf(t.prototype).constructor}function Fi(t){let e=jG(t.type),n=!0,r=[t];for(;e;){let i;if(io(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Jm(t.inputs),o.inputTransforms=Jm(t.inputTransforms),o.declaredInputs=Jm(t.declaredInputs),o.outputs=Jm(t.outputs);let a=i.hostBindings;a&&zG(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&WG(t,l),c&&$G(t,c),BG(t,i),TH(t.outputs,i.outputs),io(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Fi&&(n=!1)}}e=Object.getPrototypeOf(e)}HG(r)}function BG(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function HG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wh(i.hostAttrs,n=Wh(n,i.hostAttrs))}}function Jm(t){return t===Eu?{}:t===_r?[]:t}function WG(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function $G(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function zG(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function BI(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Aa=class{},Qh=class{};var Lb=class extends Aa{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tv(this);let s=OP(e);this._bootstrapComponents=QO(s.bootstrap),this._r3Injector=IO(e,n,[{provide:Aa,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver},...r],or(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vb=class extends Qh{constructor(e){super(),this.moduleType=e}create(e){return new Lb(this.moduleType,e,[])}};var Sv=class extends Aa{constructor(e){super(),this.componentFactoryResolver=new Tv(this),this.instance=null;let n=new $h([...e.providers,{provide:Aa,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],e.parent||oI(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function HI(t,e,n=null){return new Sv({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function F3(t){return WI(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function GG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function WI(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function L3(t,e,n){return t[e]=n}function us(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function V3(t,e,n,r){let i=us(t,e,n);return us(t,e+1,r)||i}function qG(t){return(t.flags&32)===32}function QG(t,e,n,r,i,s,o,a,l){let c=e.consts,u=Nu(e,t,4,o||null,a||null);OI(e,n,u,Du(c,l)),Wv(e,u);let h=u.tView=PI(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function U3(t,e,n,r,i,s,o,a,l,c){let u=n+Er,h=e.firstCreatePass?QG(u,e,t,r,i,s,o,a,l):e.data[u];Bl(h,!1);let f=KG(e,t,h,n);Bv()&&Gv(e,t,f,h),Da(f,t);let g=p3(f,t,f,h);return t[u]=g,Yv(t,g),DG(g,h,t),Lv(h)&&kI(e,t,h),l!=null&&NI(t,h,c),h}function de(t,e,n,r,i,s,o,a){let l=Me(),c=Nt(),u=Du(c.consts,s);return U3(l,c,t,e,n,r,i,u,o,a),de}var KG=YG;function YG(t,e,n,r){return Hv(!0),e[Dt].createComment("")}var jh=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(jh||{}),ZG=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=re({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Sl=class Sl{constructor(){this.ngZone=X(xe),this.scheduler=X(Su),this.errorHandler=X(so,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Sl.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Sl.PHASES=[jh.EarlyRead,jh.Write,jh.MixedReadWrite,jh.Read],Sl.\u0275prov=re({token:Sl,providedIn:"root",factory:()=>new Sl});var oP=Sl;function Cr(t,e,n,r){let i=Me(),s=Xh();if(us(i,s,e)){let o=Nt(),a=Jh();Uz(a,i,t,e,n,r)}return Cr}function j3(t,e,n,r){return us(t,Xh(),n)?e+xl(n)+r:ri}function XG(t,e,n,r,i,s){let o=UW(),a=V3(t,o,n,i);return fI(2),a?e+xl(n)+r+xl(i)+s:ri}function ev(t,e){return t<<17|e<<2}function jl(t){return t>>17&32767}function JG(t){return(t&2)==2}function eq(t,e){return t&131071|e<<17}function Ub(t){return t|2}function xu(t){return(t&131068)>>2}function j1(t,e){return t&-131069|e<<2}function tq(t){return(t&1)===1}function jb(t){return t|1}function nq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=jl(o),l=xu(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||Zh(h,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=jl(t[a+1]);t[r+1]=ev(f,a),f!==0&&(t[f+1]=j1(t[f+1],r)),t[a+1]=eq(t[a+1],r)}else t[r+1]=ev(a,0),a!==0&&(t[a+1]=j1(t[a+1],r)),a=r;else t[r+1]=ev(l,0),a===0?a=r:t[l+1]=j1(t[l+1],r),l=r;c&&(t[r+1]=Ub(t[r+1])),aP(t,u,r,!0),aP(t,u,r,!1),rq(e,u,t,r,s),o=ev(a,l),s?e.classBindings=o:e.styleBindings=o}function rq(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zh(s,e)>=0&&(n[r+1]=jb(n[r+1]))}function aP(t,e,n,r){let i=t[n+1],s=e===null,o=r?jl(i):xu(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];iq(l,e)&&(a=!0,t[o+1]=r?jb(c):Ub(c)),o=r?jl(c):xu(c)}a&&(t[n+1]=r?Ub(i):jb(i))}function iq(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zh(t,e)>=0:!1}var ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sq(t){return t.substring(ki.key,ki.keyEnd)}function oq(t){return aq(t),B3(t,H3(t,0,ki.textEnd))}function B3(t,e){let n=ki.textEnd;return n===e?-1:(e=ki.keyEnd=lq(t,ki.key=e,n),H3(t,e,n))}function aq(t){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=t.length}function H3(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lq(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function G(t,e,n){let r=Me(),i=Xh();if(us(r,i,e)){let s=Nt(),o=Jh();Kv(s,o,r,t,e,r[Dt],n,!1)}return G}function Bb(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";FI(t,n,s[o],o,r)}function Hl(t,e,n){return W3(t,e,n,!1),Hl}function tf(t,e){return W3(t,e,null,!0),tf}function po(t){uq(mq,cq,t,!0)}function cq(t,e){for(let n=oq(e);n>=0;n=B3(e,n))tI(t,sq(e),!0)}function W3(t,e,n,r){let i=Me(),s=Nt(),o=fI(2);if(s.firstUpdatePass&&z3(s,t,o,r),e!==ri&&us(i,o,e)){let a=s.data[Ra()];G3(s,a,i,i[Dt],t,i[o+1]=yq(e,n),r,o)}}function uq(t,e,n,r){let i=Nt(),s=fI(2);i.firstUpdatePass&&z3(i,null,s,r);let o=Me();if(n!==ri&&us(o,s,n)){let a=i.data[Ra()];if(q3(a,r)&&!$3(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=z1(l,n||"")),Bb(i,a,o,n,r)}else vq(i,a,o,o[Dt],o[s+1],o[s+1]=gq(t,e,n),r,s)}}function $3(t,e){return e>=t.expandoStartIndex}function z3(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ra()],o=$3(t,n);q3(s,r)&&e===null&&!o&&(e=!1),e=dq(i,s,e,r),nq(i,s,e,n,o,r)}}function dq(t,e,n,r){let i=sO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=B1(null,t,e,n,r),n=Kh(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=B1(i,t,e,n,r),s===null){let l=hq(t,e,r);l!==void 0&&Array.isArray(l)&&(l=B1(null,t,e,l[1],r),l=Kh(l,e.attrs,r),fq(t,e,r,l))}else s=pq(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function hq(t,e,n){let r=n?e.classBindings:e.styleBindings;if(xu(r)!==0)return t[jl(r)]}function fq(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jl(i)]=r}function pq(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Kh(r,o,n)}return Kh(r,e.attrs,n)}function B1(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Kh(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Kh(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tI(t,o,n?!0:e[++s]))}return t===void 0?null:t}function gq(t,e,n){if(n==null||n==="")return _r;let r=[],i=ni(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function mq(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&tI(t,r,n)}function vq(t,e,n,r,i,s,o,a){i===ri&&(i=_r);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=l<i.length?i[l+1]:void 0,g=c<s.length?s[c+1]:void 0,v=null,b;u===h?(l+=2,c+=2,f!==g&&(v=h,b=g)):h===null||u!==null&&u<h?(l+=2,v=u):(c+=2,v=h,b=g),v!==null&&G3(t,e,n,r,v,b,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}function G3(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=tq(c)?lP(l,e,n,i,xu(c),o):void 0;if(!Av(u)){Av(s)||JG(c)&&(s=lP(l,null,n,i,a,o));let h=QP(Ra(),n);mz(r,o,h,i,s)}}function lP(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,h=u===null,f=n[i+1];f===ri&&(f=h?_r:void 0);let g=h?M1(f,r):u===r?f:void 0;if(c&&!Av(g)&&(g=M1(l,r)),Av(g)&&(a=g,o))return a;let v=t[i+1];i=o?jl(v):xu(v)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=M1(l,r))}return a}function Av(t){return t!==void 0}function yq(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=or(ni(t)))),t}function q3(t,e){return(t.flags&(e?8:16))!==0}function _q(t,e,n,r,i,s){let o=e.consts,a=Du(o,i),l=Nu(e,t,2,r,a);return OI(e,n,l,Du(o,s)),l.attrs!==null&&Cv(l,l.attrs,!1),l.mergedAttrs!==null&&Cv(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function C(t,e,n,r){let i=Me(),s=Nt(),o=Er+t,a=i[Dt],l=s.firstCreatePass?_q(o,s,i,e,n,r):s.data[o],c=wq(s,i,l,a,e,t);i[o]=c;let u=Lv(l);return Bl(l,!0),o3(a,c,l),!qG(l)&&Bv()&&Gv(s,i,c,l),kW()===0&&Da(c,i),NW(),u&&(kI(s,i,l),MI(s,l,i)),r!==null&&NI(i,l),C}function T(){let t=Fn();uI()?dI():(t=t.parent,Bl(t,!1));let e=t;OW(e)&&FW(),PW();let n=Nt();return n.firstCreatePass&&(Wv(n,t),lI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ZW(e)&&Bb(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&XW(e)&&Bb(n,e,Me(),e.stylesWithoutHost,!1),T}function $(t,e,n,r){return C(t,e,n,r),T(),$}var wq=(t,e,n,r,i,s)=>(Hv(!0),KO(r,i,qW()));function Eq(t,e,n,r,i){let s=e.consts,o=Du(s,r),a=Nu(e,t,8,"ng-container",o);o!==null&&Cv(a,o,!0);let l=Du(s,i);return OI(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Ou(t,e,n){let r=Me(),i=Nt(),s=t+Er,o=i.firstCreatePass?Eq(s,i,r,e,n):i.data[s];Bl(o,!0);let a=bq(i,r,o,t);return r[s]=a,Bv()&&Gv(i,r,a,o),Da(a,r),Lv(o)&&(kI(i,r,o),MI(i,o,r)),n!=null&&NI(r,o),Ou}function Fu(){let t=Fn(),e=Nt();return uI()?dI():(t=t.parent,Bl(t,!1)),e.firstCreatePass&&(Wv(e,t),lI(t)&&e.queries.elementEnd(t)),Fu}function Na(t,e,n){return Ou(t,e,n),Fu(),Na}var bq=(t,e,n,r)=>(Hv(!0),nz(e[Dt],""));function Je(){return Me()}function $I(t,e,n){let r=Me(),i=Xh();if(us(r,i,e)){let s=Nt(),o=Jh(),a=sO(s.data),l=Wz(a,o,r);Kv(s,o,r,t,e,l,n,!0)}return $I}var Tl=void 0;function Iq(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Cq=["en",[["a","p"],["AM","PM"],Tl],[["AM","PM"],Tl,Tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tl,"{1} 'at' {0}",Tl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Iq],H1={};function si(t){let e=Tq(t),n=cP(e);if(n)return n;let r=e.split("-")[0];if(n=cP(r),n)return n;if(r==="en")return Cq;throw new ae(701,!1)}function cP(t){return t in H1||(H1[t]=no.ng&&no.ng.common&&no.ng.common.locales&&no.ng.common.locales[t]),H1[t]}var qt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qt||{});function Tq(t){return t.toLowerCase().replace(/_/g,"-")}var xv="en-US";var Dq=xv;function Sq(t){typeof t=="string"&&(Dq=t.toLowerCase().replace(/_/g,"-"))}var Aq=(t,e,n)=>{};function Y(t,e,n,r){let i=Me(),s=Nt(),o=Fn();return Q3(s,i,i[Dt],o,t,e,r),Y}function xq(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[hv],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function Q3(t,e,n,r,i,s,o){let a=Lv(r),c=t.firstCreatePass&&v3(t),u=e[Pi],h=m3(e),f=!0;if(r.type&3||o){let b=ei(r,e),_=o?o(b):b,x=h.length,F=o?I=>o(ls(I[r.index])):r.index,W=null;if(!o&&a&&(W=xq(t,e,i,r.index)),W!==null){let I=W.__ngLastListenerFn__||W;I.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,f=!1}else{s=dP(r,e,u,s),Aq(b,i,s);let I=n.listen(_,i,s);h.push(s,I),c&&c.push(i,F,x,x+1)}}else s=dP(r,e,u,s);let g=r.outputs,v;if(f&&g!==null&&(v=g[i])){let b=v.length;if(b)for(let _=0;_<b;_+=2){let x=v[_],F=v[_+1],te=e[x][F].subscribe(s),B=h.length;h.push(s,te),c&&c.push(i,r.index,B,-(B+1))}}}function uP(t,e,n,r){let i=Ze(null);try{return is(6,e,n),n(r)!==!1}catch(s){return y3(t,s),!1}finally{is(7,e,n),Ze(i)}}function dP(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?xa(t.index,e):e;VI(o,5);let a=uP(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=uP(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function H(t=1){return zW(t)}function Rq(t,e){let n=null,r=tW(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?MP(t,s,!0):iW(r,s))return i}return n}function K3(t){let e=Me()[Jr][br];if(!e.projection){let n=t?t.length:1,r=e.projection=GH(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?Rq(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Y3(t,e=0,n,r,i,s){let o=Me(),a=Nt(),l=r?t+1:null;l!==null&&U3(o,a,l,r,i,s,null,n);let c=Nu(a,Er+t,16,null,n||null);c.projection===null&&(c.projection=e),dI();let h=!o[zh]||nO();o[Jr][br].projection[c.projection]===null&&l!==null?Mq(o,a,l):h&&(c.flags&32)!==32&&pz(a,o,c)}function Mq(t,e,n){let r=Er+n,i=e.data[r],s=t[r],o=Ab(s,i.tView.ssrId),a=w3(t,i,void 0,{dehydratedView:o});E3(s,a,0,Db(i,o))}function Wl(t,e,n){return Xv(t,"",e,"",n),Wl}function Xv(t,e,n,r,i){let s=Me(),o=j3(s,e,n,r);if(o!==ri){let a=Nt(),l=Jh();Kv(a,l,s,t,o,s[Dt],i,!1)}return Xv}function Tn(t,e,n,r){PG(t,e,n,r)}function Lu(t,e,n){NG(t,e,n)}function Pt(t){let e=Me(),n=Nt(),r=oO();pI(r+1);let i=jI(n,r);if(t.dirty&&AW(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=LG(e,r);t.reset(s,_$),t.notifyOnChanges()}return!0}return!1}function Ot(){return kG(Me(),oO())}function kq(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function zI(t){let e=VW();return YP(e,Er+t)}function O(t,e=""){let n=Me(),r=Nt(),i=t+Er,s=r.firstCreatePass?Nu(r,i,1,e,null):r.data[i],o=Nq(r,n,s,e,t);n[i]=o,Bv()&&Gv(r,n,o,s),Bl(s,!1)}var Nq=(t,e,n,r,i)=>(Hv(!0),ez(e[Dt],r));function Pe(t){return _e("",t,""),Pe}function _e(t,e,n){let r=Me(),i=j3(r,t,e,n);return i!==ri&&_3(r,Ra(),i),_e}function Pa(t,e,n,r,i){let s=Me(),o=XG(s,t,e,n,r,i);return o!==ri&&_3(s,Ra(),o),Pa}function Ln(t,e,n){O3(e)&&(e=e());let r=Me(),i=Xh();if(us(r,i,e)){let s=Nt(),o=Jh();Kv(s,o,r,t,e,r[Dt],n,!1)}return Ln}function Zn(t,e){let n=O3(t);return n&&t.set(e),n}function Vn(t,e){let n=Me(),r=Nt(),i=Fn();return Q3(r,n,n[Dt],i,t,e),Vn}function Pq(t,e,n){let r=Nt();if(r.firstCreatePass){let i=io(t);Hb(n,r.data,r.blueprint,i,!0),Hb(e,r.data,r.blueprint,i,!1)}}function Hb(t,e,n,r,i){if(t=sr(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hb(t[s],e,n,r,i);else{let s=Nt(),o=Me(),a=Fn(),l=Iu(t)?t:sr(t.provide),c=BP(t),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(Iu(t)||!t.multi){let g=new Fl(c,i,U),v=$1(l,e,i?u:u+f,h);v===-1?(sb(yv(a,o),s,l),W1(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[v]=g,o[v]=g)}else{let g=$1(l,e,u+f,h),v=$1(l,e,u,u+f),b=g>=0&&n[g],_=v>=0&&n[v];if(i&&!_||!i&&!b){sb(yv(a,o),s,l);let x=Lq(i?Fq:Oq,n.length,i,r,c);!i&&_&&(n[v].providerFactory=x),W1(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else{let x=Z3(n[i?v:g],c,!i&&r);W1(s,t,g>-1?g:v,x)}!i&&r&&_&&n[v].componentProviders++}}}function W1(t,e,n,r){let i=Iu(e),s=pW(e);if(i||s){let l=(s?sr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Z3(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $1(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Oq(t,e,n,r){return Wb(this.multi,[])}function Fq(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ll(n,n[Ae],this.providerFactory.index,r);s=a.slice(0,o),Wb(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Wb(i,s);return s}function Wb(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Lq(t,e,n,r,i){let s=new Fl(t,n,U);return s.multi=[],s.index=e,s.componentProviders=0,Z3(s,i,r&&!n),s}function Li(t,e=[]){return n=>{n.providersResolver=(r,i)=>Pq(r,i?i(t):t,e)}}var Vq=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=VP(!1,r.type),s=i.length>0?HI([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=re({token:e,providedIn:"environment",factory:()=>new e(se(wr))});let t=e;return t})();function Ce(t){Pu("NgStandalone"),t.getStandaloneInjector=e=>e.get(Vq).getOrCreateStandaloneInjector(t)}function go(t,e,n,r){return Uq(Me(),hI(),t,e,n,r)}function Jv(t,e,n,r,i){return J3(Me(),hI(),t,e,n,r,i)}function X3(t,e){let n=t[e];return n===ri?void 0:n}function Uq(t,e,n,r,i,s){let o=e+n;return us(t,o,i)?L3(t,o+1,s?r.call(s,i):r(i)):X3(t,o+1)}function J3(t,e,n,r,i,s,o){let a=e+n;return V3(t,a,i,s)?L3(t,a+2,o?r.call(o,i,s):r(i,s)):X3(t,a+2)}function nf(t,e){let n=Nt(),r,i=t+Er;n.firstCreatePass?(r=jq(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Rl(r.type,!0)),o,a=yr(U);try{let l=vv(!1),c=s();return vv(l),kq(n,Me(),i,c),c}finally{yr(a)}}function jq(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function rf(t,e,n,r){let i=t+Er,s=Me(),o=YP(s,i);return Bq(s,i)?J3(s,hI(),e,o.transform,n,r,o):o.transform(n,r)}function Bq(t,e){return t[Ae].data[e].pure}function ey(t,e){return Zv(t,e)}var ao=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eF=new ao("18.2.4");var ty=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tF=new ie("");function $l(t){return!!t&&typeof t.then=="function"}function nF(t){return!!t&&typeof t.subscribe=="function"}var ny=new ie(""),rF=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=X(ny,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if($l(o))r.push(o);else if(nF(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ry=new ie("");function Hq(){Z2(()=>{throw new ae(600,!1)})}function Wq(t){return t.isBoundToModule}var $q=10;function zq(t,e,n){try{let r=n();return $l(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var oi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(v$),this.afterRenderManager=X(ZG),this.zonelessEnabled=X(UI),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new vt,this.afterTick=new vt,this.componentTypes=[],this.components=[],this.isStable=X(ka).hasPendingTasks.pipe(ue(r=>!r)),this._injector=X(wr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Iv;if(!this._injector.get(rF).done){let g=!s&&PP(r),v=!1;throw new ae(405,v)}let a;s?a=r:a=this._injector.get(Sa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=Wq(a)?void 0:this._injector.get(Aa),c=i||a.selector,u=a.create(St.NULL,[],c,l),h=u.location.nativeElement,f=u.injector.get(tF,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),ov(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ae(101,!1);let r=Ze(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ze(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Au,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<$q;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)Gq(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Vv(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ov(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ry,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ov(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ae(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ov(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gq(t,e,n,r){if(!n&&!Vv(t))return;C3(t,e,n&&!r?0:1)}var $b=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},GI=(()=>{let e=class e{compileModuleSync(r){return new Vb(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=OP(r),o=QO(s.declarations).reduce((a,l)=>{let c=Ml(l);return c&&a.push(new qh(c)),a},[]);return new $b(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qq=(()=>{let e=class e{constructor(){this.zone=X(xe),this.changeDetectionScheduler=X(Su),this.applicationRef=X(oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qq=new ie("",{factory:()=>!1});function iF({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new xe(he(q({},oF()),{scheduleInRootZone:n})),[{provide:xe,useFactory:t},{provide:bu,multi:!0,useFactory:()=>{let r=X(qq,{optional:!0});return()=>r.initialize()}},{provide:bu,multi:!0,useFactory:()=>{let r=X(Kq);return()=>{r.initialize()}}},e===!0?{provide:A3,useValue:!0}:[],{provide:x3,useValue:n??CO}]}function sF(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=iF({ngZoneFactory:()=>{let i=oF(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Pu("NgZone_CoalesceEvent"),new xe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return en([{provide:Qq,useValue:!0},{provide:UI,useValue:!1},r])}function oF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Kq=(()=>{let e=class e{constructor(){this.subscription=new Ut,this.initialized=!1,this.zone=X(xe),this.pendingTasks=X(ka)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yq=(()=>{let e=class e{constructor(){this.appRef=X(oi),this.taskService=X(ka),this.ngZone=X(xe),this.zonelessEnabled=X(UI),this.disableScheduling=X(A3,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ut,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(wv):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(x3,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ub||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?WN:DO;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wv+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WN(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zq(){return typeof $localize<"u"&&$localize.locale||xv}var iy=new ie("",{providedIn:"root",factory:()=>X(iy,Ne.Optional|Ne.SkipSelf)||Zq()});var aF=new ie("");function tv(t){return!!t.platformInjector}function Xq(t){let e=tv(t)?t.r3Injector:t.moduleRef.injector,n=e.get(xe);return n.run(()=>{tv(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(so,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),tv(t)){let s=()=>e.destroy(),o=t.platformInjector.get(aF);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{ov(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return zq(r,n,()=>{let s=e.get(rF);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(iy,xv);if(Sq(o||xv),tv(t)){let a=e.get(oi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return Jq(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Jq(t,e){let n=t.injector.get(oi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ae(-403,!1);e.push(t)}var av=null;function eQ(t=[],e){return St.create({name:e,providers:[{provide:Pv,useValue:"platform"},{provide:aF,useValue:new Set([()=>av=null])},...t]})}function tQ(t=[]){if(av)return av;let e=eQ(t);return av=e,Hq(),nQ(e),e}function nQ(t){t.get(bI,null)?.forEach(n=>n())}var Lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rQ;let t=e;return t})();function rQ(t){return iQ(Fn(),Me(),(t&16)===16)}function iQ(t,e,n){if(Fv(t)&&!n){let r=xa(t.index,e);return new Vl(r,r)}else if(t.type&175){let r=e[Jr];return new Vl(r,e)}return null}var zb=class{constructor(){}supports(e){return F3(e)}create(e){return new Gb(e)}},sQ=(t,e)=>e,Gb=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sQ}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<hP(r,i,s)?n:r,a=hP(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let g=f<s.length?s[f]:s[f]=0,v=g+f;u<=v&&v<c&&(s[f]=g+1)}let h=o.previousIndex;s[h]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!F3(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,GG(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new qb(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Rv),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Rv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qb=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qb=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Rv=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Qb,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hP(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Kb=class{constructor(){}supports(e){return e instanceof Map||WI(e)}create(){return new Yb}},Yb=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||WI(e)))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Zb(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Zb=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function fP(){return new qI([new zb])}var qI=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||fP()),deps:[[e,new Jb,new ct]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new ae(901,!1)}};e.\u0275prov=re({token:e,providedIn:"root",factory:fP});let t=e;return t})();function pP(){return new QI([new Kb])}var QI=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pP()),deps:[[e,new Jb,new ct]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ae(901,!1)}};e.\u0275prov=re({token:e,providedIn:"root",factory:pP});let t=e;return t})();function lF(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tQ(r),s=[iF({}),{provide:Su,useExisting:Yq},...n||[]],o=new Sv({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Xq({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var cF=new ie("");function zl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function sf(t,e){Pu("NgSignals");let n=Q2(t);return e?.equal&&(n[eo].equal=e.equal),n}function mo(t){let e=Ze(null);try{return t()}finally{Ze(e)}}var mF=null;function _o(){return mF}function vF(t){mF??=t}var fy=class{};var vn=new ie(""),yF=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>X(aQ),providedIn:"platform"});let t=e;return t})();var aQ=(()=>{let e=class e extends yF{constructor(){super(),this._doc=X(vn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _o().getBaseHref(this._doc)}onPopState(r){let i=_o().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=_o().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function _F(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function uF(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gl(t){return t&&t[0]!=="?"?"?"+t:t}var Uu=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>X(wF),providedIn:"root"});let t=e;return t})(),lQ=new ie(""),wF=(()=>{let e=class e extends Uu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??X(vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return _F(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Gl(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Gl(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Gl(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(se(yF),se(lQ,8))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var of=(()=>{let e=class e{constructor(r){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=dQ(uF(dF(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Gl(i))}normalize(r){return e.stripTrailingSlash(uQ(this._basePath,dF(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gl(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gl(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Gl,e.joinWithSlash=_F,e.stripTrailingSlash=uF,e.\u0275fac=function(i){return new(i||e)(se(Uu))},e.\u0275prov=re({token:e,factory:()=>cQ(),providedIn:"root"});let t=e;return t})();function cQ(){return new of(se(Uu))}function uQ(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dF(t){return t.replace(/\/index.html$/,"")}function dQ(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ar=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ar||{}),pt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(pt||{}),Vr=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Vr||{}),Oa={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hQ(t){return si(t)[qt.LocaleId]}function fQ(t,e,n){let r=si(t),i=[r[qt.DayPeriodsFormat],r[qt.DayPeriodsStandalone]],s=ai(i,e);return ai(s,n)}function pQ(t,e,n){let r=si(t),i=[r[qt.DaysFormat],r[qt.DaysStandalone]],s=ai(i,e);return ai(s,n)}function gQ(t,e,n){let r=si(t),i=[r[qt.MonthsFormat],r[qt.MonthsStandalone]],s=ai(i,e);return ai(s,n)}function mQ(t,e){let r=si(t)[qt.Eras];return ai(r,e)}function sy(t,e){let n=si(t);return ai(n[qt.DateFormat],e)}function oy(t,e){let n=si(t);return ai(n[qt.TimeFormat],e)}function ay(t,e){let r=si(t)[qt.DateTimeFormat];return ai(r,e)}function gy(t,e){let n=si(t),r=n[qt.NumberSymbols][e];if(typeof r>"u"){if(e===Oa.CurrencyDecimal)return n[qt.NumberSymbols][Oa.Decimal];if(e===Oa.CurrencyGroup)return n[qt.NumberSymbols][Oa.Group]}return r}function EF(t){if(!t[qt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vQ(t){let e=si(t);return EF(e),(e[qt.ExtraData][2]||[]).map(r=>typeof r=="string"?YI(r):[YI(r[0]),YI(r[1])])}function yQ(t,e,n){let r=si(t);EF(r);let i=[r[qt.ExtraData][0],r[qt.ExtraData][1]],s=ai(i,e)||[];return ai(s,n)||[]}function ai(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function YI(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var _Q=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ly={},wQ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,yo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(yo||{}),st=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(st||{}),it=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(it||{});function EQ(t,e,n,r){let i=RQ(t);e=vo(n,e)||e;let o=[],a;for(;e;)if(a=wQ.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=IF(r,l),i=xQ(i,r,!0));let c="";return o.forEach(u=>{let h=SQ(u);c+=h?h(i,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function py(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function vo(t,e){let n=hQ(t);if(ly[n]??={},ly[n][e])return ly[n][e];let r="";switch(e){case"shortDate":r=sy(t,Vr.Short);break;case"mediumDate":r=sy(t,Vr.Medium);break;case"longDate":r=sy(t,Vr.Long);break;case"fullDate":r=sy(t,Vr.Full);break;case"shortTime":r=oy(t,Vr.Short);break;case"mediumTime":r=oy(t,Vr.Medium);break;case"longTime":r=oy(t,Vr.Long);break;case"fullTime":r=oy(t,Vr.Full);break;case"short":let i=vo(t,"shortTime"),s=vo(t,"shortDate");r=cy(ay(t,Vr.Short),[i,s]);break;case"medium":let o=vo(t,"mediumTime"),a=vo(t,"mediumDate");r=cy(ay(t,Vr.Medium),[o,a]);break;case"long":let l=vo(t,"longTime"),c=vo(t,"longDate");r=cy(ay(t,Vr.Long),[l,c]);break;case"full":let u=vo(t,"fullTime"),h=vo(t,"fullDate");r=cy(ay(t,Vr.Full),[u,h]);break}return r&&(ly[n][e]=r),r}function cy(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Vi(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function bQ(t,e){return Vi(t,3).substring(0,e)}function nn(t,e,n=0,r=!1,i=!1){return function(s,o){let a=IQ(t,s);if((n>0||a>-n)&&(a+=n),t===st.Hours)a===0&&n===-12&&(a=12);else if(t===st.FractionalSeconds)return bQ(a,e);let l=gy(o,Oa.MinusSign);return Vi(a,e,l,r,i)}}function IQ(t,e){switch(t){case st.FullYear:return e.getFullYear();case st.Month:return e.getMonth();case st.Date:return e.getDate();case st.Hours:return e.getHours();case st.Minutes:return e.getMinutes();case st.Seconds:return e.getSeconds();case st.FractionalSeconds:return e.getMilliseconds();case st.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function _t(t,e,n=ar.Format,r=!1){return function(i,s){return CQ(i,s,t,e,n,r)}}function CQ(t,e,n,r,i,s){switch(n){case it.Months:return gQ(e,i,r)[t.getMonth()];case it.Days:return pQ(e,i,r)[t.getDay()];case it.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let c=vQ(e),u=yQ(e,i,r),h=c.findIndex(f=>{if(Array.isArray(f)){let[g,v]=f,b=o>=g.hours&&a>=g.minutes,_=o<v.hours||o===v.hours&&a<v.minutes;if(g.hours<v.hours){if(b&&_)return!0}else if(b||_)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return fQ(e,i,r)[o<12?0:1];case it.Eras:return mQ(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function uy(t){return function(e,n,r){let i=-1*r,s=gy(n,Oa.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case yo.Short:return(i>=0?"+":"")+Vi(o,2,s)+Vi(Math.abs(i%60),2,s);case yo.ShortGMT:return"GMT"+(i>=0?"+":"")+Vi(o,1,s);case yo.Long:return"GMT"+(i>=0?"+":"")+Vi(o,2,s)+":"+Vi(Math.abs(i%60),2,s);case yo.Extended:return r===0?"Z":(i>=0?"+":"")+Vi(o,2,s)+":"+Vi(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var TQ=0,hy=4;function DQ(t){let e=py(t,TQ,1).getDay();return py(t,0,1+(e<=hy?hy:hy+7)-e)}function bF(t){let e=t.getDay(),n=e===0?-3:hy-e;return py(t.getFullYear(),t.getMonth(),t.getDate()+n)}function ZI(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=bF(n),o=DQ(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Vi(i,t,gy(r,Oa.MinusSign))}}function dy(t,e=!1){return function(n,r){let s=bF(n).getFullYear();return Vi(s,t,gy(r,Oa.MinusSign),e)}}var XI={};function SQ(t){if(XI[t])return XI[t];let e;switch(t){case"G":case"GG":case"GGG":e=_t(it.Eras,pt.Abbreviated);break;case"GGGG":e=_t(it.Eras,pt.Wide);break;case"GGGGG":e=_t(it.Eras,pt.Narrow);break;case"y":e=nn(st.FullYear,1,0,!1,!0);break;case"yy":e=nn(st.FullYear,2,0,!0,!0);break;case"yyy":e=nn(st.FullYear,3,0,!1,!0);break;case"yyyy":e=nn(st.FullYear,4,0,!1,!0);break;case"Y":e=dy(1);break;case"YY":e=dy(2,!0);break;case"YYY":e=dy(3);break;case"YYYY":e=dy(4);break;case"M":case"L":e=nn(st.Month,1,1);break;case"MM":case"LL":e=nn(st.Month,2,1);break;case"MMM":e=_t(it.Months,pt.Abbreviated);break;case"MMMM":e=_t(it.Months,pt.Wide);break;case"MMMMM":e=_t(it.Months,pt.Narrow);break;case"LLL":e=_t(it.Months,pt.Abbreviated,ar.Standalone);break;case"LLLL":e=_t(it.Months,pt.Wide,ar.Standalone);break;case"LLLLL":e=_t(it.Months,pt.Narrow,ar.Standalone);break;case"w":e=ZI(1);break;case"ww":e=ZI(2);break;case"W":e=ZI(1,!0);break;case"d":e=nn(st.Date,1);break;case"dd":e=nn(st.Date,2);break;case"c":case"cc":e=nn(st.Day,1);break;case"ccc":e=_t(it.Days,pt.Abbreviated,ar.Standalone);break;case"cccc":e=_t(it.Days,pt.Wide,ar.Standalone);break;case"ccccc":e=_t(it.Days,pt.Narrow,ar.Standalone);break;case"cccccc":e=_t(it.Days,pt.Short,ar.Standalone);break;case"E":case"EE":case"EEE":e=_t(it.Days,pt.Abbreviated);break;case"EEEE":e=_t(it.Days,pt.Wide);break;case"EEEEE":e=_t(it.Days,pt.Narrow);break;case"EEEEEE":e=_t(it.Days,pt.Short);break;case"a":case"aa":case"aaa":e=_t(it.DayPeriods,pt.Abbreviated);break;case"aaaa":e=_t(it.DayPeriods,pt.Wide);break;case"aaaaa":e=_t(it.DayPeriods,pt.Narrow);break;case"b":case"bb":case"bbb":e=_t(it.DayPeriods,pt.Abbreviated,ar.Standalone,!0);break;case"bbbb":e=_t(it.DayPeriods,pt.Wide,ar.Standalone,!0);break;case"bbbbb":e=_t(it.DayPeriods,pt.Narrow,ar.Standalone,!0);break;case"B":case"BB":case"BBB":e=_t(it.DayPeriods,pt.Abbreviated,ar.Format,!0);break;case"BBBB":e=_t(it.DayPeriods,pt.Wide,ar.Format,!0);break;case"BBBBB":e=_t(it.DayPeriods,pt.Narrow,ar.Format,!0);break;case"h":e=nn(st.Hours,1,-12);break;case"hh":e=nn(st.Hours,2,-12);break;case"H":e=nn(st.Hours,1);break;case"HH":e=nn(st.Hours,2);break;case"m":e=nn(st.Minutes,1);break;case"mm":e=nn(st.Minutes,2);break;case"s":e=nn(st.Seconds,1);break;case"ss":e=nn(st.Seconds,2);break;case"S":e=nn(st.FractionalSeconds,1);break;case"SS":e=nn(st.FractionalSeconds,2);break;case"SSS":e=nn(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=uy(yo.Short);break;case"ZZZZZ":e=uy(yo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=uy(yo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=uy(yo.Long);break;default:return null}return XI[t]=e,e}function IF(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function AQ(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function xQ(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=IF(e,i);return AQ(t,r*(s-i))}function RQ(t){if(hF(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return py(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(_Q))return MQ(r)}let e=new Date(t);if(!hF(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function MQ(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function hF(t){return t instanceof Date&&!isNaN(t.valueOf())}function my(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var JI=/\s+/,fF=[],ju=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=fF,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(JI):fF}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(JI):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(JI).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(U(jt),U(Ir))},e.\u0275dir=yt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var eC=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new eC(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),pF(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);pF(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(fo),U(Ul),U(qI))},e.\u0275dir=yt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function pF(t,e){t.context.$implicit=e.item}var ot=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new tC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){gF("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){gF("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(fo),U(Ul))},e.\u0275dir=yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tC=class{constructor(){this.$implicit=null,this.ngIf=null}};function gF(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${or(e)}'.`)}var vy=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:cs.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(U(jt),U(QI),U(Ir))},e.\u0275dir=yt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),CF=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(U(fo))},e.\u0275dir=yt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[tn]});let t=e;return t})();function kQ(t,e){return new ae(2100,!1)}var NQ="mediumDate",PQ=new ie(""),OQ=new ie(""),Fa=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??NQ,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return EQ(r,a,o||this.locale,l)}catch(a){throw kQ(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(U(iy,16),U(PQ,24),U(OQ,24))},e.\u0275pipe=rI({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var $e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yn({type:e}),e.\u0275inj=Kn({});let t=e;return t})(),nC="browser",FQ="server";function TF(t){return t===nC}function yy(t){return t===FQ}var Vu=class{};var lf=class{},wy=class{},wo=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var iC=class{encodeKey(e){return DF(e)}encodeValue(e){return DF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function LQ(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var VQ=/%(\d[a-f0-9])/gi,UQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DF(t){return encodeURIComponent(t).replace(VQ,(e,n)=>UQ[n]??e)}function _y(t){return`${t}`}var Va=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=LQ(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(_y):[_y(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(_y(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_y(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sC=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function jQ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function SF(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function AF(t){return typeof Blob<"u"&&t instanceof Blob}function xF(t){return typeof FormData<"u"&&t instanceof FormData}function BQ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var af=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(jQ(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new wo,this.context??=new sC,!this.params)this.params=new Va,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||SF(this.body)||AF(this.body)||xF(this.body)||BQ(this.body)?this.body:this.body instanceof Va?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xF(this.body)?null:AF(this.body)?this.body.type||null:SF(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Va?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,g)=>f.set(g,e.setHeaders[g]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,g)=>f.set(g,e.setParams[g]),u)),new t(n,r,o,{params:u,headers:c,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},Ua=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ua||{}),cf=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new wo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ey=class t extends cf{constructor(e={}){super(e),this.type=Ua.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},uf=class t extends cf{constructor(e={}){super(e),this.type=Ua.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},La=class extends cf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},NF=200,HQ=204;function rC(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var df=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof af)o=r;else{let c;s.headers instanceof wo?c=s.headers:c=new wo(s.headers);let u;s.params&&(s.params instanceof Va?u=s.params:u=new Va({fromObject:s.params})),o=new af(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=fe(o).pipe(wa(c=>this.handler.handle(c)));if(r instanceof af||s.observe==="events")return a;let l=a.pipe(kr(c=>c instanceof uf));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ue(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ue(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ue(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ue(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Va().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,rC(s,i))}post(r,i,s={}){return this.request("POST",r,rC(s,i))}put(r,i,s={}){return this.request("PUT",r,rC(s,i))}};e.\u0275fac=function(i){return new(i||e)(se(lf))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),WQ=/^\)\]\}',?\n/,$Q="X-Request-URL";function RF(t){if(t.url)return t.url;let e=$Q.toLocaleLowerCase();return t.headers.get(e)}var zQ=(()=>{let e=class e{constructor(){this.fetchImpl=X(oC,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=X(xe)}handle(r){return new ke(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(aC,o=>i.error(new La({error:o}))),()=>s.abort()})}doRequest(r,i,s){return w(this,null,function*(){let o=this.createRequestInit(r),a;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,q({signal:i},o)));GQ(v),s.next({type:Ua.Sent}),a=yield v}catch(v){s.error(new La({error:v,status:v.status??0,statusText:v.statusText,url:r.urlWithParams,headers:v.headers}));return}let l=new wo(a.headers),c=a.statusText,u=RF(a)??r.urlWithParams,h=a.status,f=null;if(r.reportProgress&&s.next(new Ey({headers:l,status:h,statusText:c,url:u})),a.body){let v=a.headers.get("content-length"),b=[],_=a.body.getReader(),x=0,F,W,I=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:B,value:A}=yield _.read();if(B)break;if(b.push(A),x+=A.length,r.reportProgress){W=r.responseType==="text"?(W??"")+(F??=new TextDecoder).decode(A,{stream:!0}):void 0;let E=()=>s.next({type:Ua.DownloadProgress,total:v?+v:void 0,loaded:x,partialText:W});I?I.run(E):E()}}}));let te=this.concatChunks(b,x);try{let B=a.headers.get("Content-Type")??"";f=this.parseBody(r,te,B)}catch(B){s.error(new La({error:B,headers:new wo(a.headers),status:a.status,statusText:a.statusText,url:RF(a)??r.urlWithParams}));return}}h===0&&(h=f?NF:0),h>=200&&h<300?(s.next(new uf({body:f,headers:l,status:h,statusText:c,url:u})),s.complete()):s.error(new La({error:f,headers:l,status:h,statusText:c,url:u}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(WQ,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),oC=class{};function aC(){}function GQ(t){t.then(aC,aC)}function qQ(t,e){return e(t)}function QQ(t,e,n){return(r,i)=>Oi(n,()=>e(r,s=>t(s,i)))}var PF=new ie(""),KQ=new ie(""),YQ=new ie("",{providedIn:"root",factory:()=>!0});var MF=(()=>{let e=class e extends lf{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=X(ka),this.contributeToStability=X(YQ)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(PF),...this.injector.get(KQ,[])]));this.chain=i.reduceRight((s,o)=>QQ(s,o,this.injector),qQ)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Cl(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(se(wy),se(wr))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})();var ZQ=/^\)\]\}',?\n/;function XQ(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var kF=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new ae(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?dt(i.\u0275loadImpl()):fe(null)).pipe(On(()=>new ke(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,x)=>a.setRequestHeader(_,x.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let l=r.serializeBody(),c=null,u=()=>{if(c!==null)return c;let _=a.statusText||"OK",x=new wo(a.getAllResponseHeaders()),F=XQ(a)||r.url;return c=new Ey({headers:x,status:a.status,statusText:_,url:F}),c},h=()=>{let{headers:_,status:x,statusText:F,url:W}=u(),I=null;x!==HQ&&(I=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=I?NF:0);let te=x>=200&&x<300;if(r.responseType==="json"&&typeof I=="string"){let B=I;I=I.replace(ZQ,"");try{I=I!==""?JSON.parse(I):null}catch(A){I=B,te&&(te=!1,I={error:A,text:I})}}te?(o.next(new uf({body:I,headers:_,status:x,statusText:F,url:W||void 0})),o.complete()):o.error(new La({error:I,headers:_,status:x,statusText:F,url:W||void 0}))},f=_=>{let{url:x}=u(),F=new La({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});o.error(F)},g=!1,v=_=>{g||(o.next(u()),g=!0);let x={type:Ua.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(x.total=_.total),r.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),o.next(x)},b=_=>{let x={type:Ua.UploadProgress,loaded:_.loaded};_.lengthComputable&&(x.total=_.total),o.next(x)};return a.addEventListener("load",h),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",v),l!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(l),o.next({type:Ua.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",h),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",v),l!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(se(Vu))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),OF=new ie(""),JQ="XSRF-TOKEN",eK=new ie("",{providedIn:"root",factory:()=>JQ}),tK="X-XSRF-TOKEN",nK=new ie("",{providedIn:"root",factory:()=>tK}),by=class{},rK=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=my(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(se(vn),se(ti),se(eK))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})();function iK(t,e){let n=t.url.toLowerCase();if(!X(OF)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=X(by).getToken(),i=X(nK);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function FF(...t){let e=[df,kF,MF,{provide:lf,useExisting:MF},{provide:wy,useFactory:()=>X(zQ,{optional:!0})??X(kF)},{provide:PF,useValue:iK,multi:!0},{provide:OF,useValue:!0},{provide:by,useClass:rK}];for(let n of t)e.push(...n.\u0275providers);return en(e)}var uC=class extends fy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dC=class t extends uC{static makeCurrent(){vF(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=sK();return n==null?null:oK(n)}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return my(document.cookie,e)}},hf=null;function sK(){return hf=hf||document.querySelector("base"),hf?hf.getAttribute("href"):null}function oK(t){return new URL(t,document.baseURI).pathname}var aK=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),Iy=new ie(""),BF=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ae(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(se(Iy),se(xe))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),ff=class{constructor(e){this._doc=e}},lC="ng-app-id",HF=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yy(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${lC}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(lC),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(lC,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(se(vn),se(EI),se(II,8),se(ti))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),cC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fC=/%COMP%/g,WF="%COMP%",lK=`_nghost-${WF}`,cK=`_ngcontent-${WF}`,uK=!0,dK=new ie("",{providedIn:"root",factory:()=>uK});function hK(t){return cK.replace(fC,t)}function fK(t){return lK.replace(fC,t)}function $F(t,e){return e.map(n=>n.replace(fC,t))}var VF=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=yy(l),this.defaultRenderer=new pf(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===os.ShadowDom&&(i=he(q({},i),{encapsulation:os.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Cy?s.applyToHost(r):s instanceof gf&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case os.Emulated:o=new Cy(c,u,i,this.appId,h,a,l,f);break;case os.ShadowDom:return new hC(c,u,r,i,a,l,this.nonce,f);default:o=new gf(c,u,i,h,a,l,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(se(BF),se(HF),se(EI),se(dK),se(vn),se(ti),se(xe),se(II))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),pf=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ae(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=cC[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=cC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cs.DashCase|cs.Important)?e.style.setProperty(n,r,i&cs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=_o().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UF(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var hC=class extends pf{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=$F(i.id,i.styles);for(let u of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gf=class extends pf{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?$F(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Cy=class extends gf{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=hK(c),this.hostAttr=fK(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},pK=(()=>{let e=class e extends ff{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(se(vn))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),gK=(()=>{let e=class e extends ff{constructor(r){super(r),this.delegate=X(cF,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(se(vn))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})(),jF=["alt","control","meta","shift"],mK={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},yK=(()=>{let e=class e extends ff{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_o().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),jF.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=mK[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jF.forEach(a=>{if(a!==s){let l=vK[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(se(vn))},e.\u0275prov=re({token:e,factory:e.\u0275fac});let t=e;return t})();function zF(t,e){return lF(q({rootComponent:t},_K(e)))}function _K(t){return{appProviders:[...CK,...t?.providers??[]],platformProviders:IK}}function wK(){dC.makeCurrent()}function EK(){return new so}function bK(){return NO(document),document}var IK=[{provide:ti,useValue:nC},{provide:bI,useValue:wK,multi:!0},{provide:vn,useFactory:bK,deps:[]}];var CK=[{provide:Pv,useValue:"root"},{provide:so,useFactory:EK,deps:[]},{provide:Iy,useClass:pK,multi:!0,deps:[vn,xe,ti]},{provide:Iy,useClass:yK,multi:!0,deps:[vn]},{provide:Iy,useClass:gK,multi:!0},VF,HF,BF,{provide:Au,useExisting:VF},{provide:Vu,useClass:aK,deps:[]},[]];var GF=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(se(vn))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=se(TK),s},providedIn:"root"});let t=e;return t})(),TK=(()=>{let e=class e extends pC{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Or.NONE:return i;case Or.HTML:return uo(i,"HTML")?ni(i):TI(this._doc,String(i)).toString();case Or.STYLE:return uo(i,"Style")?ni(i):i;case Or.SCRIPT:if(uo(i,"Script"))return ni(i);throw new ae(5200,!1);case Or.URL:return uo(i,"URL")?ni(i):zv(String(i));case Or.RESOURCE_URL:if(uo(i,"ResourceURL"))return ni(i);throw new ae(5201,!1);default:throw new ae(5202,!1)}}bypassSecurityTrustHtml(r){return LO(r)}bypassSecurityTrustStyle(r){return VO(r)}bypassSecurityTrustScript(r){return UO(r)}bypassSecurityTrustUrl(r){return jO(r)}bypassSecurityTrustResourceUrl(r){return BO(r)}};e.\u0275fac=function(i){return new(i||e)(se(vn))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Re="primary",Mf=Symbol("RouteTitle"),_C=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gu(t){return new _C(t)}function DK(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function SK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hs(t[n],e[n]))return!1;return!0}function hs(t,e){let n=t?wC(t):void 0,r=e?wC(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!t4(t[i],e[i]))return!1;return!0}function wC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function t4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function n4(t){return t.length>0?t[t.length-1]:null}function ja(t){return C1(t)?t:$l(t)?dt(Promise.resolve(t)):fe(t)}var AK={exact:i4,subset:s4},r4={exact:xK,subset:RK,ignored:()=>!0};function QF(t,e,n){return AK[n.paths](t.root,e.root,n.matrixParams)&&r4[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function xK(t,e){return hs(t,e)}function i4(t,e,n){if(!Ql(t.segments,e.segments)||!Sy(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!i4(t.children[r],e.children[r],n))return!1;return!0}function RK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>t4(t[n],e[n]))}function s4(t,e,n){return o4(t,e,e.segments,n)}function o4(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ql(i,n)||e.hasChildren()||!Sy(i,n,r))}else if(t.segments.length===n.length){if(!Ql(t.segments,n)||!Sy(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!s4(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ql(t.segments,i)||!Sy(t.segments,i,r)||!t.children[Re]?!1:o4(t.children[Re],e,s,r)}}function Sy(t,e,n){return e.every((r,i)=>r4[n](t[i].parameters,r.parameters))}var bo=class{constructor(e=new lt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gu(this.queryParams),this._queryParamMap}toString(){return NK.serialize(this)}},lt=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ay(this)}},ql=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Gu(this.parameters),this._parameterMap}toString(){return l4(this)}};function MK(t,e){return Ql(t,e)&&t.every((n,r)=>hs(n.parameters,e[r].parameters))}function Ql(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kK(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Re&&(n=n.concat(e(i,r)))}),n}var GC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>new bf,providedIn:"root"});let t=e;return t})(),bf=class{parse(e){let n=new bC(e);return new bo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mf(e.root,!0)}`,r=FK(e.queryParams),i=typeof e.fragment=="string"?`#${PK(e.fragment)}`:"";return`${n}${r}${i}`}},NK=new bf;function Ay(t){return t.segments.map(e=>l4(e)).join("/")}function mf(t,e){if(!t.hasChildren())return Ay(t);if(e){let n=t.children[Re]?mf(t.children[Re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Re&&r.push(`${i}:${mf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kK(t,(r,i)=>i===Re?[mf(t.children[Re],!1)]:[`${i}:${mf(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Re]!=null?`${Ay(t)}/${n[0]}`:`${Ay(t)}/(${n.join("//")})`}}function a4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ty(t){return a4(t).replace(/%3B/gi,";")}function PK(t){return encodeURI(t)}function EC(t){return a4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xy(t){return decodeURIComponent(t)}function KF(t){return xy(t.replace(/\+/g,"%20"))}function l4(t){return`${EC(t.path)}${OK(t.parameters)}`}function OK(t){return Object.entries(t).map(([e,n])=>`;${EC(e)}=${EC(n)}`).join("")}function FK(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ty(n)}=${Ty(i)}`).join("&"):`${Ty(n)}=${Ty(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LK=/^[^\/()?;#]+/;function gC(t){let e=t.match(LK);return e?e[0]:""}var VK=/^[^\/()?;=#]+/;function UK(t){let e=t.match(VK);return e?e[0]:""}var jK=/^[^=?&#]+/;function BK(t){let e=t.match(jK);return e?e[0]:""}var HK=/^[^&#]+/;function WK(t){let e=t.match(HK);return e?e[0]:""}var bC=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Re]=new lt(e,n)),r}parseSegment(){let e=gC(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(e),new ql(xy(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=UK(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gC(this.remaining);i&&(r=i,this.capture(r))}e[xy(n)]=xy(r)}parseQueryParam(e){let n=BK(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=WK(this.remaining);o&&(r=o,this.capture(r))}let i=KF(n),s=KF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gC(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ae(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Re]:new lt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ae(4011,!1)}};function c4(t){return t.segments.length>0?new lt([],{[Re]:t}):t}function u4(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=u4(i);if(r===Re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new lt(t.segments,e);return $K(n)}function $K(t){if(t.numberOfChildren===1&&t.children[Re]){let e=t.children[Re];return new lt(t.segments.concat(e.segments),e.children)}return t}function Kl(t){return t instanceof bo}function zK(t,e,n=null,r=null){let i=d4(t);return h4(i,e,n,r)}function d4(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new lt(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=c4(r);return e??i}function h4(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return mC(i,i,i,n,r);let s=GK(e);if(s.toRoot())return mC(i,i,new lt([],{}),n,r);let o=qK(s,i,t),a=o.processChildren?_f(o.segmentGroup,o.index,s.commands):p4(o.segmentGroup,o.index,s.commands);return mC(i,o.segmentGroup,a,n,r)}function Ry(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function If(t){return typeof t=="object"&&t!=null&&t.outlets}function mC(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=f4(t,e,n);let a=c4(u4(o));return new bo(a,s,i)}function f4(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=f4(s,e,n)}),new lt(t.segments,r)}var My=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ry(r[0]))throw new ae(4003,!1);let i=r.find(If);if(i&&i!==n4(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GK(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new My(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new My(n,e,r)}var Wu=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function qK(t,e,n){if(t.isAbsolute)return new Wu(e,!0,0);if(!n)return new Wu(e,!1,NaN);if(n.parent===null)return new Wu(n,!0,0);let r=Ry(t.commands[0])?0:1,i=n.segments.length-1+r;return QK(n,i,t.numberOfDoubleDots)}function QK(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new Wu(r,!1,i-s)}function KK(t){return If(t[0])?t[0].outlets:{[Re]:t}}function p4(t,e,n){if(t??=new lt([],{}),t.segments.length===0&&t.hasChildren())return _f(t,e,n);let r=YK(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new lt(t.segments.slice(0,r.pathIndex),{});return s.children[Re]=new lt(t.segments.slice(r.pathIndex),t.children),_f(s,0,i)}else return r.match&&i.length===0?new lt(t.segments,{}):r.match&&!t.hasChildren()?IC(t,e,n):r.match?_f(t,0,i):IC(t,e,n)}function _f(t,e,n){if(n.length===0)return new lt(t.segments,{});{let r=KK(n),i={};if(Object.keys(r).some(s=>s!==Re)&&t.children[Re]&&t.numberOfChildren===1&&t.children[Re].segments.length===0){let s=_f(t.children[Re],e,n);return new lt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=p4(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new lt(t.segments,i)}}function YK(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(If(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ZF(l,c,o))return s;r+=2}else{if(!ZF(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function IC(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(If(s)){let l=ZK(s.outlets);return new lt(r,l)}if(i===0&&Ry(n[0])){let l=t.segments[e];r.push(new ql(l.path,YF(n[0]))),i++;continue}let o=If(s)?s.outlets[Re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ry(a)?(r.push(new ql(o,YF(a))),i+=2):(r.push(new ql(o,{})),i++)}return new lt(r,{})}function ZK(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=IC(new lt([],{}),0,r))}),e}function YF(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZF(t,e,n){return t==n.path&&hs(e,n.parameters)}var wf="imperative",Un=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Un||{}),li=class{constructor(e,n){this.id=e,this.url=n}},Cf=class extends li{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Un.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Io=class extends li{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Un.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jr||{}),CC=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(CC||{}),Eo=class extends li{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Un.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yl=class extends li{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Un.NavigationSkipped}},Tf=class extends li{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Un.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ky=class extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TC=class extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DC=class extends li{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Un.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},SC=class extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AC=class extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Un.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xC=class{constructor(e){this.route=e,this.type=Un.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},RC=class{constructor(e){this.route=e,this.type=Un.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},MC=class{constructor(e){this.snapshot=e,this.type=Un.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kC=class{constructor(e){this.snapshot=e,this.type=Un.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},NC=class{constructor(e){this.snapshot=e,this.type=Un.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},PC=class{constructor(e){this.snapshot=e,this.type=Un.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Df=class{},qu=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function XK(t,e){return t.providers&&!t._injector&&(t._injector=HI(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ui(t){return t.outlet||Re}function JK(t,e){let n=t.filter(r=>Ui(r)===e);return n.push(...t.filter(r=>Ui(r)!==e)),n}function kf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var OC=class{get injector(){return kf(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Uy(this.rootInjector),this.attachRef=null}},Uy=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new OC(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(se(wr))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ny=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=FC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=FC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=LC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LC(e,this._root).map(n=>n.value)}};function FC(t,e){if(t===e.value)return e;for(let n of e.children){let r=FC(t,n);if(r)return r}return null}function LC(t,e){if(t===e.value)return[e];for(let n of e.children){let r=LC(t,n);if(r.length)return r.unshift(e),r}return[]}var Ur=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hu(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Py=class extends Ny{constructor(e,n){super(e),this.snapshot=n,qC(this,e)}toString(){return this.snapshot.toString()}};function g4(t){let e=eY(t),n=new Pn([new ql("",{})]),r=new Pn({}),i=new Pn({}),s=new Pn({}),o=new Pn(""),a=new ji(n,r,s,o,i,Re,t,e.root);return a.snapshot=e.root,new Py(new Ur(a,[]),e)}function eY(t){let e={},n={},r={},i="",s=new $u([],e,r,i,n,Re,t,null,{});return new Fy("",new Ur(s,[]))}var ji=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(c=>c[Mf]))??fe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Gu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Gu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Oy(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),t.params),data:q(q({},e.data),t.data),resolve:q(q(q(q({},t.data),e.data),i?.data),t._resolvedData)}:r={params:q({},t.params),data:q({},t.data),resolve:q(q({},t.data),t._resolvedData??{})},i&&v4(i)&&(r.resolve[Mf]=i.title),r}var $u=class{get title(){return this.data?.[Mf]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Fy=class extends Ny{constructor(e,n){super(n),this.url=e,qC(this,n)}toString(){return m4(this._root)}};function qC(t,e){e.value._routerState=t,e.children.forEach(n=>qC(t,n))}function m4(t){let e=t.children.length>0?` { ${t.children.map(m4).join(", ")} } `:"";return`${t.value}${e}`}function vC(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hs(e.params,n.params)||t.paramsSubject.next(n.params),SK(e.url,n.url)||t.urlSubject.next(n.url),hs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function VC(t,e){let n=hs(t.params,e.params)&&MK(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||VC(t.parent,e.parent))}function v4(t){return typeof t.title=="string"||t.title===null}var QC=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=X(Uy),this.location=X(fo),this.changeDetector=X(Lr),this.inputBinder=X(KC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new UC(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=yt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tn]});let t=e;return t})(),UC=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ji?this.route:e===Uy?this.childContexts:this.parent.get(e,n)}},KC=new ie("");function tY(t,e,n){let r=Sf(t,e._root,n?n._root:void 0);return new Py(r,e)}function Sf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nY(t,e,n);return new Ur(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Sf(t,a)),o}}let r=rY(e.value),i=e.children.map(s=>Sf(t,s));return new Ur(r,i)}}function nY(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Sf(t,r,i);return Sf(t,r)})}function rY(t){return new ji(new Pn(t.url),new Pn(t.params),new Pn(t.queryParams),new Pn(t.fragment),new Pn(t.data),t.outlet,t.component,t)}var Af=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},y4="ngNavigationCancelingError";function Ly(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Kl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_4(!1,jr.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _4(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[y4]=!0,n.cancellationCode=e,n}function iY(t){return w4(t)&&Kl(t.url)}function w4(t){return!!t&&t[y4]}var sY=(t,e,n,r)=>ue(i=>(new jC(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),jC=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Hu(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Hu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Hu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Hu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new PC(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kC(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(vC(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vC(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Vy=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zu=class{constructor(e,n){this.component=e,this.route=n}};function oY(t,e,n){let r=t._root,i=e?e._root:null;return vf(r,i,n,[r.value])}function aY(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Yu(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!yP(t)?t:e.get(t):r}function vf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Hu(e);return t.children.forEach(o=>{lY(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ef(a,n.getContext(o),i)),i}function lY(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=cY(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Vy(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vf(t,e,a?a.children:null,r,i):vf(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zu(a.outlet.component,o))}else o&&Ef(e,a,i),i.canActivateChecks.push(new Vy(r)),s.component?vf(t,null,a?a.children:null,r,i):vf(t,null,n,r,i);return i}function cY(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ql(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ql(t.url,e.url)||!hs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VC(t,e)||!hs(t.queryParams,e.queryParams);case"paramsChange":default:return!VC(t,e)}}function Ef(t,e,n){let r=Hu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ef(o,e.children.getContext(s),n):Ef(o,null,n):Ef(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new zu(e.outlet.component,i)):n.canDeactivateChecks.push(new zu(null,i)):n.canDeactivateChecks.push(new zu(null,i))}function Nf(t){return typeof t=="function"}function uY(t){return typeof t=="boolean"}function dY(t){return t&&Nf(t.canLoad)}function hY(t){return t&&Nf(t.canActivate)}function fY(t){return t&&Nf(t.canActivateChild)}function pY(t){return t&&Nf(t.canDeactivate)}function gY(t){return t&&Nf(t.canMatch)}function E4(t){return t instanceof to||t?.name==="EmptyError"}var Dy=Symbol("INITIAL_VALUE");function Qu(){return On(t=>Gm(t.map(e=>e.pipe(Ri(1),x1(Dy)))).pipe(ue(e=>{for(let n of e)if(n!==!0){if(n===Dy)return Dy;if(n===!1||mY(n))return n}return!0}),kr(e=>e!==Dy),Ri(1)))}function mY(t){return Kl(t)||t instanceof Af}function vY(t,e){return mn(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?fe(he(q({},n),{guardsResult:!0})):yY(o,r,i,t).pipe(mn(a=>a&&uY(a)?_Y(r,s,t,e):fe(a)),ue(a=>he(q({},n),{guardsResult:a})))})}function yY(t,e,n,r){return dt(t).pipe(mn(i=>CY(i.component,i.route,n,e,r)),rs(i=>i!==!0,!0))}function _Y(t,e,n,r){return dt(e).pipe(wa(i=>pu(EY(i.route.parent,r),wY(i.route,r),IY(t,i.path,n),bY(t,i.route,n))),rs(i=>i!==!0,!0))}function wY(t,e){return t!==null&&e&&e(new NC(t)),fe(!0)}function EY(t,e){return t!==null&&e&&e(new MC(t)),fe(!0)}function bY(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return fe(!0);let i=r.map(s=>qm(()=>{let o=kf(e)??n,a=Yu(s,o),l=hY(a)?a.canActivate(e,t):Oi(o,()=>a(e,t));return ja(l).pipe(rs())}));return fe(i).pipe(Qu())}function IY(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>aY(o)).filter(o=>o!==null).map(o=>qm(()=>{let a=o.guards.map(l=>{let c=kf(o.node)??n,u=Yu(l,c),h=fY(u)?u.canActivateChild(r,t):Oi(c,()=>u(r,t));return ja(h).pipe(rs())});return fe(a).pipe(Qu())}));return fe(s).pipe(Qu())}function CY(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return fe(!0);let o=s.map(a=>{let l=kf(e)??i,c=Yu(a,l),u=pY(c)?c.canDeactivate(t,e,n,r):Oi(l,()=>c(t,e,n,r));return ja(u).pipe(rs())});return fe(o).pipe(Qu())}function TY(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return fe(!0);let s=i.map(o=>{let a=Yu(o,t),l=dY(a)?a.canLoad(e,n):Oi(t,()=>a(e,n));return ja(l)});return fe(s).pipe(Qu(),b4(r))}function b4(t){return p1(kt(e=>{if(typeof e!="boolean")throw Ly(t,e)}),ue(e=>e===!0))}function DY(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return fe(!0);let s=i.map(o=>{let a=Yu(o,t),l=gY(a)?a.canMatch(e,n):Oi(t,()=>a(e,n));return ja(l)});return fe(s).pipe(Qu(),b4(r))}var xf=class{constructor(e){this.segmentGroup=e||null}},Rf=class extends Error{constructor(e){super(),this.urlTree=e}};function Bu(t){return hu(new xf(t))}function SY(t){return hu(new ae(4e3,!1))}function AY(t){return hu(_4(!1,jr.GuardRejected))}var BC=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return fe(r);if(i.numberOfChildren>1||!i.children[Re])return SY(`${e.redirectTo}`);i=i.children[Re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:h,outlet:f,params:g,data:v,title:b}=i,_=Oi(s,()=>a({params:g,data:v,queryParams:l,fragment:c,routeConfig:u,url:h,outlet:f,title:b}));if(_ instanceof bo)throw new Rf(_);n=_}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Rf(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new bo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new lt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},HC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xY(t,e,n,r,i){let s=I4(t,e,n);return s.matched?(r=XK(e,r),DY(r,e,n,i).pipe(ue(o=>o===!0?s:q({},HC)))):fe(s)}function I4(t,e,n){if(e.path==="**")return RY(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?q({},HC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||DK)(n,t,e);if(!i)return q({},HC);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?q(q({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function RY(t){return{matched:!0,parameters:t.length>0?n4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function XF(t,e,n,r){return n.length>0&&NY(t,n,r)?{segmentGroup:new lt(e,kY(r,new lt(n,t.children))),slicedSegments:[]}:n.length===0&&PY(t,n,r)?{segmentGroup:new lt(t.segments,MY(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new lt(t.segments,t.children),slicedSegments:n}}function MY(t,e,n,r){let i={};for(let s of n)if(jy(t,e,s)&&!r[Ui(s)]){let o=new lt([],{});i[Ui(s)]=o}return q(q({},r),i)}function kY(t,e){let n={};n[Re]=e;for(let r of t)if(r.path===""&&Ui(r)!==Re){let i=new lt([],{});n[Ui(r)]=i}return n}function NY(t,e,n){return n.some(r=>jy(t,e,r)&&Ui(r)!==Re)}function PY(t,e,n){return n.some(r=>jy(t,e,r))}function jy(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function OY(t,e,n){return e.length===0&&!t.children[n]}var WC=class{};function FY(t,e,n,r,i,s,o="emptyOnly"){return new $C(t,e,n,r,i,o,s).recognize()}var LY=31,$C=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new BC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ae(4002,`'${e.segmentGroup}'`)}recognize(){let e=XF(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(({children:n,rootSnapshot:r})=>{let i=new Ur(r,n),s=new Fy("",i),o=zK(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new $u([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Re,n).pipe(ue(r=>({children:r,rootSnapshot:n})),Nr(r=>{if(r instanceof Rf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xf?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ue(o=>o instanceof Ur?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return dt(s).pipe(wa(o=>{let a=r.children[o],l=JK(n,o);return this.processSegmentGroup(e,l,a,o,i)}),A1((o,a)=>(o.push(...a),o)),Ea(null),S1(),mn(o=>{if(o===null)return Bu(r);let a=C4(o);return VY(a),fe(a)}))}processSegment(e,n,r,i,s,o,a){return dt(n).pipe(wa(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Nr(c=>{if(c instanceof xf)return fe(null);throw c}))),rs(l=>!!l),Nr(l=>{if(E4(l))return OY(r,i,s)?fe(new WC):Bu(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return Ui(r)!==o&&(o===Re||!jy(i,s,r))?Bu(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):Bu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=I4(n,i,s);if(!l)return Bu(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LY&&(this.allowRedirects=!1));let g=new $u(s,c,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,JF(i),Ui(i),i.component??i._loadedComponent??null,i,e4(i)),v=Oy(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let b=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,g,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(mn(_=>this.processSegment(e,r,n,_.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=xY(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(On(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(On(({routes:c})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:g}=l,v=new $u(f,h,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,JF(r),Ui(r),r.component??r._loadedComponent??null,r,e4(r)),b=Oy(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:_,slicedSegments:x}=XF(n,f,g,c);if(x.length===0&&_.hasChildren())return this.processChildren(u,c,_,v).pipe(ue(W=>new Ur(v,W)));if(c.length===0&&x.length===0)return fe(new Ur(v,[]));let F=Ui(r)===s;return this.processSegment(u,c,_,x,F?Re:s,!0,v).pipe(ue(W=>new Ur(v,W instanceof Ur?[W]:[])))}))):Bu(n)))}getChildConfig(e,n,r){return n.children?fe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?fe({routes:n._loadedRoutes,injector:n._loadedInjector}):TY(e,n,r,this.urlSerializer).pipe(mn(i=>i?this.configLoader.loadChildren(e,n).pipe(kt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):AY(n))):fe({routes:[],injector:e})}};function VY(t){t.sort((e,n)=>e.value.outlet===Re?-1:n.value.outlet===Re?1:e.value.outlet.localeCompare(n.value.outlet))}function UY(t){let e=t.value.routeConfig;return e&&e.path===""}function C4(t){let e=[],n=new Set;for(let r of t){if(!UY(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=C4(r.children);e.push(new Ur(r.value,i))}return e.filter(r=>!n.has(r))}function JF(t){return t.data||{}}function e4(t){return t.resolve||{}}function jY(t,e,n,r,i,s){return mn(o=>FY(t,e,n,r,o.extractedUrl,i,s).pipe(ue(({state:a,tree:l})=>he(q({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function BY(t,e){return mn(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return fe(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of T4(l))o.add(c);let a=0;return dt(o).pipe(wa(l=>s.has(l)?HY(l,r,t,e):(l.data=Oy(l,l.parent,t).resolve,fe(void 0))),kt(()=>a++),gu(1),mn(l=>a===o.size?fe(n):Mr))})}function T4(t){let e=t.children.map(n=>T4(n)).flat();return[t,...e]}function HY(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!v4(i)&&(s[Mf]=i.title),WY(s,t,e,r).pipe(ue(o=>(t._resolvedData=o,t.data=Oy(t,t.parent,n).resolve,null)))}function WY(t,e,n,r){let i=wC(t);if(i.length===0)return fe({});let s={};return dt(i).pipe(mn(o=>$Y(t[o],e,n,r).pipe(rs(),kt(a=>{if(a instanceof Af)throw Ly(new bf,a);s[o]=a}))),gu(1),D1(s),Nr(o=>E4(o)?Mr:hu(o)))}function $Y(t,e,n,r){let i=kf(e)??r,s=Yu(t,i),o=s.resolve?s.resolve(e,n):Oi(i,()=>s(e,n));return ja(o)}function yC(t){return On(e=>{let n=t(e);return n?dt(n).pipe(ue(()=>e)):fe(e)})}var D4=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Re);return i}getResolvedTitleForRoute(r){return r.data[Mf]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>X(zY),providedIn:"root"});let t=e;return t})(),zY=(()=>{let e=class e extends D4{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(se(GF))},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YC=new ie("",{providedIn:"root",factory:()=>({})}),GY=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ce],decls:1,vars:0,template:function(i,s){i&1&&$(0,"router-outlet")},dependencies:[QC],encapsulation:2});let t=e;return t})();function ZC(t){let e=t.children&&t.children.map(ZC),n=e?he(q({},t),{children:e}):q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Re&&(n.component=GY),n}var XC=new ie(""),qY=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(GI)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return fe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ja(r.loadComponent()).pipe(ue(S4),kt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Cl(()=>{this.componentLoaders.delete(r)})),s=new uu(i,()=>new vt).pipe(cu());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return fe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=QY(i,this.compiler,r,this.onLoadEndListener).pipe(Cl(()=>{this.childrenLoaders.delete(i)})),a=new uu(o,()=>new vt).pipe(cu());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function QY(t,e,n,r){return ja(t.loadChildren()).pipe(ue(S4),mn(i=>i instanceof Qh||Array.isArray(i)?fe(i):dt(e.compileModuleAsync(i))),ue(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(XC,[],{optional:!0,self:!0}).flat()),{routes:o.map(ZC),injector:s}}))}function KY(t){return t&&typeof t=="object"&&"default"in t}function S4(t){return KY(t)?t.default:t}var JC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>X(YY),providedIn:"root"});let t=e;return t})(),YY=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZY=new ie("");var XY=new ie(""),JY=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=X(qY),this.environmentInjector=X(wr),this.urlSerializer=X(GC),this.rootContexts=X(Uy),this.location=X(of),this.inputBindingEnabled=X(KC,{optional:!0})!==null,this.titleStrategy=X(D4),this.options=X(YC,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(JC),this.createViewTransition=X(ZY,{optional:!0}),this.navigationErrorHandler=X(XY,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>fe(void 0),this.rootComponentType=null;let r=s=>this.events.next(new xC(s)),i=s=>this.events.next(new RC(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(q(q({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Pn({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wf,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kr(o=>o.id!==0),ue(o=>he(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),On(o=>{let a=!1,l=!1;return fe(o).pipe(On(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",jr.SupersededByNewNavigation),Mr;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?he(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&h!=="reload"){let f="";return this.events.next(new Yl(c.id,this.urlSerializer.serialize(c.rawUrl),f,CC.IgnoredSameUrlNavigation)),c.resolve(!1),Mr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return fe(c).pipe(On(f=>{let g=this.transitions?.getValue();return this.events.next(new Cf(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?Mr:Promise.resolve(f)}),jY(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=he(q({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new ky(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:g,source:v,restoredState:b,extras:_}=c,x=new Cf(f,this.urlSerializer.serialize(g),v,b);this.events.next(x);let F=g4(this.rootComponentType).snapshot;return this.currentTransition=o=he(q({},c),{targetSnapshot:F,urlAfterRedirects:g,extras:he(q({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,fe(o)}else{let f="";return this.events.next(new Yl(c.id,this.urlSerializer.serialize(c.extractedUrl),f,CC.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Mr}}),kt(c=>{let u=new TC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ue(c=>(this.currentTransition=o=he(q({},c),{guards:oY(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),vY(this.environmentInjector,c=>this.events.next(c)),kt(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Ly(this.urlSerializer,c.guardsResult);let u=new DC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),kr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",jr.GuardRejected),!1)),yC(c=>{if(c.guards.canActivateChecks.length)return fe(c).pipe(kt(u=>{let h=new SC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),On(u=>{let h=!1;return fe(u).pipe(BY(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",jr.NoDataFromResolver)}}))}),kt(u=>{let h=new AC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),yC(c=>{let u=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(kt(g=>{h.component=g}),ue(()=>{})));for(let g of h.children)f.push(...u(g));return f};return Gm(u(c.targetSnapshot.root)).pipe(Ea(null),Ri(1))}),yC(()=>this.afterPreactivation()),On(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?dt(h).pipe(ue(()=>o)):fe(o)}),ue(c=>{let u=tY(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=he(q({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),kt(()=>{this.events.next(new Df)}),sY(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ri(1),kt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Io(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),R1(this.transitionAbortSubject.pipe(kt(c=>{throw c}))),Cl(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",jr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(c=>{if(l=!0,w4(c))this.events.next(new Eo(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),iY(c)?this.events.next(new qu(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Tf(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let h=Oi(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof Af){let{message:f,cancellationCode:g}=Ly(this.urlSerializer,h);this.events.next(new Eo(o.id,this.urlSerializer.serialize(o.extractedUrl),f,g)),this.events.next(new qu(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(c);o.resolve(!!f)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Mr}))}))}cancelNavigationTransition(r,i,s){let o=new Eo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eZ(t){return t!==wf}var tZ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>X(nZ),providedIn:"root"});let t=e;return t})(),zC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nZ=(()=>{let e=class e extends zC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:()=>X(rZ),providedIn:"root"});let t=e;return t})(),rZ=(()=>{let e=class e extends A4{constructor(){super(...arguments),this.location=X(of),this.urlSerializer=X(GC),this.options=X(YC,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(JC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=g4(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Cf)this.stateMemento=this.createStateMemento();else if(r instanceof Yl)this.rawUrlTree=i.initialUrl;else if(r instanceof ky){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Df?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Eo&&(r.code===jr.GuardRejected||r.code===jr.NoDataFromResolver)?this.restoreHistory(i):r instanceof Tf?this.restoreHistory(i,!0):r instanceof Io&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof bo?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=q(q({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=q(q({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(yf||{});function iZ(t,e){t.events.pipe(kr(n=>n instanceof Io||n instanceof Eo||n instanceof Tf||n instanceof Yl),ue(n=>n instanceof Io||n instanceof Yl?yf.COMPLETE:(n instanceof Eo?n.code===jr.Redirect||n.code===jr.SupersededByNewNavigation:!1)?yf.REDIRECTING:yf.FAILED),kr(n=>n!==yf.REDIRECTING),Ri(1)).subscribe(()=>{e()})}function sZ(t){throw t}var oZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=X(ty),this.stateManager=X(A4),this.options=X(YC,{optional:!0})||{},this.pendingTasks=X(ka),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(JY),this.urlSerializer=X(GC),this.location=X(of),this.urlHandlingStrategy=X(JC),this._events=new vt,this.errorHandler=this.options.errorHandler||sZ,this.navigated=!1,this.routeReuseStrategy=X(tZ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(XC,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(KC,{optional:!0}),this.eventsSubscription=new Ut,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Eo&&i.code!==jr.Redirect&&i.code!==jr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Io)this.navigated=!0;else if(i instanceof qu){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=q({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eZ(s.source)},a);this.scheduleNavigation(l,wf,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}cZ(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=q({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ZC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let g=s?s.snapshot:this.routerState.snapshot.root;f=d4(g)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return h4(f,r,h,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Kl(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,wf,null,i)}navigate(r,i={skipLocationChange:!1}){return lZ(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=q({},oZ):i===!1?s=q({},aZ):s=i,Kl(r))return QF(this.currentUrlTree,r,s);let o=this.parseUrl(r);return QF(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,g)=>{l=f,c=g});let h=this.pendingTasks.add();return iZ(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lZ(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ae(4008,!1)}function cZ(t){return!(t instanceof Df)&&!(t instanceof qu)}var Ku=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new vt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Io&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Kl(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:qO(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Kl(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(U(rn),U(ji),yI("tabindex"),U(Ir),U(jt),U(Uu))},e.\u0275dir=yt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Y("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Cr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zl],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zl],replaceUrl:[2,"replaceUrl","replaceUrl",zl],routerLink:"routerLink"},standalone:!0,features:[BI,tn]});let t=e;return t})(),x4=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new je,this.routerEventsSubscription=r.events.subscribe(l=>{l instanceof Io&&this.update()})}ngAfterContentInit(){fe(this.links.changes,fe(null)).pipe(fu()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=dt(r).pipe(fu()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=uZ(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(U(rn),U(jt),U(Ir),U(Lr),U(Ku,8))},e.\u0275dir=yt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Tn(o,Ku,5),i&2){let a;Pt(a=Ot())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[tn]});let t=e;return t})();function uZ(t){return!!t.paths}var dZ=new ie("");function R4(t,...e){return en([{provide:XC,multi:!0,useValue:t},[],{provide:ji,useFactory:hZ,deps:[rn]},{provide:ry,multi:!0,useFactory:fZ},e.map(n=>n.\u0275providers)])}function hZ(t){return t.routerState.root}function fZ(){let t=X(St);return e=>{let n=t.get(oi);if(e!==n.components[0])return;let r=t.get(rn),i=t.get(pZ);t.get(gZ)===1&&r.initialNavigation(),t.get(mZ,null,Ne.Optional)?.setUpPreloading(),t.get(dZ,null,Ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var pZ=new ie("",{factory:()=>new vt}),gZ=new ie("",{providedIn:"root",factory:()=>1});var mZ=new ie("");var tT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var J=function(t,e){if(!t)throw Zl(e)},Zl=function(t){return new Error("Firebase Database ("+tT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var k4=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vZ=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new nT;let f=s<<2|a>>4;if(r.push(f),c!==64){let g=a<<4&240|c>>2;if(r.push(g),h!==64){let v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nT=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iT=function(t){let e=k4(t);return Hy.encodeByteArray(e,!0)},Pf=function(t){return iT(t).replace(/\./g,"")},Of=function(t){try{return Hy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function N4(t){return P4(void 0,t)}function P4(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!yZ(n)||(t[n]=P4(t[n],e[n]));return t}function yZ(t){return t!=="__proto__"}function _Z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var wZ=()=>_Z().__FIREBASE_DEFAULTS__,EZ=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Of(t[1]);return e&&JSON.parse(e)},Wy=()=>{try{return wZ()||EZ()||bZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sT=t=>{var e,n;return(n=(e=Wy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xu=t=>{let e=sT(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oT=()=>{var t;return(t=Wy())===null||t===void 0?void 0:t.config},aT=t=>{var e;return(e=Wy())===null||e===void 0?void 0:e[`_${t}`]};var Co=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ju(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pf(JSON.stringify(n)),Pf(JSON.stringify(o)),""].join(".")}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ff(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function IZ(){var t;let e=(t=Wy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F4(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L4(){let t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ps(){return tT.NODE_CLIENT===!0||tT.NODE_ADMIN===!0}function V4(){return!IZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lf(){try{return typeof indexedDB=="object"}catch{return!1}}function zy(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function U4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var CZ="FirebaseError",jn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CZ,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Br.prototype.create)}},Br=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TZ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jn(i,a,r)}};function TZ(t,e){return t.replace(DZ,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DZ=/\{\$([^}]+)}/g;function Zu(t){return JSON.parse(t)}function sn(t){return JSON.stringify(t)}var j4=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Zu(Of(s[0])||""),n=Zu(Of(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var B4=function(t){let e=j4(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},H4=function(t){let e=j4(t).claims;return typeof e=="object"&&e.admin===!0};function Bi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vf(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uf(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Jl(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(M4(s)&&M4(o)){if(!Jl(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function M4(t){return t!==null&&typeof t=="object"}function Ba(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var By=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){let f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let f=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function W4(t,e){let n=new rT(t,e);return n.subscribe.bind(n)}var rT=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SZ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eT),i.error===void 0&&(i.error=eT),i.complete===void 0&&(i.complete=eT);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SZ(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eT(){}function ed(t,e){return`${t} failed: ${e} argument `}var $4=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,J(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jf=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var R1e=4*60*60*1e3;function It(t){return t&&t._delegate?t._delegate:t}var Bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ec="[DEFAULT]";var Gy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Co;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xZ(e))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AZ(t){return t===ec?void 0:t}function xZ(t){return t.instantiationMode==="EAGER"}var Bf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var RZ=[],Oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Oe||{}),MZ={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},kZ=Oe.INFO,NZ={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},PZ=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=NZ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gs=class{constructor(e){this.name=e,this._logLevel=kZ,this._logHandler=PZ,this._userLogHandler=null,RZ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}};var OZ=(t,e)=>e.some(n=>t instanceof n),z4,G4;function FZ(){return z4||(z4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LZ(){return G4||(G4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var q4=new WeakMap,cT=new WeakMap,Q4=new WeakMap,lT=new WeakMap,dT=new WeakMap;function VZ(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q4.set(n,t)}).catch(()=>{}),dT.set(e,t),e}function UZ(t){if(cT.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cT.set(t,e)}var uT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K4(t){uT=t(uT)}function jZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(qy(this),e,...n);return Q4.set(r,e.sort?e.sort():[e]),Hi(r)}:LZ().includes(t)?function(...e){return t.apply(qy(this),e),Hi(q4.get(this))}:function(...e){return Hi(t.apply(qy(this),e))}}function BZ(t){return typeof t=="function"?jZ(t):(t instanceof IDBTransaction&&UZ(t),OZ(t,FZ())?new Proxy(t,uT):t)}function Hi(t){if(t instanceof IDBRequest)return VZ(t);if(lT.has(t))return lT.get(t);let e=BZ(t);return e!==t&&(lT.set(t,e),dT.set(e,t)),e}var qy=t=>dT.get(t);function tc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hi(o.result),l.oldVersion,l.newVersion,Hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Qy(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Hi(n).then(()=>{})}var HZ=["get","getKey","getAll","getAllKeys","count"],WZ=["put","add","delete","clear"],hT=new Map;function Y4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hT.get(e))return hT.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=WZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HZ.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return hT.set(e,s),s}K4(t=>he(q({},t),{get:(e,n,r)=>Y4(e,n)||t.get(e,n,r),has:(e,n)=>!!Y4(e,n)||t.has(e,n)}));var pT=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($Z(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function $Z(t){let e=t.getComponent();return e?.type==="VERSION"}var gT="@firebase/app",Z4="0.10.13";var To=new gs("@firebase/app"),zZ="@firebase/app-compat",GZ="@firebase/analytics-compat",qZ="@firebase/analytics",QZ="@firebase/app-check-compat",KZ="@firebase/app-check",YZ="@firebase/auth",ZZ="@firebase/auth-compat",XZ="@firebase/database",JZ="@firebase/data-connect",eX="@firebase/database-compat",tX="@firebase/functions",nX="@firebase/functions-compat",rX="@firebase/installations",iX="@firebase/installations-compat",sX="@firebase/messaging",oX="@firebase/messaging-compat",aX="@firebase/performance",lX="@firebase/performance-compat",cX="@firebase/remote-config",uX="@firebase/remote-config-compat",dX="@firebase/storage",hX="@firebase/storage-compat",fX="@firebase/firestore",pX="@firebase/vertexai-preview",gX="@firebase/firestore-compat",mX="firebase",vX="10.14.1";var mT="[DEFAULT]",yX={[gT]:"fire-core",[zZ]:"fire-core-compat",[qZ]:"fire-analytics",[GZ]:"fire-analytics-compat",[KZ]:"fire-app-check",[QZ]:"fire-app-check-compat",[YZ]:"fire-auth",[ZZ]:"fire-auth-compat",[XZ]:"fire-rtdb",[JZ]:"fire-data-connect",[eX]:"fire-rtdb-compat",[tX]:"fire-fn",[nX]:"fire-fn-compat",[rX]:"fire-iid",[iX]:"fire-iid-compat",[sX]:"fire-fcm",[oX]:"fire-fcm-compat",[aX]:"fire-perf",[lX]:"fire-perf-compat",[cX]:"fire-rc",[uX]:"fire-rc-compat",[dX]:"fire-gcs",[hX]:"fire-gcs-compat",[fX]:"fire-fst",[gX]:"fire-fst-compat",[pX]:"fire-vertex","fire-js":"fire-js",[mX]:"fire-js-all"};var Hf=new Map,_X=new Map,vT=new Map;function X4(t,e){try{t.container.addComponent(e)}catch(n){To.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sn(t){let e=t.name;if(vT.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;vT.set(e,t);for(let n of Hf.values())X4(n,t);for(let n of _X.values())X4(n,t);return!0}function Tr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ms(t){return t.settings!==void 0}var wX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Br("app","Firebase",wX);var yT=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}};var ci=vX;function ET(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:mT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(n||(n=oT()),!n)throw Ha.create("no-options");let s=Hf.get(i);if(s){if(Jl(n,s.options)&&Jl(r,s.config))return s;throw Ha.create("duplicate-app",{appName:i})}let o=new Bf(i);for(let l of vT.values())o.addComponent(l);let a=new yT(n,r,o);return Hf.set(i,a),a}function Hr(t=mT){let e=Hf.get(t);if(!e&&t===mT&&oT())return ET();if(!e)throw Ha.create("no-app",{appName:t});return e}function Ky(){return Array.from(Hf.values())}function Ve(t,e,n){var r;let i=(r=yX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),To.warn(a.join(" "));return}Sn(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var EX="firebase-heartbeat-database",bX=1,Wf="firebase-heartbeat-store",fT=null;function nL(){return fT||(fT=tc(EX,bX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),fT}function IX(t){return w(this,null,function*(){try{let n=(yield nL()).transaction(Wf),r=yield n.objectStore(Wf).get(rL(t));return yield n.done,r}catch(e){if(e instanceof jn)To.warn(e.message);else{let n=Ha.create("idb-get",{originalErrorMessage:e?.message});To.warn(n.message)}}})}function J4(t,e){return w(this,null,function*(){try{let r=(yield nL()).transaction(Wf,"readwrite");yield r.objectStore(Wf).put(e,rL(t)),yield r.done}catch(n){if(n instanceof jn)To.warn(n.message);else{let r=Ha.create("idb-set",{originalErrorMessage:n?.message});To.warn(r.message)}}})}function rL(t){return`${t.name}!${t.options.appId}`}var CX=1024,TX=30*24*60*60*1e3,_T=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eL();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=TX}),this._storage.overwrite(this._heartbeatsCache))}catch(r){To.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eL(),{heartbeatsToSend:r,unsentEntries:i}=DX(this._heartbeatsCache.heartbeats),s=Pf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return To.warn(n),""}})}};function eL(){return new Date().toISOString().substring(0,10)}function DX(t,e=CX){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wT=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Lf()?zy().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield IX(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return J4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return J4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tL(t){return Pf(JSON.stringify({version:2,heartbeats:t})).length}function SX(t){Sn(new Bt("platform-logger",e=>new pT(e),"PRIVATE")),Sn(new Bt("heartbeat",e=>new _T(e),"PRIVATE")),Ve(gT,Z4,t),Ve(gT,Z4,"esm2017"),Ve("fire-js","")}SX("");var AX="firebase",xX="10.14.1";Ve(AX,xX,"app");var Wr=new ao("ANGULARFIRE2_VERSION"),iL=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function ys(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Wi=(t,e)=>{let n=e?[e]:Ky(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},vs=class{constructor(){return Wi(RX)}},RX="app-check";function td(){}var Yy=class{zone;delegate;constructor(e,n=I1){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},bT=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",td,{},td,td)),n.pipe(kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ui=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Yy(Zone.current)),this.insideAngular=n.run(()=>new Yy(Zone.current,b1)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(se(xe))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zy(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function MX(t){return Zy().ngZone.runOutsideAngular(()=>t())}function nc(t){return Zy().ngZone.run(()=>t())}function kX(t){return NX(Zy())(t)}function NX(t){return function(n){return n=n.lift(new bT(t.ngZone)),n.pipe(_a(t.outsideAngular),ya(t.insideAngular))}}var PX=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),nc(()=>t.apply(void 0,r))},Qt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=nc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",td,{},td,td))),r[s]=PX(r[s],n));let i=MX(()=>t.apply(this,r));if(!e)if(i instanceof ke){let s=Zy();return i.pipe(_a(s.outsideAngular),ya(s.insideAngular))}else return nc(()=>i);return i instanceof ke?i.pipe(kX):i instanceof Promise?nc(()=>new Promise((s,o)=>i.then(a=>nc(()=>s(a)),a=>nc(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:nc(()=>i)};var lr=class{constructor(e){return e}},$r=class{constructor(){return Ky()}};function OX(t){return t&&t.length===1?t[0]:new lr(Hr())}var IT=new ie("angularfire2._apps"),FX={provide:lr,useFactory:OX,deps:[[new ct,IT]]},LX={provide:$r,deps:[[new ct,IT]]};function VX(t){return(e,n)=>{let r=n.get(ti);Ve("angularfire",Wr.full,"core"),Ve("angularfire",Wr.full,"app"),Ve("angular",eF.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new lr(i)}}function sL(t,...e){return en([FX,LX,{provide:IT,useFactory:VX(t),multi:!0,deps:[xe,St,ui,...e]}])}var oL=Qt(ET,!0);function EL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bL=EL,IL=new Br("auth","Firebase",EL());var r_=new gs("@firebase/auth");function UX(t,...e){r_.logLevel<=Oe.WARN&&r_.warn(`Auth (${ci}): ${t}`,...e)}function Jy(t,...e){r_.logLevel<=Oe.ERROR&&r_.error(`Auth (${ci}): ${t}`,...e)}function ws(t,...e){throw BT(t,...e)}function $i(t,...e){return BT(t,...e)}function jT(t,e,n){let r=Object.assign(Object.assign({},bL()),{[e]:n});return new Br("auth","Firebase",r).create(e,{appName:t.name})}function rc(t){return jT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jX(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ws(t,"argument-error"),jT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function BT(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IL.create(t,...e)}function we(t,e,...n){if(!t)throw BT(e,...n)}function Do(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Jy(e),new Error(e)}function Ao(t,e){t||Do(e)}function DT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BX(){return aL()==="http:"||aL()==="https:"}function aL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function HX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BX()||F4()||"connection"in navigator)?navigator.onLine:!0}function WX(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ic=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=Ff()||$y()}get(){return HX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function HT(t,e){Ao(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var i_=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Do("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Do("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Do("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $X={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var zX=new ic(3e4,6e4);function WT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function id(s,o,a,l){return w(this,arguments,function*(t,e,n,r,i={}){return CL(t,i,()=>w(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let h=Ba(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:f},c);return O4()||(g.referrerPolicy="no-referrer"),i_.fetch()(TL(t,t.config.apiHost,n,h),g)}))})}function CL(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},$X),e);try{let i=new ST(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Xy(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xy(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xy(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xy(t,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jT(t,u,c);ws(t,u)}}catch(i){if(i instanceof jn)throw i;ws(t,"network-request-failed",{message:String(i)})}})}function GX(s,o,a,l){return w(this,arguments,function*(t,e,n,r,i={}){let c=yield id(t,e,n,r,i);return"mfaPendingCredential"in c&&ws(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function TL(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?HT(t.config,i):`${t.config.apiScheme}://${i}`}var ST=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),zX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Xy(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=$i(t,e,r);return i.customData._tokenResponse=n,i}function qX(t,e){return w(this,null,function*(){return id(t,"POST","/v1/accounts:delete",e)})}function DL(t,e){return w(this,null,function*(){return id(t,"POST","/v1/accounts:lookup",e)})}function $f(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $T(t,e=!1){return w(this,null,function*(){let n=It(t),r=yield n.getIdToken(e),i=zT(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$f(CT(i.auth_time)),issuedAtTime:$f(CT(i.iat)),expirationTime:$f(CT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function CT(t){return Number(t)*1e3}function zT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jy("JWT malformed, contained fewer than 3 sections"),null;try{let i=Of(n);return i?JSON.parse(i):(Jy("Failed to decode base64 JWT payload"),null)}catch(i){return Jy("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lL(t){let e=zT(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gf(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jn&&QX(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function QX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var AT=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function s_(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Gf(t,DL(n,{idToken:r}));we(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SL(s.providerUserInfo):[],a=KX(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)})}function GT(t){return w(this,null,function*(){let e=It(t);yield s_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function KX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SL(t){return t.map(e=>{var{providerId:n}=e,r=km(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YX(t,e){return w(this,null,function*(){let n=yield CL(t,{},()=>w(this,null,function*(){let r=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=TL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",i_.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function ZX(t,e){return w(this,null,function*(){return id(t,"POST","/v2/accounts:revokeToken",WT(t,e))})}var zf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");let n=lL(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield YX(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(we(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Do("not implemented")}};function Wa(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var rd=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Gf(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $T(this,e)}reload(){return GT(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield s_(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(ms(this.auth.app))return Promise.reject(rc(this.auth));let e=yield this.getIdToken();return yield Gf(this,qX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,F=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:W,emailVerified:I,isAnonymous:te,providerData:B,stsTokenManager:A}=n;we(W&&A,e,"internal-error");let E=zf.fromJSON(this.name,A);we(typeof W=="string",e,"internal-error"),Wa(h,e.name),Wa(f,e.name),we(typeof I=="boolean",e,"internal-error"),we(typeof te=="boolean",e,"internal-error"),Wa(g,e.name),Wa(v,e.name),Wa(b,e.name),Wa(_,e.name),Wa(x,e.name),Wa(F,e.name);let D=new t({uid:W,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:te,photoURL:v,phoneNumber:g,tenantId:b,stsTokenManager:E,createdAt:x,lastLoginAt:F});return B&&Array.isArray(B)&&(D.providerData=B.map(R=>Object.assign({},R))),_&&(D._redirectEventId=_),D}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new zf;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield s_(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];we(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?SL(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new zf;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var cL=new Map;function So(t){Ao(t instanceof Function,"Expected a class definition");let e=cL.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cL.set(t,e),e)}var XX=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),xT=XX;function e_(t,e,n){return`firebase:${t}:${e}:${n}`}var o_=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=e_(this.userKey,i.apiKey,s),this.fullPersistenceKey=e_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?rd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(So(xT),e,r);let i=(yield Promise.all(n.map(c=>w(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||So(xT),o=e_(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(o);if(u){let h=rd._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>w(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function uL(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ML(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NL(e))return"Blackberry";if(PL(e))return"Webos";if(xL(e))return"Safari";if((e.includes("chrome/")||RL(e))&&!e.includes("edge/"))return"Chrome";if(kL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function AL(t=Dn()){return/firefox\//i.test(t)}function xL(t=Dn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RL(t=Dn()){return/crios\//i.test(t)}function ML(t=Dn()){return/iemobile/i.test(t)}function kL(t=Dn()){return/android/i.test(t)}function NL(t=Dn()){return/blackberry/i.test(t)}function PL(t=Dn()){return/webos/i.test(t)}function qT(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JX(t=Dn()){var e;return qT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eJ(){return L4()&&document.documentMode===10}function OL(t=Dn()){return qT(t)||kL(t)||PL(t)||NL(t)||/windows phone/i.test(t)||ML(t)}function FL(t,e=[]){let n;switch(t){case"Browser":n=uL(Dn());break;case"Worker":n=`${uL(Dn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${r}`}var RT=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function tJ(n){return w(this,arguments,function*(t,e={}){return id(t,"GET","/v2/passwordPolicy",WT(t,e))})}var nJ=6,MT=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var kT=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new RT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=So(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield o_.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield DL(this,{idToken:e}),r=yield rd._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(ms(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield s_(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=WX()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(ms(this.app))return Promise.reject(rc(this));let n=e?It(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return ms(this.app)?Promise.reject(rc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ms(this.app)?Promise.reject(rc(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(So(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield tJ(this),n=new MT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield ZX(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&So(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=yield o_.create(this,[So(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&UX(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function g_(t){return It(t)}var a_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=W4(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var QT={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rJ(t){QT=t}function iJ(t){return QT.loadJS(t)}function sJ(){return QT.gapiScript}function LL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function KT(t,e){let n=Tr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Jl(s,e??{}))return i;ws(i,"already-initialized")}return n.initialize({options:e})}function oJ(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(So);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function YT(t,e,n){let r=g_(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=VL(e),{host:o,port:a}=aJ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||lJ()}function VL(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aJ(t){let e=VL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:dL(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:dL(o)}}}function dL(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function lJ(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Qf=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Do("not implemented")}_getIdTokenResponse(e){return Do("not implemented")}_linkToIdToken(e,n){return Do("not implemented")}_getReauthenticationResolver(e){return Do("not implemented")}};function nd(t,e){return w(this,null,function*(){return GX(t,"POST","/v1/accounts:signInWithIdp",WT(t,e))})}var cJ="http://localhost",l_=class t extends Qf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=km(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return nd(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,nd(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,nd(e,n)}buildRequest(){let e={requestUri:cJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ba(n)}return e}};var Kf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var c_=class extends Kf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var m_=(()=>{class t extends c_{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return l_._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Yf=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield rd._fromIdTokenResponse(e,r,i),o=hL(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=hL(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function hL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var NT=class t extends jn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?NT._fromErrorAndOperation(t,s,e,r):s})}function uJ(t,e,n=!1){return w(this,null,function*(){let r=yield Gf(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Yf._forOperation(t,"link",r)})}function dJ(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(ms(r.app))return Promise.reject(rc(r));let i="reauthenticate";try{let s=yield Gf(t,UL(r,i,e,t),n);we(s.idToken,r,"internal-error");let o=zT(s.idToken);we(o,r,"internal-error");let{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Yf._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ws(r,"user-mismatch"),s}})}function hJ(t,e,n=!1){return w(this,null,function*(){if(ms(t.app))return Promise.reject(rc(t));let r="signIn",i=yield UL(t,r,e),s=yield Yf._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function v_(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function ZT(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function Xf(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function XT(t){return It(t).signOut()}function JT(t){return w(this,null,function*(){return It(t).delete()})}var u_="__sak";var d_=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(u_,"1"),this.storage.removeItem(u_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var fJ=1e3,pJ=10,gJ=(()=>{class t extends d_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OL(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);eJ()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,pJ):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},fJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield pa(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield pa(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield pa(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),jL=gJ;var mJ=(()=>{class t extends d_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),eD=mJ;function vJ(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var yJ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>w(this,null,function*(){return u(r.origin,o)})),c=yield vJ(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function tD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var PT=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=tD("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function _s(){return window}function _J(t){_s().location.href=t}function BL(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}function wJ(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function EJ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bJ(){return BL()?self:null}var HL="firebaseLocalStorageDb",IJ=1,h_="firebaseLocalStorage",WL="fbase_key",sc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function y_(t,e){return t.transaction([h_],e?"readwrite":"readonly").objectStore(h_)}function CJ(){let t=indexedDB.deleteDatabase(HL);return new sc(t).toPromise()}function OT(){let t=indexedDB.open(HL,IJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(h_,{keyPath:WL})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(h_)?e(r):(r.close(),yield CJ(),e(yield OT()))}))})}function fL(t,e,n){return w(this,null,function*(){let r=y_(t,!0).put({[WL]:e,value:n});return new sc(r).toPromise()})}function TJ(t,e){return w(this,null,function*(){let n=y_(t,!1).get(e),r=yield new sc(n).toPromise();return r===void 0?null:r.value})}function pL(t,e){let n=y_(t,!0).delete(e);return new sc(n).toPromise()}var DJ=800,SJ=3,AJ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield OT(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>SJ)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return BL()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=yJ._getInstance(bJ()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield wJ(),!this.activeServiceWorker)return;this.sender=new PT(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||EJ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield OT();return yield fL(n,u_,"1"),yield pL(n,u_),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>fL(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>TJ(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>pL(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=y_(s,!1).getAll();return new sc(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),DJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),$L=AJ;var Tbe=LL("rcb"),Dbe=new ic(3e4,6e4);function zL(t,e){return e?So(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Zf=class extends Qf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nd(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function xJ(t){return hJ(t.auth,new Zf(t),t.bypassAuthState)}function RJ(t){let{auth:e,user:n}=t;return we(n,e,"internal-error"),dJ(n,new Zf(t),t.bypassAuthState)}function MJ(t){return w(this,null,function*(){let{auth:e,user:n}=t;return we(n,e,"internal-error"),uJ(n,new Zf(t),t.bypassAuthState)})}var f_=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xJ;case"linkViaPopup":case"linkViaRedirect":return MJ;case"reauthViaPopup":case"reauthViaRedirect":return RJ;default:ws(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var kJ=new ic(2e3,1e4);function nD(t,e,n){return w(this,null,function*(){if(ms(t.app))return Promise.reject($i(t,"operation-not-supported-in-this-environment"));let r=g_(t);jX(t,e,Kf);let i=zL(r,n);return new NJ(r,"signInViaPopup",e,i).executeNotNull()})}var NJ=(()=>{class t extends f_{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return w(this,null,function*(){let n=yield this.execute();return we(n,this.auth,"internal-error"),n})}onExecution(){return w(this,null,function*(){Ao(this.filter.length===1,"Popup operations only handle one event");let n=tD();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,kJ.get())};n()}}t.currentPopupAction=null;return t})(),PJ="pendingRedirect",t_=new Map,FT=class t extends f_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=t_.get(this.auth._key());if(!e){try{let r=(yield OJ(this.resolver,this.auth))?yield pa(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}t_.set(this.auth._key(),e)}return this.bypassAuthState||t_.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return pa(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pa(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function OJ(t,e){return w(this,null,function*(){let n=VJ(e),r=LJ(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FJ(t,e){t_.set(t._key(),e)}function LJ(t){return So(t._redirectPersistence)}function VJ(t){return e_(PJ,t.config.apiKey,t.name)}function UJ(t,e,n=!1){return w(this,null,function*(){if(ms(t.app))return Promise.reject(rc(t));let r=g_(t),i=zL(r,e),o=yield new FT(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var jJ=10*60*1e3,LT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GL(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(gL(e))}saveEventToCache(e){this.cachedEventUids.add(gL(e)),this.lastProcessedEventTime=Date.now()}};function gL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GL({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GL(t);default:return!1}}function HJ(n){return w(this,arguments,function*(t,e={}){return id(t,"GET","/v1/projects",e)})}var WJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$J=/^https?/;function zJ(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield HJ(t);for(let n of e)try{if(GJ(n))return}catch{}ws(t,"unauthorized-domain")})}function GJ(t){let e=DT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$J.test(n))return!1;if(WJ.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var qJ=new ic(3e4,6e4);function mL(){let t=_s().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QJ(t){return new Promise((e,n)=>{var r,i,s;function o(){mL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mL(),n($i(t,"network-request-failed"))},timeout:qJ.get()})}if(!((i=(r=_s().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_s().gapi)===null||s===void 0)&&s.load)o();else{let a=LL("iframefcb");return _s()[a]=()=>{gapi.load?o():n($i(t,"network-request-failed"))},iJ(`${sJ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw n_=null,e})}var n_=null;function KJ(t){return n_=n_||QJ(t),n_}var YJ=new ic(5e3,15e3),ZJ="__/auth/iframe",XJ="emulator/auth/iframe",JJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tee(t){let e=t.config;we(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?HT(e,XJ):`https://${t.config.authDomain}/${ZJ}`,r={apiKey:e.apiKey,appName:t.name,v:ci},i=eee.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ba(r).slice(1)}`}function nee(t){return w(this,null,function*(){let e=yield KJ(t),n=_s().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:tee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JJ,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=$i(t,"network-request-failed"),a=_s().setTimeout(()=>{s(o)},YJ.get());function l(){_s().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var ree={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iee=500,see=600,oee="_blank",aee="http://localhost",p_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function lee(t,e,n,r=iee,i=see){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},ree),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Dn().toLowerCase();n&&(a=RL(c)?oee:n),AL(c)&&(e=e||aee,l.scrollbars="yes");let u=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(JX(c)&&a!=="_self")return cee(e||"",a),new p_(null);let h=window.open(e||"",a,u);we(h,t,"popup-blocked");try{h.focus()}catch{}return new p_(h)}function cee(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var uee="__/auth/handler",dee="emulator/auth/handler",hee=encodeURIComponent("fac");function vL(t,e,n,r,i,s){return w(this,null,function*(){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ci,eventId:i};if(e instanceof Kf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vf(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof c_){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${hee}=${encodeURIComponent(l)}`:"";return`${fee(t)}?${Ba(a).slice(1)}${c}`})}function fee({config:t}){return t.emulator?HT(t,dee):`https://${t.authDomain}/${uee}`}var TT="webStorageSupport",VT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eD,this._completeRedirectFn=UJ,this._overrideRedirectResult=FJ}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Ao((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield vL(e,n,r,DT(),i);return lee(e,o,tD())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield vL(e,n,r,DT(),i);return _J(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield nee(e),r=new LT(e);return n.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(TT,{type:TT},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[TT];o!==void 0&&n(!!o),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OL()||xL()||qT()}},qL=VT;var yL="@firebase/auth",_L="1.7.9";var UT=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gee(t){Sn(new Bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FL(t)},c=new kT(r,i,s,l);return oJ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new Bt("auth-internal",e=>{let n=g_(e.getProvider("auth").getImmediate());return(r=>new UT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(yL,_L,pee(t)),Ve(yL,_L,"esm2017")}var mee=5*60,vee=aT("authIdTokenMaxAge")||mee,wL=null,yee=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vee)return;let i=n?.token;wL!==i&&(wL=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function rD(t=Hr()){let e=Tr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=KT(t,{popupRedirectResolver:qL,persistence:[$L,jL,eD]}),r=aT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=yee(s.toString());ZT(n,o,()=>o(n.currentUser)),v_(n,a=>o(a))}}let i=sT("auth");return i&&YT(n,`http://${i}`),n}function _ee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rJ({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=$i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",_ee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gee("Browser");function KL(t){return new ke(function(e){var n=Xf(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var YL="auth",ze=class{constructor(e){return e}},xo=class{constructor(){return Wi(YL)}};var iD=new ie("angularfire2.auth-instances");function lte(t,e){let n=ys(YL,t,e);return n&&new ze(n)}function cte(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ze(r)}}var ute={provide:xo,deps:[[new ct,iD]]},dte={provide:ze,useFactory:lte,deps:[[new ct,iD],lr]};function ZL(t,...e){return Ve("angularfire",Wr.full,"auth"),en([dte,ute,{provide:iD,useFactory:cte(t),multi:!0,deps:[xe,St,ui,$r,[new ct,vs],...e]}])}var XL=Qt(KL,!0);var JL=Qt(JT,!0);var eV=Qt(rD,!0);var tV=Qt(Xf,!0);var nV=Qt(nD,!0);var rV=Qt(XT,!0);var iV="@firebase/database",sV="1.0.8";var hS="";function hte(t){hS=t}var hD=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),sn(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var fD=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var FV=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hD(e)}}catch{}return new fD},ac=FV("localStorage"),pD=FV("sessionStorage");var ad=new gs("@firebase/database"),fte=function(){let t=1;return function(){return t++}}(),LV=function(t){let e=$4(t),n=new By;n.update(e);let r=n.digest();return Hy.encodeByteArray(r)},yp=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yp.apply(null,r):typeof r=="object"?e+=sn(r):e+=r,e+=" "}return e},lc=null,oV=!0,pte=function(t,e){J(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ad.logLevel=Oe.VERBOSE,lc=ad.log.bind(ad),e&&pD.set("logging_enabled",!0)):typeof t=="function"?lc=t:(lc=null,pD.remove("logging_enabled"))},Bn=function(...t){if(oV===!0&&(oV=!1,lc===null&&pD.get("logging_enabled")===!0&&pte(!0)),lc){let e=yp.apply(null,t);lc(e)}},_p=function(t){return function(...e){Bn(t,...e)}},gD=function(...t){let e="FIREBASE INTERNAL ERROR: "+yp(...t);ad.error(e)},Ro=function(...t){let e=`FIREBASE FATAL ERROR: ${yp(...t)}`;throw ad.error(e),new Error(e)},dr=function(...t){let e="FIREBASE WARNING: "+yp(...t);ad.warn(e)},gte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mte=function(t){if(ps()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},uc="[MIN_NAME]",qa="[MAX_NAME]",hc=function(t,e){if(t===e)return 0;if(t===uc||e===qa)return-1;if(e===uc||t===qa)return 1;{let n=aV(t),r=aV(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vte=function(t,e){return t===e?0:t<e?-1:1},Jf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+sn(e))},pS=function(t){if(typeof t!="object"||t===null)return sn(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=sn(e[r]),n+=":",n+=pS(t[e[r]]);return n+="}",n},VV=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Hn(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var UV=function(t){J(!fS(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},yte=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_te=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wte(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Ete=new RegExp("^-?(0*)\\d{1,10}$"),bte=-2147483648,Ite=2147483647,aV=function(t){if(Ete.test(t)){let e=Number(t);if(e>=bte&&e<=Ite)return e}return null},yd=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw dr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Cte=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ip=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var mD=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var vD=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dr(e)}},sp=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),w_="5",jV="v",BV="s",HV="r",WV="f",$V=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zV="ls",GV="p",yD="ac",qV="websocket",QV="long_polling";var E_=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ac.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ac.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Tte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function KV(t,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let r;if(e===qV)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===QV)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Tte(t)&&(n.ns=t.namespace);let i=[];return Hn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var _D=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Bi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return N4(this.counters_)}};var sD={},oD={};function gS(t){let e=t.toString();return sD[e]||(sD[e]=new _D),sD[e]}function Dte(t,e){let n=t.toString();return oD[n]||(oD[n]=e()),oD[n]}var wD=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var lV="start",Ste="close",Ate="pLPCommand",xte="pRTLPCB",YV="id",ZV="pw",XV="ser",Rte="cb",Mte="seg",kte="ts",Nte="d",Pte="dframe",JV=1870,e5=30,Ote=JV-e5,Fte=25e3,Lte=3e4,ED=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_p(e),this.stats_=gS(n),this.urlFn=l=>(this.appCheckToken&&(l[yD]=this.appCheckToken),KV(n,QV,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Lte)),mte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bD((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===lV)this.id=a,this.password=l;else if(o===Ste)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[lV]="t",r[XV]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Rte]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jV]=w_,this.transportSessionId&&(r[BV]=this.transportSessionId),this.lastSessionId&&(r[zV]=this.lastSessionId),this.applicationId&&(r[GV]=this.applicationId),this.appCheckToken&&(r[yD]=this.appCheckToken),typeof location<"u"&&location.hostname&&$V.test(location.hostname)&&(r[HV]=WV);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return ps()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yte()&&!_te()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=iT(n),i=VV(r,Ote);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(ps())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Pte]="t",r[YV]=e,r[ZV]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=sn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},bD=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,ps())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=fte(),window[Ate+this.uniqueCallbackIdentifier]=e,window[xte+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Bn("frame writing exception"),a.stack&&Bn(a.stack),Bn(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Bn("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[YV]=this.myID,e[ZV]=this.myPW,e[XV]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+e5+r.length<=JV;){let o=this.pendingSegs.shift();r=r+"&"+Mte+i+"="+o.seg+"&"+kte+i+"="+o.ts+"&"+Nte+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Fte)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){ps()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Bn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Vte=16384,Ute=45e3,b_=null;typeof MozWebSocket<"u"?b_=MozWebSocket:typeof WebSocket<"u"&&(b_=WebSocket);var ep=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_p(this.connId),this.stats_=gS(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[jV]=w_,!ps()&&typeof location<"u"&&location.hostname&&$V.test(location.hostname)&&(a[HV]=WV),r&&(a[BV]=r),i&&(a[zV]=i),s&&(a[yD]=s),o&&(a[GV]=o),KV(n,qV,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ac.set("previous_websocket_failure",!0);try{let i;if(ps()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${w_}/${hS}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new b_(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&b_!==null&&!t.forceDisallow_}static previouslyFailed(){return ac.isInMemoryStorage||ac.get("previous_websocket_failure")===!0}markConnectionHealthy(){ac.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Zu(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(J(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=sn(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=VV(r,Vte);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ute))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),jte=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ED,ep]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ep&&ep.isAvailable(),i=r&&!ep.previouslyFailed();if(n.webSocketOnly&&(r||dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ep];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Bte=6e4,Hte=5e3,Wte=10*1024,$te=100*1024,aD="t",cV="d",zte="s",uV="r",Gte="e",dV="o",hV="a",fV="n",pV="p",qte="h",ID=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_p("c:"+this.id+":"),this.transportManager_=new jte(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ip(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$te?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wte?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(aD in e){let n=e[aD];n===hV?this.upgradeIfSecondaryHealthy_():n===uV?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dV&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Jf("t",e),r=Jf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pV,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hV,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fV,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Jf("t",e),r=Jf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Jf(aD,e);if(cV in e){let r=e[cV];if(n===qte){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===fV){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zte?this.onConnectionShutdown_(r):n===uV?this.onReset_(r):n===Gte?gD("Server Error: "+r):n===dV?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gD("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),w_!==r&&dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ip(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Bte))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ip(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Hte))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pV,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ac.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var I_=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var C_=class{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var T_=class t extends C_{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ff()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var gV=32,mV=768,at=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function et(){return new at("")}function Be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qa(t){return t.pieces_.length-t.pieceNum_}function wt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function mS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qte(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function cp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function t5(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function Ht(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new at(n,0)}function Fe(t){return t.pieceNum_>=t.pieces_.length}function ur(t,e){let n=Be(t),r=Be(e);if(n===null)return e;if(n===r)return ur(wt(t),wt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Kte(t,e){let n=cp(t,0),r=cp(e,0);for(let i=0;i<n.length&&i<r.length;i++){let s=hc(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function n5(t,e){if(Qa(t)!==Qa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function di(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qa(t)>Qa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var CD=class{constructor(e,n){this.errorPrefix_=n,this.parts_=cp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=jf(this.parts_[r]);r5(this)}};function Yte(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=jf(e),r5(t)}function Zte(t){let e=t.parts_.pop();t.byteLength_-=jf(e),t.parts_.length>0&&(t.byteLength_-=1)}function r5(t){if(t.byteLength_>mV)throw new Error(t.errorPrefix_+"has a key path longer than "+mV+" bytes ("+t.byteLength_+").");if(t.parts_.length>gV)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gV+") or object contains a cycle "+oc(t))}function oc(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var TD=class t extends C_{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}};var tp=1e3,Xte=60*5*1e3,vV=30*1e3,Jte=1.3,ene=3e4,tne="server_kill",yV=3,vS=(()=>{class t extends I_{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=_p("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tp,this.maxReconnectDelay_=Xte,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!ps())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TD.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&T_.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(sn(o)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Co,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),J(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Bi(n,"w")){let i=Xl(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||H4(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vV)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=B4(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),J(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+sn(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):gD("Unrecognized action received from server: "+sn(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tp,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=tp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ene&&(this.reconnectDelay_=tp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Jte)}this.onConnectStatus_(!1)}establishConnection_(){return w(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){J(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,g]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?Bn("getToken() completed but was canceled"):(Bn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=g&&g.token,l=new ID(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,v=>{dr(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(tne)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&dr(f),c())}}})}interrupt(n){Bn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Bn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Vf(this.interruptReasons_)&&(this.reconnectDelay_=tp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>pS(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new at(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Bn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yV&&(this.reconnectDelay_=vV,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Bn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yV&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";ps()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+hS.replace(/\./g,"-")]=1,Ff()?n["framework.cordova"]=1:$y()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=T_.getInstance().currentlyOnline();return Vf(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Le=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ld=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Le(uc,e),i=new Le(uc,n);return this.compare(r,i)!==0}minPost(){return Le.MIN}};var __,D_=class extends ld{static get __EMPTY_NODE(){return __}static set __EMPTY_NODE(e){__=e}compare(e,n){return hc(e.name,n.name)}isDefinedOn(e){throw Zl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(qa,__)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,__)}toString(){return".key"}},cc=new D_;var od=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},zi=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??hi.EMPTY_NODE,this.right=o??hi.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return hi.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),DD=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new zi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},hi=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zi.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new od(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new od(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new od(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new od(this.root_,null,this.comparator_,!0,e)}};hi.EMPTY_NODE=new DD;function nne(t,e){return hc(t.name,e.name)}function yS(t,e){return hc(t,e)}var SD;function rne(t){SD=t}var i5=function(t){return typeof t=="number"?"number:"+UV(t):"string:"+t},s5=function(t){if(t.isLeafNode()){let e=t.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bi(e,".sv"),"Priority must be a string or number.")}else J(t===SD||t.isEmpty(),"priority of unexpected type.");J(t===SD||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var _V,cd=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s5(this.priorityNode_)}static set __childrenNodeConstructor(n){_V=n}static get __childrenNodeConstructor(){return _V}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Fe(n)?this:Be(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Be(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(J(i!==".priority"||Qa(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(wt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+i5(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=UV(this.value_):n+=this.value_,this.lazyHash_=LV(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(J(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return J(s>=0,"Unknown leaf type: "+r),J(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),o5,a5;function ine(t){o5=t}function sne(t){a5=t}var AD=class extends ld{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(qa,new cd("[PRIORITY-POST]",a5))}makePost(e,n){let r=o5(e);return new Le(n,new cd("[PRIORITY-POST]",r))}toString(){return".priority"}},Ft=new AD;var one=Math.log(2),xD=class{constructor(e){let n=s=>parseInt(Math.log(s)/one,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},S_=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new zi(f,h.node,zi.BLACK,null,null);{let g=parseInt(u/2,10)+l,v=i(l,g),b=i(g+1,c);return h=t[g],f=n?n(h):h,new zi(f,h.node,zi.BLACK,v,b)}},s=function(l){let c=null,u=null,h=t.length,f=function(v,b){let _=h-v,x=h;h-=v;let F=i(_+1,x),W=t[_],I=n?n(W):W;g(new zi(I,W.node,b,null,F))},g=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){let b=l.nextBitIsOne(),_=Math.pow(2,l.count-(v+1));b?f(_,zi.BLACK):(f(_,zi.BLACK),f(_,zi.RED))}return u},o=new xD(t.length),a=s(o);return new hi(r||e,a)};var lD,sd={},ud=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return J(sd&&Ft,"ChildrenNode.ts has not been loaded"),lD=lD||new t({".priority":sd},{".priority":Ft}),lD}get(e){let n=Xl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hi?n:null}hasIndex(e){return Bi(this.indexSet_,e.toString())}addIndex(e,n){J(e!==cc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Le.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=S_(r,e.getCompare()):a=sd;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Uf(this.indexes_,(i,s)=>{let o=Xl(this.indexSet_,s);if(J(o,"Missing index implementation for "+s),i===sd)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Le.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),S_(a,o.getCompare())}else return sd;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Le(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Uf(this.indexes_,i=>{if(i===sd)return i;{let s=n.get(e.name);return s?i.remove(new Le(e.name,s)):i}});return new t(r,this.indexSet_)}};var np,De=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&s5(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return np||(np=new t(new hi(yS),null,ud.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||np}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?np:r}}getChild(n){let r=Be(n);return r===null?this:this.getImmediateChild(r).getChild(wt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(J(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Le(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?np:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=Be(n);if(i===null)return r;{J(Be(n)!==".priority"||Qa(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(wt(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ft,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+i5(this.getPriority().val())+":"),this.forEachChild(Ft,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":LV(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Le(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Le(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Le(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Le.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Le.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===wp?-1:0}withIndex(n){if(n===cc||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===cc||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ft),s=r.getIterator(Ft),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===cc?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),RD=class extends De{constructor(){super(new hi(yS),De.EMPTY_NODE,ud.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}},wp=new RD;Object.defineProperties(Le,{MIN:{value:new Le(uc,De.EMPTY_NODE)},MAX:{value:new Le(qa,wp)}});D_.__EMPTY_NODE=De.EMPTY_NODE;cd.__childrenNodeConstructor=De;rne(wp);sne(wp);var ane=!0;function yn(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new cd(n,yn(e))}if(!(t instanceof Array)&&ane){let n=[],r=!1;if(Hn(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=yn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Le(o,l)))}}),n.length===0)return De.EMPTY_NODE;let s=S_(n,nne,o=>o.name,yS);if(r){let o=S_(n,Ft.getCompare());return new De(s,yn(e),new ud({".priority":o},{".priority":Ft}))}else return new De(s,yn(e),ud.Default)}else{let n=De.EMPTY_NODE;return Hn(t,(r,i)=>{if(Bi(t,r)&&r.substring(0,1)!=="."){let s=yn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(yn(e))}}ine(yn);var up=class extends ld{constructor(e){super(),this.indexPath_=e,J(!Fe(e)&&Be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hc(e.name,n.name):s}makePost(e,n){let r=yn(e),i=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new Le(n,i)}maxPost(){let e=De.EMPTY_NODE.updateChild(this.indexPath_,wp);return new Le(qa,e)}toString(){return cp(this.indexPath_,0).join("/")}};var MD=class extends ld{compare(e,n){let r=e.node.compareTo(n.node);return r===0?hc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){let r=yn(e);return new Le(n,r)}toString(){return".value"}},l5=new MD;function c5(t){return{type:"value",snapshotNode:t}}function dd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lne(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var fp=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(dp(n,a)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(dd(n,r)):o.trackChildChange(hp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ft,(i,s)=>{n.hasChild(i)||r.trackChildChange(dp(i,s))}),n.isLeafNode()||n.forEachChild(Ft,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(hp(i,s,o))}else r.trackChildChange(dd(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?De.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var A_=class t{constructor(e){this.indexedFilter_=new fp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Le(n,r))||(r=De.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=De.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(De.EMPTY_NODE);let s=this;return n.forEachChild(Ft,(o,a)=>{s.matches(new Le(o,a))||(i=i.updateImmediateChild(o,De.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var kD=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new A_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Le(n,r))||(r=De.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=De.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=De.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(De.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,De.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let h=this.index_.getCompare();o=(f,g)=>h(g,f)}else o=this.index_.getCompare();let a=e;J(a.numChildren()===this.limit_,"");let l=new Le(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let h=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let g=f==null?1:o(f,l);if(u&&!r.isEmpty()&&g>=0)return s?.trackChildChange(hp(n,r,h)),a.updateImmediateChild(n,r);{s?.trackChildChange(dp(n,h));let b=a.updateImmediateChild(n,De.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(dd(f.name,f.node)),b.updateImmediateChild(f.name,f.node)):b}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(dp(c.name,c.node)),s.trackChildChange(dd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,De.EMPTY_NODE)):e}};var ND=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ft}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:uc}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ft}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function cne(t){return t.loadsAllData()?new fp(t.getIndex()):t.hasLimit()?new kD(t):new A_(t)}function une(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function dne(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function hne(t,e){let n=t.copy();return n.index_=e,n}function wV(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ft?n="$priority":t.index_===l5?n="$value":t.index_===cc?n="$key":(J(t.index_ instanceof up,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=sn(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=sn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+sn(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=sn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+sn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function EV(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ft&&(e.i=t.index_.toString()),e}var PD=class t extends I_{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_p("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=wV(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Xl(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=wV(e._queryParams),r=e._path.toString(),i=new Co;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ba(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zu(a.responseText)}catch{dr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&dr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var OD=class{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function x_(){return{value:null,children:new Map}}function u5(t,e,n){if(Fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Be(e);t.children.has(r)||t.children.set(r,x_());let i=t.children.get(r);e=wt(e),u5(i,e,n)}}function FD(t,e,n){t.value!==null?n(e,t.value):fne(t,(r,i)=>{let s=new at(e.toString()+"/"+r);FD(i,s,n)})}function fne(t,e){t.children.forEach((n,r)=>{e(r,n)})}var LD=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Hn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var bV=10*1e3,pne=30*1e3,gne=5*60*1e3,VD=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LD(e);let r=bV+(pne-bV)*Math.random();ip(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Hn(e,(i,s)=>{s>0&&Bi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ip(this.reportStats_.bind(this),Math.floor(Math.random()*2*gne))}};var Es=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Es||{});function _S(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ES(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var UD=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Es.ACK_USER_WRITE,this.source=_S()}operationForChild(e){if(Fe(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new at(e));return new t(et(),n,this.revert)}}else return J(Be(this.path)===e,"operationForChild called for unrelated child."),new t(wt(this.path),this.affectedTree,this.revert)}};var R_=class t{constructor(e,n){this.source=e,this.path=n,this.type=Es.LISTEN_COMPLETE}operationForChild(e){return Fe(this.path)?new t(this.source,et()):new t(this.source,wt(this.path))}};var hd=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Es.OVERWRITE}operationForChild(e){return Fe(this.path)?new t(this.source,et(),this.snap.getImmediateChild(e)):new t(this.source,wt(this.path),this.snap)}};var pp=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Es.MERGE}operationForChild(e){if(Fe(this.path)){let n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new hd(this.source,et(),n.value):new t(this.source,et(),n)}else return J(Be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,wt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var bs=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fe(e))return this.isFullyInitialized()&&!this.filtered_;let n=Be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var jD=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function mne(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(lne(o.childName,o.snapshotNode))}),rp(t,i,"child_removed",e,r,n),rp(t,i,"child_added",e,r,n),rp(t,i,"child_moved",s,r,n),rp(t,i,"child_changed",e,r,n),rp(t,i,"value",e,r,n),i}function rp(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>yne(t,a,l)),o.forEach(a=>{let l=vne(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function vne(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function yne(t,e,n){if(e.childName==null||n.childName==null)throw Zl("Should only compare child_ events.");let r=new Le(e.childName,e.snapshotNode),i=new Le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function j_(t,e){return{eventCache:t,serverCache:e}}function op(t,e,n,r){return j_(new bs(e,n,r),t.serverCache)}function d5(t,e,n,r){return j_(t.eventCache,new bs(e,n,r))}function M_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function dc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var cD,_ne=()=>(cD||(cD=new hi(vte)),cD),hr=class t{constructor(e,n=_ne()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Hn(e,(r,i)=>{n=n.set(new at(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:et(),value:this.value};if(Fe(e))return null;{let r=Be(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(wt(e),n);return s!=null?{path:Ht(new at(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Fe(e))return this;{let n=Be(e),r=this.children.get(n);return r!==null?r.subtree(wt(e)):new t(null)}}set(e,n){if(Fe(e))return new t(n,this.children);{let r=Be(e),s=(this.children.get(r)||new t(null)).set(wt(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Fe(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Be(e),r=this.children.get(n);if(r){let i=r.remove(wt(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Fe(e))return this.value;{let n=Be(e),r=this.children.get(n);return r?r.get(wt(e)):null}}setTree(e,n){if(Fe(e))return n;{let r=Be(e),s=(this.children.get(r)||new t(null)).setTree(wt(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(et(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ht(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,et(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Fe(e))return null;{let s=Be(e),o=this.children.get(s);return o?o.findOnPath_(wt(e),Ht(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,et(),n)}foreachOnPath_(e,n,r){if(Fe(e))return this;{this.value&&r(n,this.value);let i=Be(e),s=this.children.get(i);return s?s.foreachOnPath_(wt(e),Ht(n,i),r):new t(null)}}foreach(e){this.foreach_(et(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ht(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Gi=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new hr(null))}};function ap(t,e,n){if(Fe(e))return new Gi(new hr(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=ur(i,e);return s=s.updateChild(o,n),new Gi(t.writeTree_.set(i,s))}else{let i=new hr(n),s=t.writeTree_.setTree(e,i);return new Gi(s)}}}function BD(t,e,n){let r=t;return Hn(n,(i,s)=>{r=ap(r,Ht(e,i),s)}),r}function IV(t,e){if(Fe(e))return Gi.empty();{let n=t.writeTree_.setTree(e,new hr(null));return new Gi(n)}}function HD(t,e){return fc(t,e)!=null}function fc(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ur(n.path,e)):null}function CV(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ft,(r,i)=>{e.push(new Le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Le(r,i.value))}),e}function za(t,e){if(Fe(e))return t;{let n=fc(t,e);return n!=null?new Gi(new hr(n)):new Gi(t.writeTree_.subtree(e))}}function WD(t){return t.writeTree_.isEmpty()}function fd(t,e){return h5(et(),t.writeTree_,e)}function h5(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(J(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=h5(Ht(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ht(t,".priority"),r)),n}}function B_(t,e){return m5(e,t)}function wne(t,e,n,r,i){J(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ap(t.visibleWrites,e,n)),t.lastWriteId=r}function Ene(t,e,n,r){J(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=BD(t.visibleWrites,e,n),t.lastWriteId=r}function bne(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ine(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&Cne(a,r.path)?i=!1:di(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Tne(t),!0;if(r.snap)t.visibleWrites=IV(t.visibleWrites,r.path);else{let a=r.children;Hn(a,l=>{t.visibleWrites=IV(t.visibleWrites,Ht(r.path,l))})}return!0}else return!1}function Cne(t,e){if(t.snap)return di(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&di(Ht(t.path,n),e))return!0;return!1}function Tne(t){t.visibleWrites=f5(t.allWrites,Dne,et()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Dne(t){return t.visible}function f5(t,e,n){let r=Gi.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)di(n,o)?(a=ur(n,o),r=ap(r,a,s.snap)):di(o,n)&&(a=ur(o,n),r=ap(r,et(),s.snap.getChild(a)));else if(s.children){if(di(n,o))a=ur(n,o),r=BD(r,a,s.children);else if(di(o,n))if(a=ur(o,n),Fe(a))r=BD(r,et(),s.children);else{let l=Xl(s.children,Be(a));if(l){let c=l.getChild(wt(a));r=ap(r,et(),c)}}}else throw Zl("WriteRecord should have .snap or .children")}}return r}function p5(t,e,n,r,i){if(!r&&!i){let s=fc(t.visibleWrites,e);if(s!=null)return s;{let o=za(t.visibleWrites,e);if(WD(o))return n;if(n==null&&!HD(o,et()))return null;{let a=n||De.EMPTY_NODE;return fd(o,a)}}}else{let s=za(t.visibleWrites,e);if(!i&&WD(s))return n;if(!i&&n==null&&!HD(s,et()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(di(c.path,e)||di(e,c.path))},a=f5(t.allWrites,o,e),l=n||De.EMPTY_NODE;return fd(a,l)}}}function Sne(t,e,n){let r=De.EMPTY_NODE,i=fc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ft,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=za(t.visibleWrites,e);return n.forEachChild(Ft,(o,a)=>{let l=fd(za(s,new at(o)),a);r=r.updateImmediateChild(o,l)}),CV(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=za(t.visibleWrites,e);return CV(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Ane(t,e,n,r,i){J(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Ht(e,n);if(HD(t.visibleWrites,s))return null;{let o=za(t.visibleWrites,s);return WD(o)?i.getChild(n):fd(o,i.getChild(n))}}function xne(t,e,n,r){let i=Ht(e,n),s=fc(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=za(t.visibleWrites,i);return fd(o,r.getNode().getImmediateChild(n))}else return null}function Rne(t,e){return fc(t.visibleWrites,e)}function Mne(t,e,n,r,i,s,o){let a,l=za(t.visibleWrites,e),c=fc(l,et());if(c!=null)a=c;else if(n!=null)a=fd(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),g=f.getNext();for(;g&&u.length<i;)h(g,r)!==0&&u.push(g),g=f.getNext();return u}else return[]}function kne(){return{visibleWrites:Gi.empty(),allWrites:[],lastWriteId:-1}}function k_(t,e,n,r){return p5(t.writeTree,t.treePath,e,n,r)}function bS(t,e){return Sne(t.writeTree,t.treePath,e)}function TV(t,e,n,r){return Ane(t.writeTree,t.treePath,e,n,r)}function N_(t,e){return Rne(t.writeTree,Ht(t.treePath,e))}function Nne(t,e,n,r,i,s){return Mne(t.writeTree,t.treePath,e,n,r,i,s)}function IS(t,e,n){return xne(t.writeTree,t.treePath,e,n)}function g5(t,e){return m5(Ht(t.treePath,e),t.writeTree)}function m5(t,e){return{treePath:t,writeTree:e}}var $D=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,hp(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,dp(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,dd(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,hp(r,e.snapshotNode,i.oldSnap));else throw Zl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var zD=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},v5=new zD,gp=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IS(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dc(this.viewCache_),s=Nne(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function Pne(t){return{filter:t}}function One(t,e){J(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Fne(t,e,n,r,i){let s=new $D,o,a;if(n.type===Es.OVERWRITE){let c=n;c.source.fromUser?o=GD(t,e,c.path,c.snap,r,i,s):(J(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Fe(c.path),o=P_(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Es.MERGE){let c=n;c.source.fromUser?o=Vne(t,e,c.path,c.children,r,i,s):(J(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=qD(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Es.ACK_USER_WRITE){let c=n;c.revert?o=Bne(t,e,c.path,r,i,s):o=Une(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Es.LISTEN_COMPLETE)o=jne(t,e,n.path,r,s);else throw Zl("Unknown operation type: "+n.type);let l=s.getChanges();return Lne(e,o,l),{viewCache:o,changes:l}}function Lne(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=M_(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(c5(M_(e)))}}function y5(t,e,n,r,i,s){let o=e.eventCache;if(N_(r,n)!=null)return e;{let a,l;if(Fe(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=dc(e),u=c instanceof De?c:De.EMPTY_NODE,h=bS(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let c=k_(r,dc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=Be(n);if(c===".priority"){J(Qa(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let h=TV(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{let u=wt(n),h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let f=TV(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=IS(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return op(e,a,o.isFullyInitialized()||Fe(n),t.filter.filtersNodes())}}function P_(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(Fe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let g=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),g,null)}else{let g=Be(n);if(!l.isCompleteForPath(n)&&Qa(n)>1)return e;let v=wt(n),_=l.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),g,_,v,v5,null)}let h=d5(e,c,l.isFullyInitialized()||Fe(n),u.filtersNodes()),f=new gp(i,h,s);return y5(t,h,n,i,f,a)}function GD(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new gp(i,e,s);if(Fe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=op(e,c,!0,t.filter.filtersNodes());else{let h=Be(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=op(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=wt(n),g=a.getNode().getImmediateChild(h),v;if(Fe(f))v=r;else{let b=u.getCompleteChild(h);b!=null?mS(f)===".priority"&&b.getChild(t5(f)).isEmpty()?v=b:v=b.updateChild(f,r):v=De.EMPTY_NODE}if(g.equals(v))l=e;else{let b=t.filter.updateChild(a.getNode(),h,v,f,u,o);l=op(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function DV(t,e){return t.eventCache.isCompleteForChild(e)}function Vne(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Ht(n,l);DV(e,Be(u))&&(a=GD(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Ht(n,l);DV(e,Be(u))||(a=GD(t,a,u,c,i,s,o))}),a}function SV(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function qD(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Fe(n)?c=r:c=new hr(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){let g=e.serverCache.getNode().getImmediateChild(h),v=SV(t,g,f);l=P_(t,l,new at(h),v,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{let g=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!g){let v=e.serverCache.getNode().getImmediateChild(h),b=SV(t,v,f);l=P_(t,l,new at(h),b,i,s,o,a)}}),l}function Une(t,e,n,r,i,s,o){if(N_(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Fe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return P_(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Fe(n)){let c=new hr(null);return l.getNode().forEachChild(cc,(u,h)=>{c=c.set(new at(u),h)}),qD(t,e,n,c,i,s,a,o)}else return e}else{let c=new hr(null);return r.foreach((u,h)=>{let f=Ht(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),qD(t,e,n,c,i,s,a,o)}}function jne(t,e,n,r,i){let s=e.serverCache,o=d5(e,s.getNode(),s.isFullyInitialized()||Fe(n),s.isFiltered());return y5(t,o,n,r,v5,i)}function Bne(t,e,n,r,i,s){let o;if(N_(r,n)!=null)return e;{let a=new gp(r,e,i),l=e.eventCache.getNode(),c;if(Fe(n)||Be(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=k_(r,dc(e));else{let h=e.serverCache.getNode();J(h instanceof De,"serverChildren would be complete if leaf node"),u=bS(r,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=Be(n),h=IS(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,wt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,De.EMPTY_NODE,wt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=k_(r,dc(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||N_(r,et())!=null,op(e,c,o,t.filter.filtersNodes())}}var QD=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new fp(r.getIndex()),s=cne(r);this.processor_=Pne(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(De.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(De.EMPTY_NODE,a.getNode(),null),u=new bs(l,o.isFullyInitialized(),i.filtersNodes()),h=new bs(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=j_(h,u),this.eventGenerator_=new jD(this.query_)}get query(){return this.query_}};function Hne(t){return t.viewCache_.serverCache.getNode()}function Wne(t){return M_(t.viewCache_)}function $ne(t,e){let n=dc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Fe(e)&&!n.getImmediateChild(Be(e)).isEmpty())?n.getChild(e):null}function AV(t){return t.eventRegistrations_.length===0}function zne(t,e){t.eventRegistrations_.push(e)}function xV(t,e,n){let r=[];if(n){J(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function RV(t,e,n,r){e.type===Es.MERGE&&e.source.queryId!==null&&(J(dc(t.viewCache_),"We should always have a full cache before handling merges"),J(M_(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=Fne(t.processor_,i,e,n,r);return One(t.processor_,s.viewCache),J(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,_5(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Gne(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ft,(s,o)=>{r.push(dd(s,o))}),n.isFullyInitialized()&&r.push(c5(n.getNode())),_5(t,r,n.getNode(),e)}function _5(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return mne(t.eventGenerator_,e,n,i)}var O_,F_=class{constructor(){this.views=new Map}};function qne(t){J(!O_,"__referenceConstructor has already been defined"),O_=t}function Qne(){return J(O_,"Reference.ts has not been loaded"),O_}function Kne(t){return t.views.size===0}function CS(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return J(s!=null,"SyncTree gave us an op for an invalid query."),RV(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(RV(o,e,n,r));return s}}function w5(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=k_(n,i?r:null),l=!1;a?l=!0:r instanceof De?(a=bS(n,r),l=!1):(a=De.EMPTY_NODE,l=!1);let c=j_(new bs(a,l,!1),new bs(r,i,!1));return new QD(e,c)}return o}function Yne(t,e,n,r,i,s){let o=w5(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),zne(o,n),Gne(o,n)}function Zne(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=Ka(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat(xV(c,n,r)),AV(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat(xV(l,n,r)),AV(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ka(t)&&s.push(new(Qne())(e._repo,e._path)),{removed:s,events:o}}function E5(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ga(t,e){let n=null;for(let r of t.views.values())n=n||$ne(r,e);return n}function b5(t,e){if(e._queryParams.loadsAllData())return H_(t);{let r=e._queryIdentifier;return t.views.get(r)}}function I5(t,e){return b5(t,e)!=null}function Ka(t){return H_(t)!=null}function H_(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var L_;function Xne(t){J(!L_,"__referenceConstructor has already been defined"),L_=t}function Jne(){return J(L_,"Reference.ts has not been loaded"),L_}var ere=1,V_=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hr(null),this.pendingWriteTree_=kne(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function C5(t,e,n,r,i){return wne(t.pendingWriteTree_,e,n,r,i),i?_d(t,new hd(_S(),e,n)):[]}function tre(t,e,n,r){Ene(t.pendingWriteTree_,e,n,r);let i=hr.fromObject(n);return _d(t,new pp(_S(),e,i))}function $a(t,e,n=!1){let r=bne(t.pendingWriteTree_,e);if(Ine(t.pendingWriteTree_,e)){let s=new hr(null);return r.snap!=null?s=s.set(et(),!0):Hn(r.children,o=>{s=s.set(new at(o),!0)}),_d(t,new UD(r.path,s,n))}else return[]}function Ep(t,e,n){return _d(t,new hd(wS(),e,n))}function nre(t,e,n){let r=hr.fromObject(n);return _d(t,new pp(wS(),e,r))}function rre(t,e){return _d(t,new R_(wS(),e))}function ire(t,e,n){let r=DS(t,n);if(r){let i=SS(r),s=i.path,o=i.queryId,a=ur(s,e),l=new R_(ES(o),a);return AS(t,s,l)}else return[]}function T5(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||I5(o,e))){let l=Zne(o,e,n,r);Kne(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(f,g)=>Ka(g));if(u&&!h){let f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){let g=lre(f);for(let v=0;v<g.length;++v){let b=g[v],_=b.query,x=x5(t,b);t.listenProvider_.startListening(lp(_),mp(t,_),x.hashFn,x.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(lp(e),null):c.forEach(f=>{let g=t.queryToTagMap.get(W_(f));t.listenProvider_.stopListening(lp(f),g)}))}cre(t,c)}return a}function D5(t,e,n,r){let i=DS(t,r);if(i!=null){let s=SS(i),o=s.path,a=s.queryId,l=ur(o,e),c=new hd(ES(a),l,n);return AS(t,o,c)}else return[]}function sre(t,e,n,r){let i=DS(t,r);if(i){let s=SS(i),o=s.path,a=s.queryId,l=ur(o,e),c=hr.fromObject(n),u=new pp(ES(a),l,c);return AS(t,o,u)}else return[]}function ore(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,g)=>{let v=ur(f,i);s=s||Ga(g,v),o=o||Ka(g)});let a=t.syncPointTree_.get(i);a?(o=o||Ka(a),s=s||Ga(a,et())):(a=new F_,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=De.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{let b=Ga(v,et());b&&(s=s.updateImmediateChild(g,b))}));let c=I5(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=W_(e);J(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let g=ure();t.queryToTagMap.set(f,g),t.tagToQueryMap.set(g,f)}let u=B_(t.pendingWriteTree_,i),h=Yne(a,e,n,u,s,l);if(!c&&!o&&!r){let f=b5(a,e);h=h.concat(dre(t,e,f))}return h}function TS(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=ur(o,e),c=Ga(a,l);if(c)return c});return p5(i,e,s,n,!0)}function are(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let h=ur(c,n);r=r||Ga(u,h)});let i=t.syncPointTree_.get(n);i?r=r||Ga(i,et()):(i=new F_,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new bs(r,!0,!1):null,a=B_(t.pendingWriteTree_,e._path),l=w5(i,e,a,s?o.getNode():De.EMPTY_NODE,s);return Wne(l)}function _d(t,e){return S5(e,t.syncPointTree_,null,B_(t.pendingWriteTree_,et()))}function S5(t,e,n,r){if(Fe(t.path))return A5(t,e,n,r);{let i=e.get(et());n==null&&i!=null&&(n=Ga(i,et()));let s=[],o=Be(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=g5(r,o);s=s.concat(S5(a,l,c,u))}return i&&(s=s.concat(CS(i,t,r,n))),s}}function A5(t,e,n,r){let i=e.get(et());n==null&&i!=null&&(n=Ga(i,et()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=g5(r,o),u=t.operationForChild(o);u&&(s=s.concat(A5(u,a,l,c)))}),i&&(s=s.concat(CS(i,t,r,n))),s}function x5(t,e){let n=e.query,r=mp(t,n);return{hashFn:()=>(Hne(e)||De.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ire(t,n._path,r):rre(t,n._path);{let s=wte(i,n);return T5(t,n,null,s)}}}}function mp(t,e){let n=W_(e);return t.queryToTagMap.get(n)}function W_(t){return t._path.toString()+"$"+t._queryIdentifier}function DS(t,e){return t.tagToQueryMap.get(e)}function SS(t){let e=t.indexOf("$");return J(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function AS(t,e,n){let r=t.syncPointTree_.get(e);J(r,"Missing sync point for query tag that we're tracking");let i=B_(t.pendingWriteTree_,e);return CS(r,n,i,null)}function lre(t){return t.fold((e,n,r)=>{if(n&&Ka(n))return[H_(n)];{let i=[];return n&&(i=E5(n)),Hn(r,(s,o)=>{i=i.concat(o)}),i}})}function lp(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Jne())(t._repo,t._path):t}function cre(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=W_(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function ure(){return ere++}function dre(t,e,n){let r=e._path,i=mp(t,e),s=x5(t,n),o=t.listenProvider_.startListening(lp(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)J(!Ka(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,h)=>{if(!Fe(c)&&u&&Ka(u))return[H_(u).query];{let f=[];return u&&(f=f.concat(E5(u).map(g=>g.query))),Hn(h,(g,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(lp(u),mp(t,u))}}return o}var KD=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},YD=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ht(this.path_,e);return new t(this.syncTree_,n)}node(){return TS(this.syncTree_,this.path_)}},hre=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},MV=function(t,e,n){if(!t||typeof t!="object")return t;if(J(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fre(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pre(t[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fre=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+t)}},pre=function(t,e,n){t.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&J(!1,"Unexpected increment value: "+r);let i=e.node();if(J(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},R5=function(t,e,n,r){return xS(e,new YD(n,t),r)},M5=function(t,e,n){return xS(t,new KD(e),n)};function xS(t,e,n){let r=t.getPriority().val(),i=MV(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=MV(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new cd(a,yn(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new cd(i))),o.forEachChild(Ft,(a,l)=>{let c=xS(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var vp=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function RS(t,e){let n=e instanceof at?e:new at(e),r=t,i=Be(n);for(;i!==null;){let s=Xl(r.node.children,i)||{children:{},childCount:0};r=new vp(i,r,s),n=wt(n),i=Be(n)}return r}function wd(t){return t.node.value}function k5(t,e){t.node.value=e,ZD(t)}function N5(t){return t.node.childCount>0}function gre(t){return wd(t)===void 0&&!N5(t)}function $_(t,e){Hn(t.node.children,(n,r)=>{e(new vp(n,t,r))})}function P5(t,e,n,r){n&&!r&&e(t),$_(t,i=>{P5(i,e,!0,r)}),n&&r&&e(t)}function mre(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function bp(t){return new at(t.parent===null?t.name:bp(t.parent)+"/"+t.name)}function ZD(t){t.parent!==null&&vre(t.parent,t.name,t)}function vre(t,e,n){let r=gre(n),i=Bi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ZD(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ZD(t))}var yre=/[\[\].#$\/\u0000-\u001F\u007F]/,_re=/[\[\].#$\u0000-\u001F\u007F]/,uD=10*1024*1024,z_=function(t){return typeof t=="string"&&t.length!==0&&!yre.test(t)},O5=function(t){return typeof t=="string"&&t.length!==0&&!_re.test(t)},wre=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),O5(t)},XD=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!fS(t)||t&&typeof t=="object"&&Bi(t,".sv")},Ip=function(t,e,n,r){r&&e===void 0||G_(ed(t,"value"),e,n)},G_=function(t,e,n){let r=n instanceof at?new CD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+oc(r));if(typeof e=="function")throw new Error(t+"contains a function "+oc(r)+" with contents = "+e.toString());if(fS(e))throw new Error(t+"contains "+e.toString()+" "+oc(r));if(typeof e=="string"&&e.length>uD/3&&jf(e)>uD)throw new Error(t+"contains a string greater than "+uD+" utf8 bytes "+oc(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Hn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!z_(o)))throw new Error(t+" contains an invalid key ("+o+") "+oc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Yte(r,o),G_(t,a,r),Zte(r)}),i&&s)throw new Error(t+' contains ".value" child '+oc(r)+" in addition to actual children.")}},Ere=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let s=cp(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!z_(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Kte);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&di(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},bre=function(t,e,n,r){if(r&&e===void 0)return;let i=ed(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];Hn(e,(o,a)=>{let l=new at(o);if(G_(i,a,Ht(n,l)),mS(l)===".priority"&&!XD(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Ere(i,s)};var Ire=function(t,e,n,r){if(!(r&&n===void 0)&&!z_(n))throw new Error(ed(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},MS=function(t,e,n,r){if(!(r&&n===void 0)&&!O5(n))throw new Error(ed(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Cre=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),MS(t,e,n,r)},kS=function(t,e){if(Be(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Tre=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!z_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wre(n))throw new Error(ed(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var JD=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function NS(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!n5(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function fi(t,e,n){NS(t,n),Dre(t,r=>di(r,e)||di(e,r))}function Dre(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(Sre(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Sre(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();lc&&Bn("event: "+n.toString()),yd(r)}}}var Are="repo_interrupt",xre=25,eS=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x_(),this.transactionQueueTree_=new vp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Rre(t,e,n){if(t.stats_=gS(t.repoInfo_),t.forceRestClient_||Cte())t.server_=new PD(t.repoInfo_,(r,i,s,o)=>{kV(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>NV(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{sn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new vS(t.repoInfo_,e,(r,i,s,o)=>{kV(t,r,i,s,o)},r=>{NV(t,r)},r=>{Mre(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Dte(t.repoInfo_,()=>new VD(t.stats_,t.server_)),t.infoData_=new OD,t.infoSyncTree_=new V_({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ep(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),PS(t,"connected",!1),t.serverSyncTree_=new V_({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);fi(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function F5(t){let n=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function q_(t){return hre({timestamp:F5(t)})}function kV(t,e,n,r,i){t.dataUpdateCount++;let s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Uf(n,c=>yn(c));o=sre(t.serverSyncTree_,s,l,i)}else{let l=yn(n);o=D5(t.serverSyncTree_,s,l,i)}else if(r){let l=Uf(n,c=>yn(c));o=nre(t.serverSyncTree_,s,l)}else{let l=yn(n);o=Ep(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=pd(t,s)),fi(t.eventQueue_,a,o)}function NV(t,e){PS(t,"connected",e),e===!1&&Ore(t)}function Mre(t,e){Hn(e,(n,r)=>{PS(t,n,r)})}function PS(t,e,n){let r=new at("/.info/"+e),i=yn(n);t.infoData_.updateSnapshot(r,i);let s=Ep(t.infoSyncTree_,r,i);fi(t.eventQueue_,r,s)}function OS(t){return t.nextWriteId_++}function kre(t,e,n){let r=are(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=yn(i).withIndex(e._queryParams.getIndex());ore(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ep(t.serverSyncTree_,e._path,s);else{let a=mp(t.serverSyncTree_,e);o=D5(t.serverSyncTree_,e._path,s,a)}return fi(t.eventQueue_,e._path,o),T5(t.serverSyncTree_,e,n,null,!0),s},i=>(Cp(t,"get for query "+sn(e)+" failed: "+i),Promise.reject(new Error(i))))}function Nre(t,e,n,r,i){Cp(t,"set",{path:e.toString(),value:n,priority:r});let s=q_(t),o=yn(n,r),a=TS(t.serverSyncTree_,e),l=M5(o,a,s),c=OS(t),u=C5(t.serverSyncTree_,e,l,c,!0);NS(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,g)=>{let v=f==="ok";v||dr("set at "+e+" failed: "+f);let b=$a(t.serverSyncTree_,c,!v);fi(t.eventQueue_,e,b),tS(t,i,f,g)});let h=LS(t,e);pd(t,h),fi(t.eventQueue_,h,[])}function Pre(t,e,n,r){Cp(t,"update",{path:e.toString(),value:n});let i=!0,s=q_(t),o={};if(Hn(n,(a,l)=>{i=!1,o[a]=R5(Ht(e,a),yn(l),t.serverSyncTree_,s)}),i)Bn("update() called with empty data.  Don't do anything."),tS(t,r,"ok",void 0);else{let a=OS(t),l=tre(t.serverSyncTree_,e,o,a);NS(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let h=c==="ok";h||dr("update at "+e+" failed: "+c);let f=$a(t.serverSyncTree_,a,!h),g=f.length>0?pd(t,e):e;fi(t.eventQueue_,g,f),tS(t,r,c,u)}),Hn(n,c=>{let u=LS(t,Ht(e,c));pd(t,u)}),fi(t.eventQueue_,e,[])}}function Ore(t){Cp(t,"onDisconnectEvents");let e=q_(t),n=x_();FD(t.onDisconnect_,et(),(i,s)=>{let o=R5(i,s,t.serverSyncTree_,e);u5(n,i,o)});let r=[];FD(n,et(),(i,s)=>{r=r.concat(Ep(t.serverSyncTree_,i,s));let o=LS(t,i);pd(t,o)}),t.onDisconnect_=x_(),fi(t.eventQueue_,et(),r)}function Fre(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Are)}function Cp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Bn(n,...e)}function tS(t,e,n,r){e&&yd(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function L5(t,e,n){return TS(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function FS(t,e=t.transactionQueueTree_){if(e||Q_(t,e),wd(e)){let n=U5(t,e);J(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Lre(t,bp(e),n)}else N5(e)&&$_(e,n=>{FS(t,n)})}function Lre(t,e,n){let r=n.map(c=>c.currentWriteId),i=L5(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];J(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let h=ur(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Cp(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat($a(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Q_(t,RS(t.transactionQueueTree_,e)),FS(t,t.transactionQueueTree_),fi(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)yd(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{dr("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}pd(t,e)}},o)}function pd(t,e){let n=V5(t,e),r=bp(n),i=U5(t,n);return Vre(t,i,r),r}function Vre(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=ur(n,l.path),u=!1,h;if(J(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat($a(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=xre)u=!0,h="maxretry",i=i.concat($a(t.serverSyncTree_,l.currentWriteId,!0));else{let f=L5(t,l.path,o);l.currentInputSnapshot=f;let g=e[a].update(f.val());if(g!==void 0){G_("transaction failed: Data returned ",g,l.path);let v=yn(g);typeof g=="object"&&g!=null&&Bi(g,".priority")||(v=v.updatePriority(f.getPriority()));let _=l.currentWriteId,x=q_(t),F=M5(v,f,x);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=F,l.currentWriteId=OS(t),o.splice(o.indexOf(_),1),i=i.concat(C5(t.serverSyncTree_,l.path,F,l.currentWriteId,l.applyLocally)),i=i.concat($a(t.serverSyncTree_,_,!0))}else u=!0,h="nodata",i=i.concat($a(t.serverSyncTree_,l.currentWriteId,!0))}fi(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Q_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)yd(r[a]);FS(t,t.transactionQueueTree_)}function V5(t,e){let n,r=t.transactionQueueTree_;for(n=Be(e);n!==null&&wd(r)===void 0;)r=RS(r,n),e=wt(e),n=Be(e);return r}function U5(t,e){let n=[];return j5(t,e,n),n.sort((r,i)=>r.order-i.order),n}function j5(t,e,n){let r=wd(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);$_(e,i=>{j5(t,i,n)})}function Q_(t,e){let n=wd(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,k5(e,n.length>0?n:void 0)}$_(e,r=>{Q_(t,r)})}function LS(t,e){let n=bp(V5(t,e)),r=RS(t.transactionQueueTree_,e);return mre(r,i=>{dD(t,i)}),dD(t,r),P5(r,i=>{dD(t,i)}),n}function dD(t,e){let n=wd(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(J(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(J(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($a(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?k5(e,void 0):n.length=s+1,fi(t.eventQueue_,bp(e),i);for(let o=0;o<r.length;o++)yd(r[o])}}function Ure(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function jre(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):dr(`Invalid query segment '${n}' in query '${t}'`)}return e}var PV=function(t,e){let n=Bre(t),r=n.namespace;n.domain==="firebase.com"&&Ro(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ro("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gte();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new E_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new at(n.pathString)}},Bre=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=Ure(t.substring(u,h)));let f=jre(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let g=e.slice(0,c);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{let v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var OV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Hre=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=OV.charAt(n%64),n=Math.floor(n/64);J(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=OV.charAt(e[i]);return J(o.length===20,"nextPushId: Length should be 20."),o}}();var nS=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+sn(this.snapshot.exportVal())}},rS=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var iS=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var gd=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Fe(this._path)?null:mS(this._path)}get ref(){return new Mo(this._repo,this._path)}get _queryIdentifier(){let e=EV(this._queryParams),n=pS(e);return n==="{}"?"default":n}get _queryObject(){return EV(this._queryParams)}isEqual(e){if(e=It(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=n5(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qte(this._path)}};function Wre(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function VS(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===cc){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==uc)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==qa)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ft){if(e!=null&&!XD(e)||n!=null&&!XD(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J(t.getIndex()instanceof up||t.getIndex()===l5,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function B5(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Mo=class t extends gd{constructor(e,n){super(e,n,new ND,!1)}get parent(){let e=t5(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},U_=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new at(e),r=md(this.ref,e);return new t(this._node.getChild(n),r,Ft)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,md(this.ref,r),Ft)))}hasChild(e){let n=new at(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function tt(t,e){return t=It(t),t._checkNotDeleted("ref"),e!==void 0?md(t._root,e):t._root}function md(t,e){return t=It(t),Be(t._path)===null?Cre("child","path",e,!1):MS("child","path",e,!1),new Mo(t._repo,Ht(t._path,e))}function pc(t,e){t=It(t),kS("push",t._path),Ip("push",e,t._path,!0);let n=F5(t._repo),r=Hre(n),i=md(t,r),s=md(t,r),o;return e!=null?o=pi(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Tp(t){return kS("remove",t._path),pi(t,null)}function pi(t,e){t=It(t),kS("set",t._path),Ip("set",e,t._path,!1);let n=new Co;return Nre(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ko(t,e){bre("update",e,t._path,!1);let n=new Co;return Pre(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Kt(t){t=It(t);let e=new iS(()=>{}),n=new sS(e);return kre(t._repo,t,n).then(r=>new U_(r,new Mo(t._repo,t._path),t._queryParams.getIndex()))}var sS=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new nS("value",this,new U_(e.snapshotNode,new Mo(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rS(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};var vd=class{},oS=class extends vd{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ip("endAt",this._value,e._path,!0);let n=dne(e._queryParams,this._value,this._key);if(B5(n),VS(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gd(e._repo,e._path,n,e._orderByCalled)}};var aS=class extends vd{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ip("startAt",this._value,e._path,!0);let n=une(e._queryParams,this._value,this._key);if(B5(n),VS(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new gd(e._repo,e._path,n,e._orderByCalled)}};var lS=class extends vd{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Wre(e,"orderByChild");let n=new at(this._path);if(Fe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new up(n),i=hne(e._queryParams,r);return VS(i),new gd(e._repo,e._path,i,!0)}};function Dp(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return MS("orderByChild","path",t,!1),new lS(t)}var cS=class extends vd{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ip("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oS(this._value,this._key)._apply(new aS(this._value,this._key)._apply(e))}};function Sp(t,e){return Ire("equalTo","key",e,!0),new cS(t,e)}function Ap(t,...e){let n=It(t);for(let r of e)n=r._apply(n);return n}qne(Mo);Xne(Mo);var $re="FIREBASE_DATABASE_EMULATOR_HOST",uS={},zre=!1;function Gre(t,e,n,r){t.repoInfo_=new E_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function qre(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ro("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=PV(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[$re]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=PV(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new sp(sp.OWNER):new vD(t.name,t.options,e);Tre("Invalid Firebase Database URL",o),Fe(o.path)||Ro("Database URL must point to the root of a Firebase Database (not including a child path).");let h=Kre(a,t,u,new mD(t.name,n));return new dS(h,t)}function Qre(t,e){let n=uS[e];(!n||n[t.key]!==t)&&Ro(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fre(t),delete n[t.key]}function Kre(t,e,n,r){let i=uS[e.name];i||(i={},uS[e.name]=i);let s=i[t.toURLString()];return s&&Ro("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new eS(t,zre,n,r),i[t.toURLString()]=s,s}var dS=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Rre(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mo(this._repo,et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Qre(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ro("Cannot call "+e+" on a deleted database.")}};function gi(t=Hr(),e){let n=Tr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Xu("database");r&&H5(n,...r)}return n}function H5(t,e,n,r={}){t=It(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ro("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ro('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new sp(sp.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Ju(r.mockUserToken,t.app.options.projectId);s=new sp(o)}Gre(i,e,n,s)}function Yre(t){hte(ci),Sn(new Bt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return qre(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ve(iV,sV,t),Ve(iV,sV,"esm2017")}vS.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};vS.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Yre();var No=class{constructor(e){return e}},W5="database",US=class{constructor(){return Wi(W5)}};var jS=new ie("angularfire2.database-instances");function Zre(t,e){let n=ys(W5,t,e);return n&&new No(n)}function Xre(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new No(r)}}var Jre={provide:US,deps:[[new ct,jS]]},eie={provide:No,useFactory:Zre,deps:[[new ct,jS],lr]};function $5(t,...e){return Ve("angularfire",Wr.full,"rtdb"),en([eie,Jre,{provide:jS,useFactory:Xre(t),multi:!0,deps:[xe,St,ui,$r,[new ct,xo],[new ct,vs],...e]}])}var z5=Qt(Kt,!0),G5=Qt(gi,!0);var K_=Qt(tt,!0);var Y_={production:!0,googleFitApiUrl:"https://fit-me-a409a.web.app/api/google-fit",firebaseConfig:{apiKey:"AIzaSyAWsDWF2x7AF7wmkqBHALn3h2IiFG1gm4E",authDomain:"fit-me-a409a.firebaseapp.com",projectId:"fit-me-a409a",storageBucket:"fit-me-a409a.appspot.com",messagingSenderId:"86701435614",appId:"1:86701435614:web:1655cfa2d93dca0ef4f04f",databaseURL:"https://fit-me-a409a-default-rtdb.europe-west1.firebasedatabase.app"}};var mi=class t{constructor(e,n,r){this.http=e;this.auth=n;this.db=r}fitApiUrl=Y_.googleFitApiUrl;peopleApiUrl="https://people.googleapis.com/v1/people/me?personFields=names,photos,birthdays,genders";getAccessToken(){return new Promise((e,n)=>w(this,null,function*(){let r=this.auth.currentUser?.uid;if(r){let i=K_(this.db,`users/${r}/googleFitAccessToken`),s=yield z5(i);s.exists()?e(s.val()||null):e(null)}else e(null)}))}getGooglePeopleProfile(){return dt(this.getAccessToken()).pipe(On(e=>{if(!e)throw new Error("Access token not available");let n={Authorization:`Bearer ${e}`};return this.http.get(this.peopleApiUrl,{headers:n})}),ue(e=>({name:e.names?.[0]?.displayName||null,gender:e.genders?.[0]?.value||null,profilePicture:e.photos?.[0]?.url||null,birthday:e.birthdays?.[0]?.date?`${e.birthdays[0].date.year}-${e.birthdays[0].date.month}-${e.birthdays[0].date.day}`:null})))}fetchGoogleFitData(e,n){return dt(this.getAccessToken()).pipe(On(r=>{if(!r)throw new Error("Access token not available");return this.http.post(this.fitApiUrl,{accessToken:r,path:e,body:n}).pipe(kt({error:i=>console.error("API Error:",i)}))}))}getGoogleFitProfile(){return this.getGooglePeopleProfile()}getUserWeightFromGoogleFit(){let e={aggregateBy:[{dataTypeName:"com.google.weight",dataSourceId:"derived:com.google.weight:com.google.android.gms:merge_weight"}],bucketByTime:{durationMillis:864e5},startTimeMillis:Date.now()-2592e6,endTimeMillis:Date.now()};return this.fetchGoogleFitData("users/me/dataset:aggregate",e).pipe(ue(n=>{if(n.bucket&&n.bucket.length>0)for(let r=n.bucket.length-1;r>=0;r--){let i=n.bucket[r].dataset;if(i&&i.length>0&&i[0].point.length>0)return i[0].point[0].value[0]?.fpVal||null}return console.warn("No weight data found."),null}),Nr(n=>(console.error("Error fetching weight data:",n),fe(null))))}getUserWeightForDate(e){let n={aggregateBy:[{dataTypeName:"com.google.weight",dataSourceId:"derived:com.google.weight:com.google.android.gms:merge_weight"}],bucketByTime:{durationMillis:864e5},startTimeMillis:e.getTime(),endTimeMillis:e.getTime()+864e5};return this.fetchGoogleFitData("users/me/dataset:aggregate",n).pipe(ue(r=>{if(r.bucket&&r.bucket.length>0){let i=r.bucket[0].dataset;if(i&&i.length>0&&i[0].point.length>0)return i[0].point[0].value[0]?.fpVal||null}return console.warn("No weight data found for the specified date."),null}),Nr(r=>(console.error("Error fetching weight data:",r),fe(null))))}getUserHeightFromGoogleFit(){let e={aggregateBy:[{dataTypeName:"com.google.height",dataSourceId:"derived:com.google.height:com.google.android.gms:merge_height"}],bucketByTime:{durationMillis:864e5},startTimeMillis:Date.now()-2592e6,endTimeMillis:Date.now()};return this.fetchGoogleFitData("users/me/dataset:aggregate",e).pipe(ue(n=>{if(n.bucket&&n.bucket.length>0)for(let r=n.bucket.length-1;r>=0;r--){let i=n.bucket[r].dataset;if(i&&i.length>0&&i[0].point.length>0)return i[0].point[0].value[0]?.fpVal||null}return console.warn("No height data found."),null}),Nr(n=>(console.error("Error fetching height data:",n),fe(null))))}getSteps(){let e=new Date;e.setHours(0,0,0,0);let n=new Date;n.setHours(23,59,59,999);let r={aggregateBy:[{dataTypeName:"com.google.step_count.delta"}],bucketByTime:{durationMillis:864e5},startTimeMillis:e.getTime(),endTimeMillis:n.getTime()};return this.fetchGoogleFitData("users/me/dataset:aggregate",r).pipe(ue(i=>{let s=0;return i.bucket&&i.bucket.length>0&&i.bucket.forEach(o=>{o.dataset.forEach(a=>{a.point.forEach(l=>{s+=l.value[0]?.intVal||0})})}),s}))}getCalories(){let e=new Date;e.setHours(0,0,0,0);let n=new Date;n.setHours(23,59,59,999);let r={aggregateBy:[{dataTypeName:"com.google.calories.expended"}],bucketByTime:{durationMillis:864e5},startTimeMillis:e.getTime(),endTimeMillis:n.getTime()};return this.fetchGoogleFitData("users/me/dataset:aggregate",r).pipe(ue(i=>{let s=0;return i.bucket&&i.bucket.length>0&&i.bucket.forEach(o=>{o.dataset.forEach(a=>{a.point.forEach(l=>{s+=l.value[0]?.floatVal||0})})}),s}))}static \u0275fac=function(n){return new(n||t)(se(df),se(ze),se(No))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ed=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ed||{});function Q5(t,e){return{type:Ed.Trigger,name:t,definitions:e,options:{}}}function BS(t,e=null){return{type:Ed.Animate,styles:e,timings:t}}function Z_(t){return{type:Ed.Style,styles:t,offset:null}}function X_(t,e,n){return{type:Ed.State,name:t,styles:e,options:n}}function HS(t,e,n=null){return{type:Ed.Transition,expr:t,animation:e,options:n}}var K5=["toast-component",""];function tie(t,e){if(t&1){let n=Je();C(0,"button",5),Y("click",function(){Q(n);let i=H();return K(i.remove())}),C(1,"span",6),O(2,"\xD7"),T()()}}function nie(t,e){if(t&1&&(Ou(0),O(1),Fu()),t&2){let n=H(2);P(),_e("[",n.duplicatesCount+1,"]")}}function rie(t,e){if(t&1&&(C(0,"div"),O(1),de(2,nie,2,1,"ng-container",4),T()),t&2){let n=H();po(n.options.titleClass),Cr("aria-label",n.title),P(),_e(" ",n.title," "),P(),G("ngIf",n.duplicatesCount)}}function iie(t,e){if(t&1&&$(0,"div",7),t&2){let n=H();po(n.options.messageClass),G("innerHTML",n.message,DI)}}function sie(t,e){if(t&1&&(C(0,"div",8),O(1),T()),t&2){let n=H();po(n.options.messageClass),Cr("aria-label",n.message),P(),_e(" ",n.message," ")}}function oie(t,e){if(t&1&&(C(0,"div"),$(1,"div",9),T()),t&2){let n=H();P(),Hl("width",n.width()+"%")}}function aie(t,e){if(t&1){let n=Je();C(0,"button",5),Y("click",function(){Q(n);let i=H();return K(i.remove())}),C(1,"span",6),O(2,"\xD7"),T()()}}function lie(t,e){if(t&1&&(Ou(0),O(1),Fu()),t&2){let n=H(2);P(),_e("[",n.duplicatesCount+1,"]")}}function cie(t,e){if(t&1&&(C(0,"div"),O(1),de(2,lie,2,1,"ng-container",4),T()),t&2){let n=H();po(n.options.titleClass),Cr("aria-label",n.title),P(),_e(" ",n.title," "),P(),G("ngIf",n.duplicatesCount)}}function uie(t,e){if(t&1&&$(0,"div",7),t&2){let n=H();po(n.options.messageClass),G("innerHTML",n.message,DI)}}function die(t,e){if(t&1&&(C(0,"div",8),O(1),T()),t&2){let n=H();po(n.options.messageClass),Cr("aria-label",n.message),P(),_e(" ",n.message," ")}}function hie(t,e){if(t&1&&(C(0,"div"),$(1,"div",9),T()),t&2){let n=H();P(),Hl("width",n.width()+"%")}}var WS=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},$S=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},zS=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new vt;_activate=new vt;_manualClose=new vt;_resetTimeout=new vt;_countDuplicate=new vt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},bd=class{toastId;config;message;title;toastType;toastRef;_onTap=new vt;_onAction=new vt;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Y5={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Z5=new ie("ToastConfig"),GS=class extends $S{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},fie=(()=>{class t{_document=X(vn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qS=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},pie=(()=>{class t{_overlayContainer=X(fie);_componentFactoryResolver=X(Sa);_appRef=X(oi);_document=X(vn);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new GS(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new qS(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wt=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=q(q({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=q(q({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===n;if((!o||l)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return q(q({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(Or.HTML,r));let u=new zS(l),h=new bd(this.index,s,c,i,n,u),f=[{provide:bd,useValue:h}],g=St.create({providers:f,parent:this._injector}),v=new WS(s.toastComponent,g),b=l.attach(v,s.newestOnTop);u.componentInstance=b.instance;let _={toastId:this.index,title:i||"",message:r||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{_.toastRef.activate()})),this.toasts.push(_),_}static \u0275fac=function(r){return new(r||t)(se(Z5),se(pie),se(St),se(pC),se(xe))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gie=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=ii(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=ii({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>he(q({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>he(q({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>he(q({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(U(Wt),U(bd),U(xe))};static \u0275cmp=ve({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&Y("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&($I("@flyInOut",i._state),po(i.toastClasses),Hl("display",i.displayStyle))},standalone:!0,features:[Ce],attrs:K5,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&de(0,tie,3,0,"button",0)(1,rie,3,5,"div",1)(2,iie,1,3,"div",2)(3,sie,2,4,"div",3)(4,oie,2,2,"div",4),r&2&&(G("ngIf",i.options.closeButton),P(),G("ngIf",i.title),P(),G("ngIf",i.message&&i.options.enableHtml),P(),G("ngIf",i.message&&!i.options.enableHtml),P(),G("ngIf",i.options.progressBar))},dependencies:[ot],encapsulation:2,data:{animation:[Q5("flyInOut",[X_("inactive",Z_({opacity:0})),X_("active",Z_({opacity:1})),X_("removed",Z_({opacity:0})),HS("inactive => active",BS("{{ easeTime }}ms {{ easing }}")),HS("active => removed",BS("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),mie=he(q({},Y5),{toastComponent:gie}),vie=(t={})=>en([{provide:Z5,useValue:{default:mie,config:t}}]),X5=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[vie(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yn({type:t});static \u0275inj=Kn({})}return t})();var yie=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=ii(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=ii("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(U(Wt),U(bd),U(oi))};static \u0275cmp=ve({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&Y("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(po(i.toastClasses),Hl("display",i.displayStyle))},standalone:!0,features:[Ce],attrs:K5,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&de(0,aie,3,0,"button",0)(1,cie,3,5,"div",1)(2,uie,1,3,"div",2)(3,die,2,4,"div",3)(4,hie,2,2,"div",4),r&2&&(G("ngIf",i.options.closeButton),P(),G("ngIf",i.title),P(),G("ngIf",i.message&&i.options.enableHtml),P(),G("ngIf",i.message&&!i.options.enableHtml),P(),G("ngIf",i.options.progressBar))},dependencies:[ot],encapsulation:2,changeDetection:0})}return t})(),SCe=he(q({},Y5),{toastComponent:yie});var on=class t{constructor(e,n,r){this.auth=e;this.gfitService=n;this.toastr=r}userProfile={};isMetric=!0;db=gi();createUserProfileIfNotExists(e){return w(this,null,function*(){let n=e.user.uid,r=tt(this.db,`users/${n}`);if(!(yield Kt(r)).exists()){let s=yield this.gfitService.getGoogleFitProfile().toPromise(),o={email:e.user.email,name:e.user.displayName,profilePicture:e.user.photoURL,dob:s?.birthday||null,gender:s?.gender||null,points:0,achievements:[],weight:s?.height,height:s?.weight};yield pi(r,o),this.toastr.success("User profile created successfully")}})}getGoogleFitProfileData(){return w(this,null,function*(){try{let e=yield this.gfitService.getGoogleFitProfile().toPromise();return e?{name:e.name,gender:e.gender,profilePicture:e.profilePicture,dob:e.birthday}:null}catch(e){return console.error("Error retrieving Google Fit profile data",e),null}})}calculateAge(e){if(!e)return null;let n=new Date(e),r=Date.now()-n.getTime(),i=new Date(r);return Math.abs(i.getUTCFullYear()-1970)}getUserWeight(){return w(this,null,function*(){let e=yield this.gfitService.getUserWeightFromGoogleFit().toPromise();return e?Math.round(e):null})}getUserHeight(){return w(this,null,function*(){let e=yield this.gfitService.getUserHeightFromGoogleFit().toPromise();return e?Math.round(e*100):null})}loadUnitPreference(){return w(this,null,function*(){let e=this.auth.currentUser?.uid;if(e){let n=tt(this.db,`users/${e}/unitPreference`),r=yield Kt(n);this.isMetric=r.exists()&&r.val()==="metric"}else console.log("No unit preference found, defaulting to metric")})}saveUnitPreference(e){return w(this,null,function*(){let n=this.auth.currentUser?.uid;if(n){let r=tt(this.db,`users/${n}`);yield ko(r,{unitPreference:e?"metric":"imperial"}),this.isMetric=e}})}getUserGoals(){return w(this,null,function*(){let e=this.auth.currentUser?.uid,n=tt(this.db,`users/${e}`),r=yield Kt(n);if(r.exists()){let i=r.val();return{stepGoal:i.stepGoal||null,caloriesGoal:i.caloriesGoal||null,weightGoal:i.weightGoal||null}}return{stepGoal:null,caloriesGoal:null,weightGoal:null}})}saveUserGoals(e){return w(this,null,function*(){let n=this.auth.currentUser?.uid,r=tt(this.db,`users/${n}`);yield ko(r,{stepGoal:e.stepGoal,caloriesGoal:e.caloriesGoal,weightGoal:e.weightGoal})})}updateUserPoints(e){return w(this,null,function*(){let n=this.auth.currentUser?.uid;if(n){let r=tt(this.db,`users/${n}`),i=yield Kt(r),o=(i.exists()&&i.val().points||0)+e;return yield ko(r,{points:o}),o}return 0})}getUserTotalPoints(){return w(this,null,function*(){let e=this.auth.currentUser?.uid;if(e){let n=tt(this.db,`users/${e}`),r=yield Kt(n);return r.exists()&&r.val().points||0}return 0})}saveAchievement(e){return w(this,null,function*(){let n=this.auth.currentUser?.uid;if(n){let r=tt(this.db,`users/${n}/achievements/${e}`);if((yield Kt(r)).exists())return;yield pi(r,{unlocked:!0,dateUnlocked:new Date().toISOString()}),this.toastr.success("Achievement unlocked:",e)}})}getUserAchievements(){return w(this,null,function*(){let e=this.auth.currentUser?.uid;if(e){let n=tt(this.db,`users/${e}/achievements`),r=yield Kt(n);if(r.exists())return Object.keys(r.val()).map(i=>q({id:i},r.val()[i]))}return[]})}static \u0275fac=function(n){return new(n||t)(se(ze),se(mi),se(Wt))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};function _ie(t,e){if(t&1){let n=Je();C(0,"div",40)(1,"button",41),$(2,"i",42),O(3," Profile Settings "),T(),C(4,"button",43),Y("click",function(){Q(n);let i=H();return K(i.logout())}),$(5,"i",27),O(6," Logout "),T()()}}var J_=class t{constructor(e,n,r){this.auth=e;this.router=n;this.userService=r}profileData={name:"",dob:"",profilePicture:null};errorMessage=null;isProfileMenuOpen=!1;ngOnInit(){this.fetchProfileData()}fetchProfileData(){this.userService.getGoogleFitProfileData().then(e=>{e?this.profileData=e:this.errorMessage="No profile data found."}).catch(e=>{this.errorMessage="Error fetching profile data",console.error("Error fetching profile data:",e)})}get age(){return this.userService.calculateAge(this.profileData.dob)}toggleProfileMenu(){this.isProfileMenuOpen=!this.isProfileMenuOpen}logout(){return rV(this.auth).then(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)(U(ze),U(rn),U(on))};static \u0275cmp=ve({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Ce],decls:57,vars:4,consts:[[1,"ml-[-100%]","fixed","z-10","top-0","pb-3","px-6","w-full","flex","flex-col","justify-between","h-screen","bg-gray-800","text-white","transition","duration-300","md:w-4/12","lg:ml-0","lg:w-[25%]","xl:w-[20%]","2xl:w-[15%]","shadow-lg"],[1,"-mx-6","px-6","py-4"],["title","home","routerLink","/dashboard"],[1,"font-black","text-4xl","flex","justify-center","items-center","bg-clip-text","text-transparent","bg-gradient-to-r","from-green-800","via-green-600","to-green-300","animate-text"],["src","./assets/logo.svg","alt","logo",1,"w-12","h-12"],["orbitron","",1,"orbitron","pl-2"],[1,"flex","flex-col","justify-center","items-center","gap-4","mb-6"],[1,"img-wrapper","rounded-full","w-20","h-20","overflow-hidden","relative"],["alt","Profile Picture",1,"w-full","h-full","object-cover",3,"src"],[1,"text-center"],[1,"font-bold","text-lg"],[1,"space-y-2"],["aria-label","Dashboard","routerLink","/dashboard","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-solid","fa-chart-line"],[1,"-mr-1","font-medium"],["aria-label","Exercises","routerLink","/exercises","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-solid","fa-person-running"],[1,""],["aria-label","Workouts","routerLink","/workouts","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-solid","fa-dumbbell"],["aria-label","Calendar","routerLink","/calendar","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-regular","fa-calendar"],[1,"border-white/20"],[1,"px-6","-mx-6","pt-4","flex","flex-col","items-start"],["aria-label","Profile Settings","routerLink","/profile",1,"px-4","py-3","flex","items-center","space-x-4","rounded-md","text-white","group"],["routerLinkActive","text-green-600",1,"fa-solid","fa-user"],["aria-label","Logout",1,"px-4","py-3","flex","items-center","space-x-4","rounded-md","text-white","group",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket"],[1,"fixed","bottom-0","left-0","right-0","z-100","bg-gray-800","text-white","flex","justify-around","py-3","shadow-lg","md:hidden"],["title","Dashboard","aria-label","Dashboard","routerLink","/dashboard","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-chart-line","text-xl"],["title","Exercises","aria-label","Exercises","routerLink","/exercises","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-person-running","text-xl"],["title","Workouts","aria-label","Workouts","routerLink","/workouts","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-dumbbell","text-xl"],["title","Calendar","aria-label","Calendar","routerLink","/calendar","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-regular","fa-calendar","text-xl"],["title","Profile","aria-label","Profile","routerLinkActive","text-green-600",1,"flex","flex-col","items-center",3,"click"],[1,"fa-solid","fa-user","text-xl"],["class","fixed bottom-16 right-5 bg-gray-800 text-white rounded-lg p-3 shadow-lg z-20",4,"ngIf"],[1,"fixed","bottom-16","right-5","bg-gray-800","text-white","rounded-lg","p-3","shadow-lg","z-20"],["routerLink","/profile",1,"w-full","py-2","text-left","transition","duration-200"],[1,"fa-solid","fa-user"],[1,"w-full","py-2","text-left","transition","duration-200",3,"click"]],template:function(n,r){n&1&&(C(0,"aside",0)(1,"div")(2,"div",1)(3,"a",2)(4,"div",3),$(5,"img",4),C(6,"p",5),O(7,"CoreUp"),T()()()(),C(8,"div",6)(9,"div",7),$(10,"img",8),T(),C(11,"div",9)(12,"p",10),O(13),T()()(),C(14,"ul",11)(15,"li")(16,"a",12),$(17,"i",13),C(18,"span",14),O(19,"Dashboard"),T()()(),C(20,"li")(21,"a",15),$(22,"i",16),C(23,"span",17),O(24,"Exercises"),T()()(),C(25,"li")(26,"a",18),$(27,"i",19),C(28,"span",17),O(29,"Workouts"),T()()(),C(30,"li")(31,"a",20),$(32,"i",21),C(33,"span",17),O(34,"Calendar"),T()()()()(),$(35,"hr",22),C(36,"div",23)(37,"button",24),$(38,"i",25),C(39,"span"),O(40,"Profile Settings"),T()(),C(41,"button",26),Y("click",function(){return r.logout()}),$(42,"i",27),C(43,"span"),O(44,"Logout"),T()()()(),C(45,"nav",28)(46,"a",29),$(47,"i",30),T(),C(48,"a",31),$(49,"i",32),T(),C(50,"a",33),$(51,"i",34),T(),C(52,"a",35),$(53,"i",36),T(),C(54,"a",37),Y("click",function(){return r.toggleProfileMenu()}),$(55,"i",38),T(),de(56,_ie,7,0,"div",39),T()),n&2&&(P(10),G("src",r.profileData.profilePicture,Fr),P(3),Pa("",r.profileData.name," | ",r.age,""),P(43),G("ngIf",r.isProfileMenuOpen))},dependencies:[Ku,x4,$e,ot]})};var Id=class t{constructor(e,n,r,i,s){this.auth=e;this.router=n;this.userService=r;this.toastr=i;this.db=s}quotes=["Believe in yourself and all that you are.","The only way to do great work is to love what you do.","Success is not final, failure is not fatal.","Your body can stand almost anything. It\u2019s your mind that you have to convince."];currentQuote=this.quotes[0];currentVideoIndex=0;videos=[];ngOnInit(){let e=0;setInterval(()=>{e=(e+1)%this.quotes.length,this.currentQuote=this.quotes[e]},15e3)}ngAfterViewInit(){this.videos=Array.from(document.querySelectorAll("video")),this.playVideo(this.currentVideoIndex)}playVideo(e){let n=this.videos[e];this.videos.forEach(r=>{r.classList.remove("visible"),r.style.opacity="0",r.style.visibility="hidden"}),n.style.visibility="visible",n.classList.add("visible"),setTimeout(()=>{n.style.opacity="1"},10),n.play().catch(r=>{console.error("Error playing video:",r)}),n.onended=()=>{this.currentVideoIndex=(this.currentVideoIndex+1)%this.videos.length,this.playVideo(this.currentVideoIndex)}}loginWithGoogle(){return w(this,null,function*(){let e=new m_;e.addScope("https://www.googleapis.com/auth/fitness.activity.read"),e.addScope("https://www.googleapis.com/auth/fitness.body.read"),e.addScope("https://www.googleapis.com/auth/userinfo.profile"),e.addScope("https://www.googleapis.com/auth/userinfo.email"),e.addScope("https://www.googleapis.com/auth/user.birthday.read");try{let n=yield nV(this.auth,e),i=m_.credentialFromResult(n)?.accessToken;if(i){let s=this.auth.currentUser?.uid;if(s){yield this.userService.createUserProfileIfNotExists(n);let o=K_(this.db,`users/${s}`);yield ko(o,{googleFitAccessToken:i}),this.router.navigate(["/dashboard"])}}else this.toastr.error("Google Fit access token not available.")}catch(n){this.toastr.error("Error signing in with Google"),console.error("Google Sign-In error",n)}})}static \u0275fac=function(n){return new(n||t)(U(ze),U(rn),U(on),U(Wt),U(No))};static \u0275cmp=ve({type:t,selectors:[["app-login"]],standalone:!0,features:[Ce],decls:31,vars:1,consts:[[1,"login","p-4","flex","flex-col","items-center","justify-center","h-screen","w-screen","relative","overflow-hidden"],[1,"absolute","inset-0","z-0"],["autoplay","","muted","","playsinline","","id","video1",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/barbell.mp4","type","video/mp4"],["muted","","playsinline","","id","video2",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/pushups.mp4","type","video/mp4"],["muted","","playsinline","","id","video3",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/running.mp4","type","video/mp4"],["muted","","playsinline","","id","video4",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/pullups.mp4","type","video/mp4"],[1,"absolute","inset-0","bg-black","opacity-50","z-10"],[1,"relative","z-20","flex","flex-col","rounded-xl","shadow-lg","w-full","sm:w-3/4","lg:w-1/2","bg-gray-800","text-white","p-6","space-y-8"],[1,"font-black","text-4xl","flex","flex-col","justify-center","items-center","bg-clip-text","text-transparent","bg-gradient-to-r","from-green-800","via-green-600","to-green-300","animate-text"],["src","./assets/logo.svg","alt","logo",1,"w-12","h-12"],["orbitron","",1,"orbitron"],[1,"text-center","text-xl","font-semibold","italic"],[1,"text-4xl","text-center","font-thin"],[1,"text-center","text-sm","mb-4"],[1,"flex","items-center","justify-center","bg-red-600","hover:bg-red-700","text-white","text-sm","font-semibold","py-2","px-4","rounded-full","mt-6",3,"click"],[1,"fab","fa-google","mr-2"],[1,"text-center","text-sm","mt-4"],["href","/about",1,"text-gray-400","hover:underline"],["href","/contact",1,"text-gray-400","hover:underline"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1)(2,"video",2),$(3,"source",3),T(),C(4,"video",4),$(5,"source",5),T(),C(6,"video",6),$(7,"source",7),T(),C(8,"video",8),$(9,"source",9),T()(),$(10,"div",10),C(11,"div",11)(12,"div",12),$(13,"img",13),C(14,"p",14),O(15,"CoreUp"),T()(),C(16,"div",15),O(17),T(),C(18,"h1",16),O(19,"Welcome Back!"),T(),C(20,"p",17),O(21,"Seamless integration with Google Fit!"),T(),C(22,"button",18),Y("click",function(){return r.loginWithGoogle()}),$(23,"i",19),O(24," Sign in with Google "),T(),C(25,"div",20)(26,"a",21),O(27,"About Us"),T(),O(28," | "),C(29,"a",22),O(30,"Contact"),T()()()()),n&2&&(P(17),_e(' "',r.currentQuote,'" '))},dependencies:[$e],styles:[".login[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transition:opacity .5s ease,visibility .5s ease;opacity:0;visibility:hidden}.login[_ngcontent-%COMP%]   video.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}"]})};function wie(t,e){t&1&&(C(0,"div",2),$(1,"i",3),T())}function Eie(t,e){t&1&&(C(0,"div")(1,"div"),$(2,"app-navbar"),T(),C(3,"div",4),$(4,"router-outlet"),T()())}function bie(t,e){t&1&&(C(0,"div"),$(1,"app-login"),T())}function Iie(t,e){if(t&1&&(C(0,"div"),de(1,Eie,5,0,"div",1)(2,bie,2,0,"div",1),T()),t&2){let n=H();P(),G("ngIf",n.isAuthenticated),P(),G("ngIf",!n.isAuthenticated)}}var e0=class t{constructor(e,n){this.auth=e;this.router=n;tV(this.auth,r=>{this.isAuthenticated=!!r,this.isLoading=!1,this.isAuthenticated&&(this.router.url==="/login"||this.router.url==="/register")&&this.router.navigate(["/dashboard"])})}title="fit-me";isAuthenticated=!1;isLoading=!0;static \u0275fac=function(n){return new(n||t)(U(ze),U(rn))};static \u0275cmp=ve({type:t,selectors:[["app-root"]],standalone:!0,features:[Ce],decls:2,vars:2,consts:[["class","p-6 flex w-full h-full justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"p-6","flex","w-full","h-full","justify-center","items-center"],[1,"fa-solid","fa-circle-notch","fa-spin","text-green-600","text-8xl"],[1,"ml-auto","mb-6","lg:w-[75%]","xl:w-[80%]","2xl:w-[85%]"]],template:function(n,r){n&1&&de(0,wie,2,0,"div",0)(1,Iie,3,2,"div",1),n&2&&(G("ngIf",r.isLoading),P(),G("ngIf",!r.isLoading))},dependencies:[QC,Id,J_,$e,ot],encapsulation:2})};var Cd=class t{constructor(e){this.http=e}apiUrl="https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/dist/exercises.json";videoData={"Ab Crunch Machine":"https://app.fitnessai.com/exercises/18571201-Lever-Total-Abdominal-Crunch-Waist.mp4","Air Bike":"https://app.fitnessai.com/exercises/00031201-air-bike-m-waist.mp4","Barbell Curl":"https://app.fitnessai.com/exercises/00311201-Barbell-Curl-Upper-Arms.mp4","Bent Over Barbell Row":"https://app.fitnessai.com/exercises/00271201-Barbell-Bent-Over-Row-Back.mp4","Barbell Shoulder Press":"https://app.fitnessai.com/exercises/11651201-Barbell-Standing-Military-Press-without-rack-Shoulders.mp4","Standing Military Press":"https://app.fitnessai.com/exercises/11651201-Barbell-Standing-Military-Press-without-rack-Shoulders.mp4","Reverse Barbell Curl":"https://app.fitnessai.com/exercises/00801201-Barbell-Reverse-Curl-Forearm.mp4","Cable Seated Crunch":"https://app.fitnessai.com/exercises/02121201-Cable-Seated-Crunch-Waist.mp4",Plank:"https://app.fitnessai.com/exercises/04631201-Front-Plank-m-waist.mp4",Pushups:"https://app.fitnessai.com/exercises/06621201-Push-up-m-Chest.mp4","Sit-Up":"https://app.fitnessai.com/exercises/24761201-3-4-Sit-up-female-Waist.mp4"};getExercises(){return this.http.get(this.apiUrl).pipe(ue(e=>this.addVideosToExercises(e)))}addVideosToExercises(e){return e.map(n=>(n.videoUrl=this.videoData[n.name]||void 0,n))}static \u0275fac=function(n){return new(n||t)(se(df))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};var a6=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(U(Ir),U(jt))},e.\u0275dir=yt({type:e});let t=e;return t})(),l0=(()=>{let e=class e extends a6{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275dir=yt({type:e,features:[Fi]});let t=e;return t})(),Fp=new ie("");var Tie={provide:Fp,useExisting:lo(()=>vi),multi:!0};function Die(){let t=_o()?_o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Sie=new ie(""),vi=(()=>{let e=class e extends a6{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Die())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(U(Ir),U(jt),U(Sie,8))},e.\u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Y("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Li([Tie]),Fi]});let t=e;return t})();var l6=new ie(""),c6=new ie("");function u6(t){return t!=null}function d6(t){return $l(t)?dt(t):t}function h6(t){let e={};return t.forEach(n=>{e=n!=null?q(q({},e),n):e}),Object.keys(e).length===0?null:e}function f6(t,e){return e.map(n=>n(t))}function Aie(t){return!t.validate}function p6(t){return t.map(e=>Aie(e)?e:n=>e.validate(n))}function xie(t){if(!t)return null;let e=t.filter(u6);return e.length==0?null:function(n){return h6(f6(n,e))}}function KS(t){return t!=null?xie(p6(t)):null}function Rie(t){if(!t)return null;let e=t.filter(u6);return e.length==0?null:function(n){let r=f6(n,e).map(d6);return T1(r).pipe(ue(h6))}}function YS(t){return t!=null?Rie(p6(t)):null}function J5(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mie(t){return t._rawValidators}function kie(t){return t._rawAsyncValidators}function QS(t){return t?Array.isArray(t)?t:[t]:[]}function n0(t,e){return Array.isArray(t)?t.includes(e):t===e}function e6(t,e){let n=QS(e);return QS(t).forEach(i=>{n0(n,i)||n.push(i)}),n}function t6(t,e){return QS(e).filter(n=>!n0(t,n))}var r0=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Sd=class extends r0{get formDirective(){return null}get path(){return null}},Op=class extends r0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},i0=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Nie={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wTe=he(q({},Nie),{"[class.ng-submitted]":"isSubmitted"}),Cs=(()=>{let e=class e extends i0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(Op,2))},e.\u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&tf("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Fi]});let t=e;return t})(),g6=(()=>{let e=class e extends i0{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(Sd,10))},e.\u0275dir=yt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&tf("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Fi]});let t=e;return t})();var Rp="VALID",t0="INVALID",Td="PENDING",Mp="DISABLED",Ad=class{},s0=class extends Ad{constructor(e,n){super(),this.value=e,this.source=n}},Np=class extends Ad{constructor(e,n){super(),this.pristine=e,this.source=n}},Pp=class extends Ad{constructor(e,n){super(),this.touched=e,this.source=n}},Dd=class extends Ad{constructor(e,n){super(),this.status=e,this.source=n}};function m6(t){return(c0(t)?t.validators:t)||null}function Pie(t){return Array.isArray(t)?KS(t):t||null}function v6(t,e){return(c0(e)?e.asyncValidators:t)||null}function Oie(t){return Array.isArray(t)?YS(t):t||null}function c0(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Fie(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ae(1e3,"");if(!r[n])throw new ae(1001,"")}function Lie(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ae(1002,"")})}var o0=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=sf(()=>this.statusReactive()),this.statusReactive=ii(void 0),this._pristine=sf(()=>this.pristineReactive()),this.pristineReactive=ii(!0),this._touched=sf(()=>this.touchedReactive()),this.touchedReactive=ii(!1),this._events=new vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mo(this.statusReactive)}set status(e){mo(()=>this.statusReactive.set(e))}get valid(){return this.status===Rp}get invalid(){return this.status===t0}get pending(){return this.status==Td}get disabled(){return this.status===Mp}get enabled(){return this.status!==Mp}get pristine(){return mo(this.pristineReactive)}set pristine(e){mo(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return mo(this.touchedReactive)}set touched(e){mo(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(e6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(e6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(t6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(t6(e,this._rawAsyncValidators))}hasValidator(e){return n0(this._rawValidators,e)}hasAsyncValidator(e){return n0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pp(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pp(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Np(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Np(!0,r))}markAsPending(e={}){this.status=Td;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dd(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(q({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mp,this.errors=null,this._forEachChild(i=>{i.disable(he(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new s0(this.value,r)),this._events.next(new Dd(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this._forEachChild(r=>{r.enable(he(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===Td)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new s0(this.value,n)),this._events.next(new Dd(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(q({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mp:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Td,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=d6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Dd(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Mp:this.errors?t0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Td)?Td:this._anyControlsHaveStatus(t0)?t0:Rp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Np(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pp(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){c0(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Pie(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Oie(this._rawAsyncValidators)}},a0=class extends o0{constructor(e,n,r){super(m6(n),v6(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Lie(this,!0,e),Object.keys(e).forEach(r=>{Fie(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ZS=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>XS}),XS="always";function Vie(t,e){return[...e.path,t]}function y6(t,e,n=XS){_6(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),jie(t,e),Hie(t,e),Bie(t,e),Uie(t,e)}function n6(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Uie(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function _6(t,e){let n=Mie(t);e.validator!==null?t.setValidators(J5(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=kie(t);e.asyncValidator!==null?t.setAsyncValidators(J5(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();n6(e._rawValidators,i),n6(e._rawAsyncValidators,i)}function jie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&w6(t,e)})}function Bie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&w6(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function w6(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hie(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Wie(t,e){t==null,_6(t,e)}function $ie(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function zie(t){return Object.getPrototypeOf(t.constructor)===l0}function Gie(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function qie(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===vi?n=s:zie(s)?r=s:i=s}),i||r||n||null}var Qie={provide:Sd,useExisting:lo(()=>JS)},kp=Promise.resolve(),JS=(()=>{let e=class e extends Sd{get submitted(){return mo(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=sf(()=>this.submittedReactive()),this.submittedReactive=ii(!1),this._directives=new Set,this.ngSubmit=new je,this.form=new a0({},KS(r),YS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){kp.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),y6(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){kp.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){kp.then(()=>{let i=this._findContainer(r.path),s=new a0({});Wie(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){kp.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){kp.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),Gie(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(U(l6,10),U(c6,10),U(ZS,8))},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Y("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Li([Qie]),Fi]});let t=e;return t})();function r6(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function i6(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Kie=class extends o0{constructor(e=null,n,r){super(m6(n),v6(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),c0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(i6(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){r6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){r6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){i6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Yie={provide:Op,useExisting:lo(()=>qi)},s6=Promise.resolve(),qi=(()=>{let e=class e extends Op{constructor(r,i,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Kie,this._registered=!1,this.name="",this.update=new je,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=qie(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),$ie(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){y6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){s6.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&zl(i);s6.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Vie(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(U(Sd,9),U(l6,10),U(c6,10),U(Fp,10),U(Lr,8),U(ZS,8))},e.\u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Li([Yie]),Fi,tn]});let t=e;return t})(),E6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Zie={provide:Fp,useExisting:lo(()=>Lp),multi:!0},Lp=(()=>{let e=class e extends l0{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275dir=yt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&Y("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Li([Zie]),Fi]});let t=e;return t})();var Xie={provide:Fp,useExisting:lo(()=>xd),multi:!0};function b6(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Jie(t){return t.split(":")[0]}var xd=(()=>{let e=class e extends l0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=b6(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Jie(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275dir=yt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&Y("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Li([Xie]),Fi]});let t=e;return t})(),u0=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(b6(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(jt),U(Ir),U(xd,9))},e.\u0275dir=yt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),ese={provide:Fp,useExisting:lo(()=>I6),multi:!0};function o6(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tse(t){return t.split(":")[0]}var I6=(()=>{let e=class e extends l0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=tse(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ma(e)))(s||e)}})(),e.\u0275dir=yt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&Y("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Li([ese]),Fi]});let t=e;return t})(),d0=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(o6(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(o6(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(jt),U(Ir),U(I6,9))},e.\u0275dir=yt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var nse=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yn({type:e}),e.\u0275inj=Kn({});let t=e;return t})();var An=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ZS,useValue:r.callSetDisabledState??XS}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yn({type:e}),e.\u0275inj=Kn({imports:[nse]});let t=e;return t})();var eA=class{constructor(){this.change=new je,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return e.id==null&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let r=this.instances[e],i=Math.ceil(r.totalItems/r.itemsPerPage);n<=i&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}},NTe=Number.MAX_SAFE_INTEGER;var C6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yn({type:t}),t.\u0275inj=Kn({providers:[eA],imports:[[$e]]}),t})();var rse=(t,e)=>({"opacity-0 transition-opacity duration-500 ease-in-out":t,"opacity-100 transition-opacity duration-500 ease-in-out":e});function ise(t,e){if(t&1&&(C(0,"tr")(1,"td",12),O(2,"Secondary Muscles:"),T(),C(3,"td",13)(4,"strong"),O(5),T()()()),t&2){let n=H(2);P(5),Pe(n.selectedExercise.secondaryMuscles.join(", "))}}function sse(t,e){if(t&1){let n=Je();C(0,"div",1)(1,"div",2),Y("click",function(){Q(n);let i=H();return K(i.closeModal())}),T(),C(2,"div",3)(3,"button",4),Y("click",function(){Q(n);let i=H();return K(i.closeModal())}),$(4,"i",5),T(),C(5,"h2",6),O(6),T(),C(7,"p",7),O(8),T(),C(9,"div",8)(10,"div",9)(11,"table",10)(12,"tbody",11)(13,"tr")(14,"td",12),O(15,"Category:"),T(),C(16,"td",13)(17,"strong"),O(18),T()()(),C(19,"tr")(20,"td",12),O(21,"Force:"),T(),C(22,"td",13)(23,"strong"),O(24),T()()(),C(25,"tr")(26,"td",12),O(27,"Level:"),T(),C(28,"td",13)(29,"strong"),O(30),T()()(),C(31,"tr")(32,"td",12),O(33,"Mechanic:"),T(),C(34,"td",13)(35,"strong"),O(36),T()()(),C(37,"tr")(38,"td",12),O(39,"Equipment:"),T(),C(40,"td",13)(41,"strong"),O(42),T()()(),C(43,"tr")(44,"td",12),O(45,"Primary Muscles:"),T(),C(46,"td",13)(47,"strong"),O(48),T()()(),de(49,ise,6,1,"tr",14),T()()(),C(50,"div",15),$(51,"img",16),T()()()()}if(t&2){let n=H();P(6),Pe(n.selectedExercise.name),P(2),Pe(n.selectedExercise.instructions),P(10),Pe(n.selectedExercise.category),P(6),Pe(n.selectedExercise.force),P(6),Pe(n.selectedExercise.level),P(6),Pe(n.selectedExercise.mechanic),P(6),Pe(n.selectedExercise.equipment),P(6),Pe(n.selectedExercise.primaryMuscles.join(", ")),P(),G("ngIf",n.selectedExercise.secondaryMuscles.length>0),P(2),Wl("alt",n.selectedExercise.name),G("src","https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/"+n.selectedExercise.images[n.modalImageIndex],Fr)("ngClass",Jv(12,rse,!n.showModal,n.showModal))}}var h0=class t{selectedExercise;showModal=!1;close=new je;modalImageIndex=0;modalImageInterval;ngOnChanges(e){e.showModal&&e.showModal.currentValue?this.startModalImageSwitch():this.stopModalImageSwitch()}startModalImageSwitch(){this.modalImageInterval=setInterval(()=>{this.modalImageIndex=this.modalImageIndex===0?1:0},3e3)}stopModalImageSwitch(){this.modalImageInterval&&clearInterval(this.modalImageInterval)}ngOnDestroy(){this.stopModalImageSwitch()}closeModal(){this.close.emit(),this.selectedExercise=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ve({type:t,selectors:[["app-exercise-details"]],inputs:{selectedExercise:"selectedExercise",showModal:"showModal"},outputs:{close:"close"},standalone:!0,features:[tn,Ce],decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","opacity-70","z-40",3,"click"],[1,"bg-gray-900","text-white","p-8","py-16","relative","max-w-4xl","w-full","z-50","overflow-y-visible"],[1,"absolute","top-4","right-4","text-white","text-2xl","hover:text-green-600","transition","duration-200",3,"click"],[1,"fa-solid","fa-x"],[1,"text-2xl","font-bold","mb-4"],[1,"font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text"],[1,"min-w-full","divide-y","divide-gray-700","border-1","border-gray-700","rounded-xl"],[1,"bg-gray-900","divide-y","divide-gray-700"],[1,"py-2","text-gray-400"],[1,"py-2","capitalize"],[4,"ngIf"],[1,"img","relative"],[1,"rounded-xl","shadow-lg","w-full","h-auto","grayscale",3,"src","alt","ngClass"]],template:function(n,r){n&1&&de(0,sse,52,15,"div",0),n&2&&G("ngIf",r.showModal)},dependencies:[$e,ju,ot]})};var ose=Math.pow(10,8)*24*60*60*1e3,$Te=-ose;var ase=3600;var T6=ase*24,zTe=T6*7,lse=T6*365.2425,cse=lse/12,GTe=cse*3,tA=Symbol.for("constructDateFrom");function f0(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&tA in t?t[tA](e):t instanceof Date?new t.constructor(e):new Date(e)}function Rd(t,e){return f0(e||t,t)}function D6(t,e,n){let r=Rd(t,n?.in);return isNaN(e)?f0(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function S6(t,e){let n=Rd(t,e?.in);return n.setHours(0,0,0,0),n}function A6(t,e){let n=Rd(t,e?.in);return n.setHours(23,59,59,999),n}function x6(t,e,n){return D6(t,-e,n)}var an=class t{constructor(e,n){this.auth=e;this.userService=n}db=gi();addWorkout(e,n){return w(this,null,function*(){let r=tt(this.db,`users/${e}/workouts`);yield pc(r,n)})}scheduleWorkout(e,n,r,i){return w(this,null,function*(){let s=tt(this.db,`users/${e}/workoutInstances`);yield pc(s,{workoutName:r,workoutId:n,scheduledDate:i.getTime(),status:"scheduled",completedAt:null})})}completeWorkout(e,n,r,i,s,o){return w(this,null,function*(){let a=tt(this.db,`users/${e}/workoutInstances`),l=pc(a);yield pi(l,{name:n,exercises:i,status:"completed",completedAt:new Date().getTime(),totalCalories:o,timeSpent:s})})}markWorkoutAsMissed(e,n){return w(this,null,function*(){let r=tt(this.db,`users/${e}/workoutInstances/${n}`);yield ko(r,{status:"missed"})})}getUserWorkouts(e){return w(this,null,function*(){let n=[],r=tt(this.db,`users/${e}/workouts`),i=yield Kt(r);return i.exists()&&i.forEach(s=>{n.push(q({id:s.key},s.val()))}),n})}getUserWorkoutById(e,n){return w(this,null,function*(){let r=tt(this.db,`users/${e}/workouts/${n}`),i=yield Kt(r);return i.exists()?q({id:i.key},i.val()):null})}getScheduledWorkouts(e){return w(this,null,function*(){let n=[],r=tt(this.db,`users/${e}/workoutInstances`),i=Ap(r,Dp("status"),Sp("scheduled")),s=yield Kt(i);return s.exists()&&s.forEach(o=>{n.push(q({id:o.key},o.val()))}),n})}getFinishedWorkouts(e){return w(this,null,function*(){let n=[],r=tt(this.db,`users/${e}/workoutInstances`),i=Ap(r,Dp("status"),Sp("completed")),s=yield Kt(i);return s.exists()&&s.forEach(o=>{n.push(q({id:o.key},o.val()))}),n})}getMissedWorkouts(e){return w(this,null,function*(){let n=[],r=tt(this.db,`users/${e}/workoutInstances`),i=Ap(r,Dp("status"),Sp("missed")),s=yield Kt(i);return s.exists()&&s.forEach(o=>{n.push(q({id:o.key},o.val()))}),n})}getMusclesWorkedLast7Days(e){return w(this,null,function*(){let n=tt(this.db,`users/${e}/workoutInstances`),r=yield Kt(n),i={},s=new Date;return r.exists()&&r.forEach(o=>{let a=o.val(),l=a.completedAt;if(l&&l>=S6(x6(s,7)).getTime()&&l<=A6(s).getTime()){if(!Array.isArray(a.exercises)){console.error(`Workout instance does not have exercises for ID: ${o.key}`);return}a.exercises.forEach(c=>{c.primaryMuscles&&Array.isArray(c.primaryMuscles)&&c.primaryMuscles.forEach(u=>{i[u]?(i[u].count+=1,l>i[u].lastWorked&&(i[u].lastWorked=l)):i[u]={lastWorked:l,count:1}})})}}),i})}updateWorkout(e,n,r){return w(this,null,function*(){let i=tt(this.db,`users/${e}/workouts/${n}`);yield pi(i,r)})}deleteWorkout(e,n){return w(this,null,function*(){let r=tt(this.db,`users/${e}/workouts/${n}`);yield Tp(r)})}getWorkoutById(e,n){return w(this,null,function*(){let r=tt(this.db,`users/${e}/workouts/${n}`),i=yield Kt(r);return i.exists()?i.val():null})}static \u0275fac=function(n){return new(n||t)(se(ze),se(on))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};function use(t,e){if(t&1){let n=Je();C(0,"div")(1,"button",18),Y("click",function(){let i=Q(n).$implicit,s=H(2);return K(s.addExerciseToWorkout(i))}),O(2),T()()}if(t&2){let n=e.$implicit;P(2),_e(" ",n.name," ")}}function dse(t,e){t&1&&(C(0,"div"),O(1," No existing workouts! "),T())}function hse(t,e){if(t&1){let n=Je();C(0,"div",1)(1,"div",2)(2,"button",3),Y("click",function(){Q(n);let i=H();return K(i.closeWorkoutSelectionModal())}),$(3,"i",4),T(),C(4,"h2",5),O(5),T(),C(6,"div",6)(7,"div")(8,"h3",7),O(9,"Select an existing workout:"),T(),C(10,"div",8),de(11,use,3,1,"div",9)(12,dse,2,0,"div",10),T()(),C(13,"div")(14,"h3",11),O(15,"Create a new workout:"),T(),C(16,"div",12)(17,"input",13),Vn("ngModelChange",function(i){Q(n);let s=H();return Zn(s.newWorkoutName,i)||(s.newWorkoutName=i),K(i)}),T(),C(18,"button",14),Y("click",function(){Q(n);let i=H();return K(i.createAndAddWorkout())}),C(19,"span",15),O(20,"Create & Add"),T(),C(21,"span",16),O(22,"+"),T()()()()()(),C(23,"div",17),Y("click",function(){Q(n);let i=H();return K(i.closeWorkoutSelectionModal())}),T()()}if(t&2){let n=H();P(5),_e("Add ",n.selectedExercise==null?null:n.selectedExercise.name," to a Workout"),P(6),G("ngForOf",n.workouts),P(),G("ngIf",!n.workouts),P(5),Ln("ngModel",n.newWorkoutName)}}var p0=class t{constructor(e){this.workoutService=e}selectedExercise;showWorkoutSelectionModal=!1;newWorkoutName="";workouts=[];userId=null;close=new je;ngOnInit(){this.userId&&this.fetchUserWorkouts()}fetchUserWorkouts(){return w(this,null,function*(){try{this.workouts=yield this.workoutService.getUserWorkouts(this.userId)}catch(e){console.error("Error fetching workouts:",e)}})}sanitizeExerciseData(e){return Object.keys(e).reduce((n,r)=>(e[r]!==void 0&&(n[r]=e[r]),n),{})}addExerciseToWorkout(e){return w(this,null,function*(){if(!e){console.error("No workout provided");return}let n=this.sanitizeExerciseData(this.selectedExercise),r=he(q({},n),{sets:0,reps:0});this.selectedExercise.videoUrl&&(r.videoUrl=this.selectedExercise.videoUrl),e.exercises.push(r);try{yield this.workoutService.updateWorkout(this.userId,e.id,{name:e.name,exercises:e.exercises}),this.close.emit()}catch(i){console.error("Error adding exercise to workout:",i)}})}createAndAddWorkout(){return w(this,null,function*(){let e=this.sanitizeExerciseData(this.selectedExercise),n=he(q({},e),{sets:0,reps:0});this.selectedExercise.videoUrl&&(n.videoUrl=this.selectedExercise.videoUrl);let r={name:this.newWorkoutName,exercises:[n]};try{yield this.workoutService.addWorkout(this.userId,r),this.newWorkoutName="",this.close.emit()}catch(i){console.error("Error creating new workout:",i)}})}closeWorkoutSelectionModal(){this.close.emit()}static \u0275fac=function(n){return new(n||t)(U(an))};static \u0275cmp=ve({type:t,selectors:[["app-exercise-add"]],inputs:{selectedExercise:"selectedExercise",showWorkoutSelectionModal:"showWorkoutSelectionModal",newWorkoutName:"newWorkoutName",workouts:"workouts",userId:"userId"},outputs:{close:"close"},standalone:!0,features:[Ce],decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center p-8",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-8"],[1,"bg-gray-900","text-white","rounded-xl","shadow-lg","p-8","relative","z-50"],[1,"absolute","top-4","right-4","text-white","text-2xl","hover:text-green-600","transition","duration-200",3,"click"],[1,"fa-solid","fa-x"],[1,"text-2xl","font-bold","mb-4"],[1,"flex","flex-col","gap-4"],[1,"font-semibold","text-center"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"font-semibold","pb-2","text-center"],[1,"flex","items-center","justify-between","bg-gray-700","rounded-full","p-2"],["type","text","placeholder","New workout name",1,"pl-4","bg-gray-700","text-white","border-0","focus:outline-none","transition","duration-200","rounded-full",3,"ngModelChange","ngModel"],[1,"bg-green-600","text-white","font-bold","capitalize","px-4","py-2","rounded-full",3,"click"],[1,"hidden","lg:block"],[1,"block","lg:hidden"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"],[1,"my-2","bg-gray-700","text-white","font-bold","capitalize","px-4","py-2","rounded-full",3,"click"]],template:function(n,r){n&1&&de(0,hse,24,4,"div",0),n&2&&G("ngIf",r.showWorkoutSelectionModal)},dependencies:[$e,Xn,ot,An,vi,Cs,qi]})};var fse=(t,e)=>({"border-2 border-white bg-gray-700 !text-white":t,"bg-gray-800 text-white hover:bg-gray-700":e});function pse(t,e){if(t&1&&(C(0,"option",10),O(1),T()),t&2){let n=e.$implicit;G("value",n),P(),Pe(n)}}function gse(t,e){if(t&1&&(C(0,"option",10),O(1),T()),t&2){let n=e.$implicit;G("value",n),P(),Pe(n)}}function mse(t,e){t&1&&(C(0,"span"),$(1,"i",13),T())}function vse(t,e){if(t&1){let n=Je();C(0,"button",11),Y("click",function(){let i=Q(n).$implicit,s=H();return K(s.toggleCategory(i))}),O(1),de(2,mse,2,0,"span",12),T()}if(t&2){let n=e.$implicit,r=H();G("ngClass",Jv(3,fse,r.isCategorySelected(n),!r.isCategorySelected(n))),P(),_e(" ",n," "),P(),G("ngIf",r.isCategorySelected(n))}}var g0=class t{muscles=[];equipments=[];categories=[];exercises=[];filteredExercises=new je;selectedMuscle="";selectedEquipment="";selectedCategories=[];searchQuery="";onFilterChange(){this.filterExercises()}toggleCategory(e){this.isCategorySelected(e)?this.selectedCategories=this.selectedCategories.filter(n=>n!==e):this.selectedCategories.push(e),this.filterExercises()}isCategorySelected(e){return this.selectedCategories.includes(e)}clearCategoryFilter(){this.selectedCategories=[],this.filterExercises()}filterExercises(){let e=this.exercises.filter(n=>{let r=this.selectedMuscle?n.primaryMuscles.includes(this.selectedMuscle)||n.secondaryMuscles.includes(this.selectedMuscle):!0,i=this.selectedEquipment?n.equipment===this.selectedEquipment:!0,s=this.selectedCategories.length>0?this.selectedCategories.includes(n.category):!0,o=this.searchQuery?n.name.toLowerCase().includes(this.searchQuery.toLowerCase()):!0;return r&&i&&s&&o});this.filteredExercises.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ve({type:t,selectors:[["app-exercise-filter"]],inputs:{muscles:"muscles",equipments:"equipments",categories:"categories",exercises:"exercises"},outputs:{filteredExercises:"filteredExercises"},standalone:!0,features:[Ce],decls:17,vars:6,consts:[[1,"flex","flex-wrap","items-center","justify-center","gap-4","mt-2","mb-6"],[1,"rounded-xl","bg-gray-800","text-white","p-4","w-full","sm:w-auto","transition","duration-200","hover:bg-gray-700",3,"ngModelChange","change","ngModel"],["value",""],["class","capitalize",3,"value",4,"ngFor","ngForOf"],["placeholder","Search by name",1,"rounded-xl","bg-gray-800","text-white","p-4","w-full","sm:w-auto","transition","duration-200","hover:bg-gray-700",3,"ngModelChange","input","ngModel"],[1,"categories"],[1,"font-bold","pb-4","text-2xl","text-white"],[1,"grid","grid-cols-3","md:grid-cols-4","lg:grid-cols-7","gap-2"],["class","flex justify-evenly items-center px-4 py-2 rounded-full font-bold uppercase text-xs transition duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-transparent","border-2","border-white","text-white","text-xs","font-bold","uppercase","px-4","py-2","rounded-full","transition","duration-200","hover:bg-gray-700",3,"click"],[1,"capitalize",3,"value"],[1,"flex","justify-evenly","items-center","px-4","py-2","rounded-full","font-bold","uppercase","text-xs","transition","duration-200",3,"click","ngClass"],[4,"ngIf"],[1,"fa-solid","fa-x","text-white","border-2","border-white","p-1","rounded-full","w-5","h-5","flex","justify-center","items-center"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"select",1),Vn("ngModelChange",function(s){return Zn(r.selectedMuscle,s)||(r.selectedMuscle=s),s}),Y("change",function(){return r.onFilterChange()}),C(2,"option",2),O(3,"All Muscles"),T(),de(4,pse,2,2,"option",3),T(),C(5,"select",1),Vn("ngModelChange",function(s){return Zn(r.selectedEquipment,s)||(r.selectedEquipment=s),s}),Y("change",function(){return r.onFilterChange()}),C(6,"option",2),O(7,"All Equipment"),T(),de(8,gse,2,2,"option",3),T(),C(9,"input",4),Vn("ngModelChange",function(s){return Zn(r.searchQuery,s)||(r.searchQuery=s),s}),Y("input",function(){return r.onFilterChange()}),T(),C(10,"div",5)(11,"h3",6),O(12,"Filter by categories"),T(),C(13,"div",7),de(14,vse,3,6,"button",8),C(15,"button",9),Y("click",function(){return r.clearCategoryFilter()}),O(16," Clear All Categories "),T()()()()),n&2&&(P(),Ln("ngModel",r.selectedMuscle),P(3),G("ngForOf",r.muscles),P(),Ln("ngModel",r.selectedEquipment),P(3),G("ngForOf",r.equipments),P(),Ln("ngModel",r.searchQuery),P(5),G("ngForOf",r.categories))},dependencies:[$e,ju,Xn,ot,An,u0,d0,vi,xd,Cs,qi]})};function yse(t,e){t&1&&(C(0,"div",8),$(1,"i",9),T())}function _se(t,e){if(t&1){let n=Je();C(0,"div",12),Y("mouseenter",function(){let i=Q(n).$implicit,s=H(2);return K(s.startImageSwitch(i))})("mouseleave",function(){let i=Q(n).$implicit,s=H(2);return K(s.stopImageSwitch(i))}),C(1,"div",13),$(2,"img",14)(3,"div",15),C(4,"button",16),Y("click",function(){let i=Q(n).$implicit,s=H(2);return K(s.openWorkoutSelection(i))}),$(5,"i",17),T()(),C(6,"div",18)(7,"h3",19),O(8),T(),C(9,"p",20)(10,"strong"),O(11,"Category:"),T(),O(12),T(),C(13,"p",20)(14,"strong"),O(15,"Primary Muscles:"),T(),O(16),T(),C(17,"button",21),Y("click",function(){let i=Q(n).$implicit,s=H(2);return K(s.viewExercise(i))}),O(18,"View Exercise"),T()()()}if(t&2){let n=e.$implicit,r=H(2);P(2),Wl("alt",n.name),G("src","https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/"+r.currentImage(n),Fr),P(6),Pe(n.name),P(4),_e(" ",n.category,""),P(4),_e(" ",n.primaryMuscles.join(", "),"")}}function wse(t,e){if(t&1&&(C(0,"div",10),de(1,_se,19,5,"div",11),T()),t&2){let n=H();P(),G("ngForOf",n.displayedExercises)}}function Ese(t,e){t&1&&(C(0,"div",8),$(1,"i",22),C(2,"p",23),O(3,"Loading more exercises..."),T()())}function bse(t,e){if(t&1){let n=Je();C(0,"app-exercise-details",24),Y("close",function(){Q(n);let i=H();return K(i.closeDetailsModal())}),T()}if(t&2){let n=H();G("selectedExercise",n.selectedExercise)("showModal",n.showModal)}}function Ise(t,e){if(t&1){let n=Je();C(0,"app-exercise-add",25),Y("close",function(){Q(n);let i=H();return K(i.closeWorkoutSelectionModal())}),T()}if(t&2){let n=H();G("showWorkoutSelectionModal",n.showWorkoutSelectionModal)("selectedExercise",n.selectedExercise)("userId",n.userId)}}var m0=class t{constructor(e,n,r,i){this.exerciseService=e;this.workoutService=n;this.auth=r;this.route=i}exercises=[];filteredExercises=[];displayedExercises=[];muscles=[];equipments=[];categories=[];currentImageIndex={};intervalId;loading=!0;loadingMore=!1;limit=12;loadIncrement=6;selectedMuscle="";selectedEquipment="";selectedCategories=[];searchQuery="";page=1;showModal=!1;selectedExercise=null;modalImageIndex=0;modalImageInterval;workouts=[];showWorkoutSelectionModal=!1;newWorkoutName="";userId=null;ngOnInit(){return w(this,null,function*(){this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,this.exerciseService.getExercises().subscribe({next:e=>{this.exercises=e,this.filteredExercises=this.exercises,this.muscles=[...new Set(this.exercises.flatMap(n=>n.primaryMuscles))],this.equipments=[...new Set(this.exercises.map(n=>n.equipment))],this.categories=[...new Set(this.exercises.map(n=>n.category))],this.loadMoreExercises(),this.exercises.forEach(n=>{this.currentImageIndex[n.name]=0}),this.loading=!1,this.route.queryParams.subscribe(n=>{let r=n.muscle;r&&(this.selectedMuscle=r,this.filterExercises())})},error:e=>{console.error("Error fetching exercises:",e)}})})}startImageSwitch(e){this.intervalId=setInterval(()=>{this.currentImageIndex[e.name]=this.currentImageIndex[e.name]===0?1:0},1e3)}stopImageSwitch(e){clearInterval(this.intervalId)}currentImage(e){return e.images[this.currentImageIndex[e.name]]}viewExercise(e){this.selectedExercise=e,this.showModal=!0}closeDetailsModal(){this.showModal=!1,this.selectedExercise=null}openWorkoutSelection(e){this.selectedExercise=e,this.showWorkoutSelectionModal=!0,this.userId&&this.workoutService.getUserWorkouts(this.userId).then(n=>{this.workouts=n}).catch(n=>{console.error("Error fetching workouts:",n)})}closeWorkoutSelectionModal(){this.showWorkoutSelectionModal=!1}filterExercises(){let e=this.exercises.filter(n=>{let r=this.selectedMuscle?n.primaryMuscles.includes(this.selectedMuscle)||n.secondaryMuscles.includes(this.selectedMuscle):!0,i=this.selectedEquipment?n.equipment===this.selectedEquipment:!0,s=this.selectedCategories.length>0?this.selectedCategories.includes(n.category):!0,o=this.searchQuery?n.name.toLowerCase().includes(this.searchQuery.toLowerCase()):!0;return r&&i&&s&&o});this.updateFilteredExercises(e)}updateFilteredExercises(e){this.filteredExercises=e,this.displayedExercises=[],this.loadMoreExercises()}loadMoreExercises(){let e=this.filteredExercises.slice(this.displayedExercises.length,this.displayedExercises.length+this.limit);this.displayedExercises=[...this.displayedExercises,...e],this.loadingMore=!1}onScroll(e){let n=e.target;n.scrollTop+n.clientHeight>=n.scrollHeight-50&&!this.loadingMore&&this.displayedExercises.length<this.filteredExercises.length&&(this.loadingMore=!0,setTimeout(()=>{this.loadMoreExercises()},1e3))}static \u0275fac=function(n){return new(n||t)(U(Cd),U(an),U(ze),U(ji))};static \u0275cmp=ve({type:t,selectors:[["app-exercises"]],standalone:!0,features:[Li([Cd]),Ce],decls:9,vars:9,consts:[[1,"container","mx-auto","px-4","py-4"],[3,"filteredExercises","muscles","equipments","categories","exercises"],["class","p-6 flex justify-center items-center",4,"ngIf"],[1,"exercise-list-container","h-screen","overflow-y-auto",3,"scroll"],[1,"gradient-overlay"],["class","grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],[3,"selectedExercise","showModal","close",4,"ngIf"],[3,"showWorkoutSelectionModal","selectedExercise","userId","close",4,"ngIf"],[1,"p-6","flex","justify-center","items-center"],[1,"fa-solid","fa-circle-notch","fa-spin","text-green-600","text-8xl"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-gray-800 rounded-xl shadow-lg transition-transform transform hover:bg-gray-700 lg:max-h-96",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"bg-gray-800","rounded-xl","shadow-lg","transition-transform","transform","hover:bg-gray-700","lg:max-h-96",3,"mouseenter","mouseleave"],[1,"relative","h-1/2"],[1,"w-full","h-full","object-cover","transition-opacity","duration-1000","ease-in-out","rounded-t-xl","grayscale",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-green-600","to-transparent","opacity-40"],[1,"absolute","bottom-2","right-2","p-2",3,"click"],[1,"fa-solid","fa-circle-plus","text-white","text-3xl"],[1,"p-4"],[1,"text-lg","text-white","font-bold","mb-2"],[1,"text-sm","text-gray-300","mb-2","capitalize"],[1,"my-2","bg-green-600","text-white","font-bold","px-4","py-2","rounded-full","transition","duration-200","hover:bg-green-600",3,"click"],[1,"fa-solid","fa-circle-notch","fa-spin","text-green-600","text-4xl"],[1,"ml-4","text-gray-300"],[3,"close","selectedExercise","showModal"],[3,"close","showWorkoutSelectionModal","selectedExercise","userId"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"app-exercise-filter",1),Y("filteredExercises",function(s){return r.updateFilteredExercises(s)}),T(),de(2,yse,2,0,"div",2),C(3,"div",3),Y("scroll",function(s){return r.onScroll(s)}),$(4,"div",4),de(5,wse,2,1,"div",5)(6,Ese,4,0,"div",2),T(),de(7,bse,1,2,"app-exercise-details",6)(8,Ise,1,3,"app-exercise-add",7),T()),n&2&&(P(),G("muscles",r.muscles)("equipments",r.equipments)("categories",r.categories)("exercises",r.exercises),P(),G("ngIf",r.loading),P(3),G("ngIf",!r.loading),P(),G("ngIf",r.loadingMore),P(),G("ngIf",r.showModal),P(),G("ngIf",r.showWorkoutSelectionModal))},dependencies:[$e,Xn,ot,An,C6,h0,p0,g0],styles:['.exercise-list-container[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch}.exercise-list-container[_ngcontent-%COMP%]   .gradient-overlay[_ngcontent-%COMP%]{content:"";position:sticky;top:0;left:0;width:100%;height:50px;background:linear-gradient(to bottom,rgb(17,24,39),transparent);z-index:1;pointer-events:none}.exercise-list-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise-list-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:0}']})};function Cse(t,e){if(t&1){let n=Je();C(0,"div",12)(1,"div",13)(2,"div",14),O(3),T(),C(4,"div",15)(5,"div",16)(6,"button",17),Y("click",function(){let i=Q(n).index,s=H(2);return K(s.moveExerciseUp(i))}),$(7,"i",18),T()(),C(8,"div",19)(9,"button",17),Y("click",function(){let i=Q(n).index,s=H(2);return K(s.moveExerciseDown(i))}),$(10,"i",20),T()()()(),C(11,"div",21)(12,"h3",22),O(13),T()(),C(14,"div",23)(15,"div",24)(16,"div",25)(17,"div",26)(18,"button",27),Y("click",function(){let i=Q(n).index,s=H(2);return K(s.moveExerciseUp(i))}),$(19,"i",18),T()(),C(20,"div",28)(21,"button",27),Y("click",function(){let i=Q(n).index,s=H(2);return K(s.moveExerciseDown(i))}),$(22,"i",20),T()()(),C(23,"div",29)(24,"div",30)(25,"button",31),Y("click",function(){let i=Q(n).$implicit;return K(i.sets=i.sets?i.sets-1:0)}),O(26,"-"),T(),C(27,"input",32),Vn("ngModelChange",function(i){let s=Q(n).$implicit;return Zn(s.sets,i)||(s.sets=i),K(i)}),T(),C(28,"button",31),Y("click",function(){let i=Q(n).$implicit;return K(i.sets=i.sets?i.sets+1:1)}),O(29,"+"),T()(),C(30,"div",33),$(31,"i",34),T(),C(32,"div",35)(33,"button",31),Y("click",function(){let i=Q(n).$implicit;return K(i.reps=i.reps?i.reps-1:0)}),O(34,"-"),T(),C(35,"input",36),Vn("ngModelChange",function(i){let s=Q(n).$implicit;return Zn(s.reps,i)||(s.reps=i),K(i)}),T(),C(36,"button",31),Y("click",function(){let i=Q(n).$implicit;return K(i.reps=i.reps?i.reps+1:1)}),O(37,"+"),T()()(),C(38,"div",37)(39,"button",38),Y("click",function(){let i=Q(n).index,s=H(2);return K(s.removeExercise(i))}),$(40,"i",39),T()()()()()}if(t&2){let n=e.$implicit,r=e.index,i=H(2);P(3),Pe(r+1),P(3),G("disabled",r===0),P(3),G("disabled",r===i.editingWorkout.exercises.length-1),P(4),Pe(n.name),P(5),G("disabled",r===0),P(3),G("disabled",r===i.editingWorkout.exercises.length-1),P(6),Ln("ngModel",n.sets),P(8),Ln("ngModel",n.reps)}}function Tse(t,e){if(t&1){let n=Je();C(0,"div",1)(1,"div",2)(2,"h2",3),O(3),T(),C(4,"div",4),de(5,Cse,41,8,"div",5),T(),C(6,"div",6)(7,"button",7),Y("click",function(){Q(n);let i=H();return K(i.saveWorkout())}),O(8," Save Workout "),T(),C(9,"button",8),Y("click",function(){Q(n);let i=H();return K(i.cancelEdit())}),O(10," Cancel "),T()(),C(11,"button",9),Y("click",function(){Q(n);let i=H();return K(i.cancelEdit())}),$(12,"i",10),T()(),C(13,"div",11),Y("click",function(){Q(n);let i=H();return K(i.cancelEdit())}),T()()}if(t&2){let n=H();P(3),_e("Edit Workout: ",n.editingWorkout.name,""),P(2),G("ngForOf",n.editingWorkout.exercises)}}var v0=class t{constructor(e,n,r){this.workoutService=e;this.auth=n;this.toastr=r}workouts=[];editingWorkout=null;onSave=new je;moveExerciseUp(e){if(e===0)return;let n=this.editingWorkout.exercises;[n[e-1],n[e]]=[n[e],n[e-1]]}moveExerciseDown(e){if(e===this.editingWorkout.exercises.length-1)return;let n=this.editingWorkout.exercises;[n[e+1],n[e]]=[n[e],n[e+1]]}removeExercise(e){this.editingWorkout.exercises.splice(e,1),this.toastr.success("Exercise removed successfully!")}cancelEdit(){this.editingWorkout=null}saveWorkout(){return w(this,null,function*(){if(this.editingWorkout){let e=this.auth.currentUser;if(e){yield this.workoutService.updateWorkout(e.uid,this.editingWorkout.id,this.editingWorkout);let n=this.workouts.findIndex(r=>r.id===this.editingWorkout.id);n!==-1&&(this.workouts[n]=q({},this.editingWorkout),this.toastr.success("Workout saved successfully!")),this.cancelEdit(),this.onSave.emit()}}})}static \u0275fac=function(n){return new(n||t)(U(an),U(ze),U(Wt))};static \u0275cmp=ve({type:t,selectors:[["app-edit-workout-modal"]],inputs:{workouts:"workouts",editingWorkout:"editingWorkout"},outputs:{onSave:"onSave"},standalone:!0,features:[Ce],decls:1,vars:1,consts:[["class","fixed inset-0 z-40 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-40","flex","items-center","justify-center"],[1,"bg-gray-900","text-white","p-8","relative","w-full","h-full","overflow-y-scroll","z-50"],[1,"text-2xl","font-bold","mb-4","capitalize"],[1,"flex","flex-col","gap-4"],["class","flex flex-col lg:flex-row justify-between items-center bg-gray-800 rounded-xl p-4 relative",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-4","mt-4"],[1,"bg-green-600","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"bg-gray-700","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"absolute","top-4","right-4","text-white","text-2xl",3,"click"],[1,"fa-solid","fa-x"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"],[1,"flex","flex-col","lg:flex-row","justify-between","items-center","bg-gray-800","rounded-xl","p-4","relative"],[1,"number","absolute","left-0","top-0","p-4","h-full","rounded-s-xl","text-center","bg-gray-700"],[1,"font-bold","text-3xl","text-gray-400","pb-4","lg:pb-0"],[1,"lg:hidden","flex","flex-col","gap-2"],[1,"move-up","p-1"],[1,"bg-gray-800","disabled:opacity-50","text-white","font-bold","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10",3,"click","disabled"],[1,"fa-solid","fa-arrow-up"],[1,"move-down","p-1"],[1,"fa-solid","fa-arrow-down"],[1,"name","w-full","mb-2"],[1,"text-xl","text-start","pl-20","pb-4","lg:pl-12","lg:pb-0","font-bold","flex","items-center"],[1,"flex","flex-col","lg:flex-row","gap-2","items-center","pl-20","lg:pl-0"],[1,"flex","controls","gap-2","items-center"],[1,"lg:flex","flex-col","lg:flex-row","gap-2","hidden"],[1,"move-up"],[1,"bg-gray-700","disabled:opacity-50","text-white","font-bold","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10",3,"click","disabled"],[1,"move-down"],[1,"flex","flex-col","lg:flex-row","gap-2"],[1,"sets","text-center","flex","flex-row","bg-gray-700","rounded-full","p-1","max-w-1/2","justify-between"],["type","button",1,"bg-gray-800","text-white","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10",3,"click"],["placeholder","Sets","type","number","id","sets","name","sets",1,"w-1/5","lg:w-10","bg-transparent","text-white","text-sm","font-black","focus:border-0","focus:outline-0","text-center",3,"ngModelChange","ngModel"],[1,"times","hidden","lg:flex","lg:items-center"],[1,"fa-solid","fa-x","text-xs"],[1,"reps","text-center","flex","flex-row","bg-gray-700","rounded-full","p-1","max-w-1/2","justify-between"],["placeholder","Reps","type","number","id","reps","name","reps",1,"w-1/5","lg:w-10","bg-transparent","text-white","text-sm","font-black","focus:border-0","focus:outline-0","text-center",3,"ngModelChange","ngModel"],[1,"delete"],[1,"bg-gray-700","text-white","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10","border-2","border-red-600",3,"click"],[1,"fa-solid","fa-trash","text-gray-400","hover:text-white"]],template:function(n,r){n&1&&de(0,Tse,14,2,"div",0),n&2&&G("ngIf",r.editingWorkout)},dependencies:[$e,Xn,ot,An,vi,Lp,Cs,qi]})};var R6={strength:3,stretching:1.25,plyometrics:4,strongman:3.3,powerlifting:2.5,cardio:4,olympicWeightlifting:3};var Ts={level_1:0,level_2:2e4,level_3:5e4,level_4:1e5,level_5:2e5,level_6:5e5,level_7:1e6,level_8:2e6,level_9:5e6,level_10:1e7},Ds={level_1:{name:"Rookie",badgeUrl:"https://firebasestorage.googleapis.com/v0/b/fit-me-a409a.appspot.com/o/achievements%2Frookie.png?alt=media&token=c0cda5e2-3c9c-4ed5-a21e-e6fa5d6a8585"},level_2:{name:"Adventurer",badgeUrl:"https://firebasestorage.googleapis.com/v0/b/fit-me-a409a.appspot.com/o/achievements%2Fadventurer.png?alt=media&token=f6998f64-0db5-4a4f-af95-e97600bcdfc9"},level_3:{name:"Warrior",badgeUrl:"https://firebasestorage.googleapis.com/v0/b/fit-me-a409a.appspot.com/o/achievements%2Fwarrior.png?alt=media&token=d63f8c29-6105-48c2-8792-d920e8c2256a"},level_4:{name:"Master",badgeUrl:""},level_5:{name:"Hero",badgeUrl:""},level_6:{name:"Legend",badgeUrl:""},level_7:{name:"Champion",badgeUrl:""},level_8:{name:"Titan",badgeUrl:""},level_9:{name:"Ascendant",badgeUrl:""},level_10:{name:"Supreme",badgeUrl:""}};function M6(t){let e=(t.timeSpent||0)*1e-4,n=(t.exercises?.length||0)*.5,r=(t.exercises||[]).reduce((o,a)=>o+(a.sets||0)*.2,0),i=(t.exercises||[]).reduce((o,a)=>o+(a.reps||0)*.1,0),s=(t.totalCalories||0)*.1;return e+n+r+i+s}function Md(t){return t>=Ts.level_10?Ds.level_10:t>=Ts.level_9?Ds.level_9:t>=Ts.level_8?Ds.level_8:t>=Ts.level_7?Ds.level_7:t>=Ts.level_6?Ds.level_6:t>=Ts.level_5?Ds.level_5:t>=Ts.level_4?Ds.level_4:t>=Ts.level_3?Ds.level_3:t>=Ts.level_2?Ds.level_2:t>=Ts.level_1?Ds.level_1:null}var Dse=t=>({width:t});function Sse(t,e){if(t&1&&(C(0,"div",26)(1,"div",27)(2,"h3",28)(3,"strong"),O(4),T()(),C(5,"p")(6,"strong"),O(7,"Set: "),T(),O(8),T(),C(9,"p")(10,"strong"),O(11,"Reps: "),T(),O(12),T()()()),t&2){let n=H(2);P(4),Pe(n.startingWorkout.exercises[n.currentExerciseIndex].name),P(4),Pa("",n.startingWorkout.exercises[n.currentExerciseIndex].currentSet," of ",n.startingWorkout.exercises[n.currentExerciseIndex].sets,""),P(4),Pe(n.startingWorkout.exercises[n.currentExerciseIndex].reps)}}function Ase(t,e){if(t&1){let n=Je();C(0,"div",2)(1,"div",3),$(2,"img",4)(3,"div",5),T(),C(4,"div",6)(5,"h2",7),O(6),T(),C(7,"div",8),O(8),T(),de(9,Sse,13,4,"div",9),C(10,"div",10)(11,"button",11),Y("click",function(){Q(n);let i=H();return K(i.completeSet())}),O(12),T()(),C(13,"div",12)(14,"div",13)(15,"div",14),$(16,"div",15),C(17,"div",16),O(18),T()()()(),C(19,"div",17)(20,"button",18),O(21),$(22,"i",19),T(),C(23,"button",20),Y("click",function(){Q(n);let i=H();return K(i.skipRest())}),O(24," Skip Rest "),$(25,"i",21),T(),C(26,"button",20),Y("click",function(){Q(n);let i=H();return K(i.addRestTime())}),O(27," +10s "),$(28,"i",22),T()(),C(29,"div",10)(30,"button",23),Y("click",function(){Q(n);let i=H();return K(i.finishWorkout())}),O(31," Finish Workout "),T()(),C(32,"button",24),Y("click",function(){Q(n);let i=H();return K(i.openConfirmCancelModal())}),$(33,"i",25),T()()()}if(t&2){let n=H();P(2),Wl("alt",n.startingWorkout.exercises[n.currentExerciseIndex].name),G("src","https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/"+n.currentImage(n.startingWorkout.exercises[n.currentExerciseIndex]),Fr),P(4),Pe(n.startingWorkout.name),P(2),_e(" ",n.formatDuration()," "),P(),G("ngIf",n.currentExerciseIndex!==null),P(2),G("disabled",n.startingWorkout.exercises[n.currentExerciseIndex].done||n.isResting),P(),_e(" ",n.startingWorkout.exercises[n.currentExerciseIndex].done?"Exercise Completed":"Complete Set"," "),P(4),G("ngStyle",go(12,Dse,n.progress+"%")),P(2),_e("",n.progress.toFixed(0),"% Completed"),P(3),_e(" Rest (",n.restTimeRemaining,") "),P(2),G("disabled",!n.isResting),P(3),G("disabled",!n.isResting)}}function xse(t,e){if(t&1){let n=Je();C(0,"div",29)(1,"div",30)(2,"h3",31),O(3,"Are you sure you want to cancel this workout? All the progress will be lost."),T(),C(4,"div",32)(5,"button",33),Y("click",function(){Q(n);let i=H();return K(i.cancelWorkout())}),O(6,"Yes, Cancel"),T(),C(7,"button",34),Y("click",function(){Q(n);let i=H();return K(i.closeConfirmCancelModal())}),O(8,"No, Continue"),T()()(),C(9,"div",35),Y("click",function(){Q(n);let i=H();return K(i.closeConfirmCancelModal())}),T()()}}var y0=class t{constructor(e,n,r,i,s){this.auth=e;this.userService=n;this.workoutService=r;this.toastr=i;this.cdr=s}profileData={weight:null};userWeight=this.profileData.weight;startingWorkout=null;currentExerciseIndex=null;progress=0;restTimeRemaining=30;isResting=!1;timer;earnedBadges=[];elapsedSeconds=0;countdownDuration=3;countdown=0;isCountdownActive=!1;showConfirmCancelModal=!1;resetWorkout(){this.startingWorkout=null,this.currentExerciseIndex=0,this.progress=0,this.showConfirmCancelModal=!1,this.isResting=!1,this.elapsedSeconds=0,this.restTimeRemaining=30,clearInterval(this.timer)}currentImage(e){return e.images?.[0]||"assets/default-image.png"}completeSet(){let e=this.startingWorkout.exercises[this.currentExerciseIndex||0];this.toastr.success("Set finished! Take a bit of rest..."),e.currentSet<e.sets?(e.currentSet++,this.startRestBetweenSets(e)):this.finishExercise(e),this.updateProgress(),this.checkAllExercisesDone(),this.cdr.detectChanges()}finishExercise(e){if(e.done=!0,this.currentExerciseIndex<this.startingWorkout.exercises.length-1){this.currentExerciseIndex++;let n=this.startingWorkout.exercises[this.currentExerciseIndex];n.currentSet=1,this.toastr.info(`Get ready for ${n.name}`),this.resetAndLoadImage(n.images),this.startRest()}else this.finishWorkout()}checkAllExercisesDone(){this.startingWorkout.exercises.every(n=>n.done)&&this.toastr.success("All exercises are completed! Great job!")}resetAndLoadImage(e){let n=e?.[0];n&&(this.startingWorkout.exercises[this.currentExerciseIndex].currentImage=n)}updateProgress(){if(this.startingWorkout&&this.startingWorkout.exercises.length>0){let e=this.startingWorkout.exercises.reduce((r,i)=>r+(i.sets||0),0),n=this.startingWorkout.exercises.reduce((r,i)=>r+(i.done?i.sets:i.currentSet-1),0);this.progress=e>0?n/e*100:0}}calculateCalories(e,n){let r=R6[e.category.toLowerCase()];return r&&this.userWeight!==null?r*this.userWeight*(n/3600):0}finishWorkout(){if(!this.startingWorkout)return;let e=this.startingWorkout.exercises.reduce((i,s)=>i+this.calculateCalories(s,this.elapsedSeconds),0);this.startingWorkout.totalCalories=e;let n=M6(this.startingWorkout);this.userService.updateUserPoints(n).then(i=>{let s=Md(i);s&&this.userService.saveAchievement(s.name),this.toastr.success(`Workout completed! You earned ${n.toFixed(0)} points.`),this.toastr.info(`You burned approximately ${e.toFixed(0)} calories!`)}).catch(i=>{console.error("Error updating points:",i),this.toastr.error("Failed to update points")});let r=this.auth.currentUser;r&&this.workoutService.completeWorkout(r.uid,this.startingWorkout.name,this.startingWorkout.id,this.startingWorkout.exercises,this.elapsedSeconds,e).then(()=>{this.toastr.success("Workout completed! Great job!"),this.toastr.info(`You burned approximately ${e.toFixed(0)} calories!`)}).catch(i=>{console.error("Error saving finished workout:",i),this.toastr.error("Failed to save finished workout")}),this.startingWorkout.completed=!0,this.resetWorkout()}startRestBetweenSets(e){this.isResting=!0,this.restTimeRemaining=30,this.startRestTimer(()=>{this.isResting=!1,this.toastr.info(`Rest over! Start set ${e.currentSet} of ${e.name}.`)})}startRest(){this.isResting=!0,this.restTimeRemaining=60,this.startRestTimer(()=>{this.isResting=!1,this.toastr.info("Rest period over! Time to start the next exercise.")})}startRestTimer(e){this.timer=setInterval(()=>{this.restTimeRemaining>0?this.restTimeRemaining--:(clearInterval(this.timer),e())},1e3)}skipRest(){this.isResting=!1,clearInterval(this.timer),this.restTimeRemaining=0,this.toastr.info("Rest skipped! Time to move on.")}addRestTime(){this.restTimeRemaining+=10,this.toastr.info("Added 10 seconds to rest time!")}cancelWorkout(){this.resetWorkout(),clearInterval(this.timer),this.toastr.error("Workout has been cancelled.")}openConfirmCancelModal(){this.showConfirmCancelModal=!0}closeConfirmCancelModal(){this.showConfirmCancelModal=!1}formatDuration(){let e=Math.floor(this.elapsedSeconds/3600),n=Math.floor(this.elapsedSeconds%3600/60),r=this.elapsedSeconds%60;return`${this.pad(e)}:${this.pad(n)}:${this.pad(r)}`}pad(e){return e<10?"0"+e:e.toString()}static \u0275fac=function(n){return new(n||t)(U(ze),U(on),U(an),U(Wt),U(Lr))};static \u0275cmp=ve({type:t,selectors:[["app-start-workout-modal"]],inputs:{profileData:"profileData",userWeight:"userWeight",startingWorkout:"startingWorkout",currentExerciseIndex:"currentExerciseIndex",progress:"progress",restTimeRemaining:"restTimeRemaining",isResting:"isResting",timer:"timer",earnedBadges:"earnedBadges",elapsedSeconds:"elapsedSeconds",countdownDuration:"countdownDuration",countdown:"countdown",isCountdownActive:"isCountdownActive",showConfirmCancelModal:"showConfirmCancelModal"},standalone:!0,features:[Ce],decls:2,vars:2,consts:[["class","fixed inset-0 z-40 w-full h-full flex flex-col md:flex-row bg-gray-900 text-white overflow-y-auto",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-40","w-full","h-full","flex","flex-col","md:flex-row","bg-gray-900","text-white","overflow-y-auto"],[1,"relative","w-full","md:w-1/2","flex-shrink-0"],[1,"w-full","h-full","object-cover","grayscale",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black","via-transparent","to-black","opacity-70"],[1,"w-full","md:w-1/2","flex","flex-col","justify-between","p-8"],[1,"text-2xl","font-bold","text-center","uppercase","mb-4"],[1,"text-center","text-2xl","mb-4"],["class","mb-4",4,"ngIf"],[1,"flex","justify-center","mb-4"],[1,"w-full","bg-gray-800","disabled:opacity-50","text-white","font-bold","px-4","py-2","rounded-full",3,"click","disabled"],[1,"w-full","mb-4"],[1,"bg-gray-800/50","rounded-full","overflow-hidden","p-1"],[1,"relative","h-3","flex","items-center","justify-center"],[1,"absolute","top-0","bottom-0","left-0","rounded-full","bg-green-600",3,"ngStyle"],[1,"relative","text-white","font-medium","text-xs"],[1,"flex","gap-4","mb-4"],["disabled","",1,"w-full","bg-gray-700","text-sm","text-white","font-bold","px-4","py-2","rounded-xl","lg:rounded-full","disabled:opacity-50"],[1,"fa-solid","fa-clock","ml-2"],[1,"w-full","bg-gray-700","text-sm","text-white","font-bold","px-4","py-2","rounded-xl","lg:rounded-full","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","fa-forward","ml-2"],[1,"fa-solid","fa-plus","ml-2"],[1,"w-full","bg-green-600","text-white","font-bold","px-4","py-2","rounded-full",3,"click"],[1,"absolute","top-4","right-4","text-white","text-2xl",3,"click"],[1,"fa-solid","fa-x"],[1,"mb-4"],[1,"flex","flex-col","items-center","gap-2"],[1,"text-xl"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"bg-gray-900","text-white","rounded-xl","shadow-lg","p-8","m-8","md:m-0","relative","max-w-md","w-full","z-50"],[1,"text-2xl","mb-4","text-center"],[1,"flex","justify-between","gap-4"],[1,"bg-red-600","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"bg-gray-700","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"]],template:function(n,r){n&1&&de(0,Ase,34,14,"div",0)(1,xse,10,0,"div",1),n&2&&(G("ngIf",r.startingWorkout&&r.currentExerciseIndex!==null),P(),G("ngIf",r.showConfirmCancelModal))},dependencies:[$e,ot,vy,An]})};function Rse(t,e){if(t&1){let n=Je();C(0,"div",9)(1,"h3",10),O(2),T(),C(3,"div",11)(4,"button",12),Y("click",function(){let i=Q(n).$implicit,s=H(2);return K(s.startWorkout(i))}),$(5,"i",13),T(),C(6,"button",14),Y("click",function(){let i=Q(n).$implicit,s=H(2);return K(s.editWorkout(i))}),$(7,"i",15),T(),C(8,"button",16),Y("click",function(){let i=Q(n).$implicit,s=H(2);return K(s.deleteWorkout(i.id))}),$(9,"i",17),T()()()}if(t&2){let n=e.$implicit;P(2),Pe(n.name)}}function Mse(t,e){if(t&1&&(C(0,"div",5),de(1,Rse,10,1,"div",6),C(2,"div",7),O(3," Visit "),C(4,"a",8),O(5,"Exercises"),T(),O(6," to add more exercises or create a new workout! "),T()()),t&2){let n=H();P(),G("ngForOf",n.workouts)}}function kse(t,e){if(t&1&&$(0,"app-edit-workout-modal",18),t&2){let n=H();G("editingWorkout",n.editingWorkout)}}function Nse(t,e){if(t&1&&$(0,"app-start-workout-modal",19),t&2){let n=H();G("userWeight",n.profileData.weight)("startingWorkout",n.startingWorkout)("currentExerciseIndex",n.currentExerciseIndex)("progress",n.progress)("restTimeRemaining",n.restTimeRemaining)("isResting",n.isResting)("timer",n.timer)("earnedBadges",n.earnedBadges)("elapsedSeconds",n.elapsedSeconds)("countdownDuration",n.countdownDuration)("countdown",n.countdown)("isCountdownActive",n.isCountdownActive)("showConfirmCancelModal",n.showConfirmCancelModal)}}var _0=class t{constructor(e,n,r,i,s){this.userService=e;this.workoutService=n;this.auth=r;this.route=i;this.toastr=s}profileData={weight:null};userWeight=null;workouts=[];newWorkoutName="";editingWorkout=null;startingWorkout=null;currentExerciseIndex=null;progress=0;restTimeRemaining=30;isResting=!1;timer;earnedBadges=[];elapsedSeconds=0;countdownDuration=3;countdown=0;isCountdownActive=!1;showConfirmCancelModal=!1;errorMessage=null;ngOnInit(){this.fetchWorkouts(),this.fetchProfileData(),this.route.queryParams.subscribe(e=>{let n=e.workoutId;n&&this.startWorkoutById(n)})}fetchProfileData(){this.userService.getGoogleFitProfileData().then(e=>{e?(this.profileData=e,this.fetchWeightAndHeight()):this.errorMessage="No profile data found."}).catch(e=>{this.errorMessage="Error fetching profile data",console.error("Error fetching profile data:",e)})}fetchWeightAndHeight(){Promise.all([this.userService.getUserWeight(),this.userService.getUserHeight()]).then(([e,n])=>{this.profileData.weight=e,this.profileData.height=n}).catch(e=>{console.error("Error fetching weight and height:",e),this.toastr.error("Could not fetch weight and height.")})}fetchWorkouts(){let e=this.auth.currentUser;e&&this.workoutService.getUserWorkouts(e.uid).then(n=>{this.workouts=n}).catch(n=>{this.toastr.error("Error fetching workouts:",n)})}startWorkoutById(e){return w(this,null,function*(){let n=this.auth.currentUser;if(n){let r=yield this.workoutService.getUserWorkoutById(n.uid,e);r?this.startWorkout(r):this.toastr.error("Workout not found!")}})}editWorkout(e){this.editingWorkout=q({},e)}deleteWorkout(e){return w(this,null,function*(){let n=this.auth.currentUser;n&&(yield this.workoutService.deleteWorkout(n.uid,e),this.workouts=this.workouts.filter(r=>r.id!==e),this.toastr.success("Workout deleted successfully!"))})}startWorkout(e){this.resetWorkoutState(),this.startingWorkout=he(q({},e),{exercises:e.exercises.map(n=>he(q({},n),{done:!1,currentSet:1,current:!1}))}),this.restTimeRemaining=30,this.isResting=!1,this.currentExerciseIndex=0,this.elapsedSeconds=0,this.progress=0,this.startTimer(),this.toastr.info(`Starting workout: ${e.name}`)}resetWorkoutState(){this.startingWorkout=null,this.currentExerciseIndex=0,this.progress=0,this.restTimeRemaining=30,this.isResting=!1,this.timer&&clearInterval(this.timer),this.timer=null,this.earnedBadges=[],this.elapsedSeconds=0,this.countdownDuration=3,this.countdown=0,this.isCountdownActive=!1,this.showConfirmCancelModal=!1}startTimer(){this.timer=setInterval(()=>{this.elapsedSeconds++},1e3)}static \u0275fac=function(n){return new(n||t)(U(on),U(an),U(ze),U(ji),U(Wt))};static \u0275cmp=ve({type:t,selectors:[["app-workouts"]],standalone:!0,features:[Ce],decls:5,vars:3,consts:[[1,"container","mx-auto","px-4","py-4"],[1,"workouts"],["class","flex flex-col items-center gap-6 my-6 w-full",4,"ngIf"],[3,"editingWorkout",4,"ngIf"],[3,"userWeight","startingWorkout","currentExerciseIndex","progress","restTimeRemaining","isResting","timer","earnedBadges","elapsedSeconds","countdownDuration","countdown","isCountdownActive","showConfirmCancelModal",4,"ngIf"],[1,"flex","flex-col","items-center","gap-6","my-6","w-full"],["class","flex flex-col md:flex-row justify-between items-center bg-gray-800 text-white rounded-xl w-full p-6 shadow-md transition-all duration-300 ease-in-out hover:bg-gray-700 hover:shadow-xl",4,"ngFor","ngForOf"],[1,"text-white","text-center","border-2","border-dotted","border-white","rounded-xl","w-full","p-6","bg-gray-800","hover:bg-gray-700","transition-all","duration-300","ease-in-out"],["routerLink","/exercises",1,"font-semibold","uppercase","underline","text-green-600","hover:text-green-700","transition-all","duration-300"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","bg-gray-800","text-white","rounded-xl","w-full","p-6","shadow-md","transition-all","duration-300","ease-in-out","hover:bg-gray-700","hover:shadow-xl"],[1,"workout-name","text-xl","font-bold","capitalize","tracking-wide"],[1,"flex","gap-4","mt-4","md:mt-0"],[1,"bg-gray-700","border-2","border-green-600","text-white","font-bold","uppercase","px-4","py-2","rounded-full","w-10","h-10","flex","justify-center","items-center","gap-2",3,"click"],[1,"fa-solid","fa-play","text-gray-400","hover:text-white"],[1,"bg-gray-700","border-2","border-gray-400","text-white","font-bold","uppercase","px-4","py-2","rounded-full","w-10","h-10","flex","justify-center","items-center","gap-2",3,"click"],[1,"fa-solid","fa-pencil","text-gray-400","hover:text-white"],[1,"bg-gray-700","border-2","border-red-600","transition-all","duration-300","text-white","font-bold","uppercase","px-4","py-2","rounded-full","w-10","h-10","flex","justify-center","items-center","gap-2",3,"click"],[1,"fa-solid","fa-trash","text-gray-400","hover:text-white"],[3,"editingWorkout"],[3,"userWeight","startingWorkout","currentExerciseIndex","progress","restTimeRemaining","isResting","timer","earnedBadges","elapsedSeconds","countdownDuration","countdown","isCountdownActive","showConfirmCancelModal"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),de(2,Mse,7,1,"div",2),T(),de(3,kse,1,1,"app-edit-workout-modal",3)(4,Nse,1,13,"app-start-workout-modal",4),T()),n&2&&(P(2),G("ngIf",r.workouts),P(),G("ngIf",r.editingWorkout),P(),G("ngIf",r.startingWorkout))},dependencies:[$e,Xn,ot,An,Ku,v0,y0]})};var C0,ce,F6,rA,kd,gc,k6,L6,V6,E0={},U6=[],Pse=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ya(t,e){for(var n in e)t[n]=e[n];return t}function j6(t){var e=t.parentNode;e&&e.removeChild(t)}function V(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?C0.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return w0(t,o,r,i,null)}function w0(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++F6};return i==null&&ce.vnode!=null&&ce.vnode(s),s}function zr(){return{current:null}}function Et(t){return t.children}function Ose(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||b0(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||b0(t,s,e[s],n[s],r)}function N6(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Pse.test(e)?n:n+"px"}function b0(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||N6(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||N6(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?O6:P6,s):t.removeEventListener(e,s?O6:P6,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function P6(t){kd=!0;try{return this.l[t.type+!1](ce.event?ce.event(t):t)}finally{kd=!1}}function O6(t){kd=!0;try{return this.l[t.type+!0](ce.event?ce.event(t):t)}finally{kd=!1}}function $n(t,e){this.props=t,this.context=e}function Up(t,e){if(e==null)return t.__?Up(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Up(t):null}function B6(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return B6(t)}}function Fse(t){kd?setTimeout(t):L6(t)}function nA(t){(!t.__d&&(t.__d=!0)&&gc.push(t)&&!I0.__r++||k6!==ce.debounceRendering)&&((k6=ce.debounceRendering)||Fse)(I0)}function I0(){var t,e,n,r,i,s,o,a;for(gc.sort(function(l,c){return l.__v.__b-c.__v.__b});t=gc.shift();)t.__d&&(e=gc.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=Ya({},s)).__v=s.__v+1,iA(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Up(s),s.__h),G6(r,s),s.__e!=o&&B6(s)),gc.length>e&&gc.sort(function(l,c){return l.__v.__b-c.__v.__b}));I0.__r=0}function H6(t,e,n,r,i,s,o,a,l,c){var u,h,f,g,v,b,_,x=r&&r.__k||U6,F=x.length;for(n.__k=[],u=0;u<e.length;u++)if((g=n.__k[u]=(g=e[u])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?w0(null,g,null,null,g):Array.isArray(g)?w0(Et,{children:g},null,null,null):g.__b>0?w0(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)!=null){if(g.__=n,g.__b=n.__b+1,(f=x[u])===null||f&&g.key==f.key&&g.type===f.type)x[u]=void 0;else for(h=0;h<F;h++){if((f=x[h])&&g.key==f.key&&g.type===f.type){x[h]=void 0;break}f=null}iA(t,g,f=f||E0,i,s,o,a,l,c),v=g.__e,(h=g.ref)&&f.ref!=h&&(_||(_=[]),f.ref&&_.push(f.ref,null,g),_.push(h,g.__c||v,g)),v!=null?(b==null&&(b=v),typeof g.type=="function"&&g.__k===f.__k?g.__d=l=W6(g,l,t):l=$6(t,g,f,x,v,l),typeof n.type=="function"&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=Up(f))}for(n.__e=b,u=F;u--;)x[u]!=null&&(typeof n.type=="function"&&x[u].__e!=null&&x[u].__e==n.__d&&(n.__d=z6(r).nextSibling),Q6(x[u],x[u]));if(_)for(u=0;u<_.length;u++)q6(_[u],_[++u],_[++u])}function W6(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?W6(r,e,n):$6(n,r,r,i,r.__e,e));return e}function jp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){jp(n,e)}):e.push(t)),e}function $6(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function z6(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=z6(n)))return r}return null}function iA(t,e,n,r,i,s,o,a,l){var c,u,h,f,g,v,b,_,x,F,W,I,te,B,A,E=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(c=ce.__b)&&c(e);try{e:if(typeof E=="function"){if(_=e.props,x=(c=E.contextType)&&r[c.__c],F=c?x?x.props.value:c.__:r,n.__c?b=(u=e.__c=n.__c).__=u.__E:("prototype"in E&&E.prototype.render?e.__c=u=new E(_,F):(e.__c=u=new $n(_,F),u.constructor=E,u.render=Vse),x&&x.sub(u),u.props=_,u.state||(u.state={}),u.context=F,u.__n=r,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),E.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Ya({},u.__s)),Ya(u.__s,E.getDerivedStateFromProps(_,u.__s))),f=u.props,g=u.state,u.__v=e,h)E.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(E.getDerivedStateFromProps==null&&_!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(_,F),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(_,u.__s,F)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=_,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(D){D&&(D.__=e)}),W=0;W<u._sb.length;W++)u.__h.push(u._sb[W]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(_,u.__s,F),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,g,v)})}if(u.context=F,u.props=_,u.__P=t,I=ce.__r,te=0,"prototype"in E&&E.prototype.render){for(u.state=u.__s,u.__d=!1,I&&I(e),c=u.render(u.props,u.state,u.context),B=0;B<u._sb.length;B++)u.__h.push(u._sb[B]);u._sb=[]}else do u.__d=!1,I&&I(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++te<25);u.state=u.__s,u.getChildContext!=null&&(r=Ya(Ya({},r),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(v=u.getSnapshotBeforeUpdate(f,g)),A=c!=null&&c.type===Et&&c.key==null?c.props.children:c,H6(t,Array.isArray(A)?A:[A],e,n,r,i,s,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),b&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Lse(n.__e,e,n,r,i,s,o,l);(c=ce.diffed)&&c(e)}catch(D){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),ce.__e(D,e,n)}}function G6(t,e){ce.__c&&ce.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){ce.__e(r,n.__v)}})}function Lse(t,e,n,r,i,s,o,a){var l,c,u,h=n.props,f=e.props,g=e.type,v=0;if(g==="svg"&&(i=!0),s!=null){for(;v<s.length;v++)if((l=s[v])&&"setAttribute"in l==!!g&&(g?l.localName===g:l.nodeType===3)){t=l,s[v]=null;break}}if(t==null){if(g===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,f.is&&f),s=null,a=!1}if(g===null)h===f||a&&t.data===f||(t.data=f);else{if(s=s&&C0.call(t.childNodes),c=(h=n.props||E0).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},v=0;v<t.attributes.length;v++)h[t.attributes[v].name]=t.attributes[v].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(Ose(t,f,h,i,a),u)e.__k=[];else if(v=e.props.children,H6(t,Array.isArray(v)?v:[v],e,n,r,i&&g!=="foreignObject",s,o,s?s[0]:n.__k&&Up(n,0),a),s!=null)for(v=s.length;v--;)s[v]!=null&&j6(s[v]);a||("value"in f&&(v=f.value)!==void 0&&(v!==t.value||g==="progress"&&!v||g==="option"&&v!==h.value)&&b0(t,"value",v,h.value,!1),"checked"in f&&(v=f.checked)!==void 0&&v!==t.checked&&b0(t,"checked",v,h.checked,!1))}return t}function q6(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){ce.__e(r,n)}}function Q6(t,e,n){var r,i;if(ce.unmount&&ce.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||q6(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){ce.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Q6(r[i],e,n||typeof t.type!="function");n||t.__e==null||j6(t.__e),t.__=t.__e=t.__d=void 0}function Vse(t,e,n){return this.constructor(t,n)}function Za(t,e,n){var r,i,s;ce.__&&ce.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],iA(e,t=(!r&&n||e).__k=V(Et,null,[t]),i||E0,E0,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?C0.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),G6(s,t)}function T0(t,e){var n={__c:e="__cC"+V6++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,nA(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}C0=U6.slice,ce={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},F6=0,rA=function(t){return t!=null&&t.constructor===void 0},kd=!1,$n.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ya({},this.state),typeof t=="function"&&(t=t(Ya({},n),this.props)),t&&Ya(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),nA(this))},$n.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),nA(this))},$n.prototype.render=Et,gc=[],L6=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I0.__r=0,V6=0;var jse,Ss,sA,K6;var nU=[],oA=[],Y6=ce.__b,Z6=ce.__r,X6=ce.diffed,J6=ce.__c,eU=ce.unmount;function Bse(){for(var t;t=nU.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(D0),t.__H.__h.forEach(aA),t.__H.__h=[]}catch(e){t.__H.__h=[],ce.__e(e,t.__v)}}ce.__b=function(t){Ss=null,Y6&&Y6(t)},ce.__r=function(t){Z6&&Z6(t),jse=0;var e=(Ss=t.__c).__H;e&&(sA===Ss?(e.__h=[],Ss.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=oA,n.__N=n.i=void 0})):(e.__h.forEach(D0),e.__h.forEach(aA),e.__h=[])),sA=Ss},ce.diffed=function(t){X6&&X6(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(nU.push(e)!==1&&K6===ce.requestAnimationFrame||((K6=ce.requestAnimationFrame)||Hse)(Bse)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==oA&&(n.__=n.__V),n.i=void 0,n.__V=oA})),sA=Ss=null},ce.__c=function(t,e){e.some(function(n){try{n.__h.forEach(D0),n.__h=n.__h.filter(function(r){return!r.__||aA(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ce.__e(r,n.__v)}}),J6&&J6(t,e)},ce.unmount=function(t){eU&&eU(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{D0(r)}catch(i){e=i}}),n.__H=void 0,e&&ce.__e(e,n.__v))};var tU=typeof requestAnimationFrame=="function";function Hse(t){var e,n=function(){clearTimeout(r),tU&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);tU&&(e=requestAnimationFrame(n))}function D0(t){var e=Ss,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ss=e}function aA(t){var e=Ss;t.__c=t.__(),Ss=e}function Wse(t,e){for(var n in e)t[n]=e[n];return t}function rU(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function iU(t){this.props=t}(iU.prototype=new $n).isPureReactComponent=!0,iU.prototype.shouldComponentUpdate=function(t,e){return rU(this.props,t)||rU(this.state,e)};var sU=ce.__b;ce.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),sU&&sU(t)};var bSe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var $se=ce.__e;ce.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}$se(t,e,n,r)};var oU=ce.unmount;function hU(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Wse({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return hU(r,e,n)})),t}function fU(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return fU(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function lA(){this.__u=0,this.t=null,this.__b=null}function pU(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function S0(){this.u=null,this.o=null}ce.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),oU&&oU(t)},(lA.prototype=new $n).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=pU(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=fU(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},lA.prototype.componentWillUnmount=function(){this.t=[]},lA.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=hU(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&V(Et,null,t.fallback);return i&&(i.__h=null),[V(Et,null,e.__a?null:t.children),i]};var aU=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function zse(t){return this.getChildContext=function(){return t.context},t.children}function Gse(t){var e=this,n=t.i;e.componentWillUnmount=function(){Za(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Za(V(zse,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function gU(t,e){var n=V(Gse,{__v:t,i:e});return n.containerInfo=e,n}(S0.prototype=new $n).__a=function(t){var e=this,n=pU(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),aU(e,t,r)):i()};n?n(s):s()}},S0.prototype.render=function(t){this.u=null,this.o=new Map;var e=jp(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},S0.prototype.componentDidUpdate=S0.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){aU(t,n,e)})};var qse=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Qse=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Kse=typeof document<"u",Yse=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};$n.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty($n.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var lU=ce.event;function Zse(){}function Xse(){return this.cancelBubble}function Jse(){return this.defaultPrevented}ce.event=function(t){return lU&&(t=lU(t)),t.persist=Zse,t.isPropagationStopped=Xse,t.isDefaultPrevented=Jse,t.nativeEvent=t};var eoe,cU={configurable:!0,get:function(){return this.class}},uU=ce.vnode;ce.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];Kse&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Yse(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&Qse.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=jp(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=jp(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(cU.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",cU))}t.$$typeof=qse,uU&&uU(t)};var dU=ce.__r;ce.__r=function(t){dU&&dU(t),eoe=t.__c};var RU=[],vA=new Map;function K0(t){RU.push(t),vA.forEach(e=>{NU(e,t)})}function MU(t){t.isConnected&&t.getRootNode&&kU(t.getRootNode())}function kU(t){let e=vA.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let n=noe();n&&(e.nonce=n);let r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}vA.set(t,e),toe(e)}}function toe(t){for(let e of RU)NU(t,e)}function NU(t,e){let{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}var cA;function noe(){return cA===void 0&&(cA=roe()),cA}function roe(){let t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&kU(document);var ioe=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';K0(ioe);var vc=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function lg(t){t.parentNode&&t.parentNode.removeChild(t)}function _n(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(MA(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function MA(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function PU(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}var soe=/(top|left|right|bottom|width|height)$/i;function Ic(t,e){for(let n in e)kA(t,n,e[n])}function kA(t,e,n){n==null?t.style[e]="":typeof n=="number"&&soe.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function Y0(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}var mU=0;function Cc(){return mU+=1,"fc-dom-"+mU}function cg(t){t.preventDefault()}function ooe(t,e){return n=>{let r=_n(n.target,t);r&&e.call(r,n,r)}}function NA(t,e,n,r){let i=ooe(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function OU(t,e,n,r){let i;return NA(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}var vU=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function PA(t,e){let n=r=>{e(r),vU.forEach(i=>{t.removeEventListener(i,n)})};vU.forEach(r=>{t.addEventListener(r,n)})}function FU(t){return Object.assign({onClick:t},LU(t))}function LU(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}var yU=0;function jo(){return yU+=1,String(yU)}function ug(){document.body.classList.add("fc-not-allowed")}function dg(){document.body.classList.remove("fc-not-allowed")}function OA(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",cg)}function FA(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",cg)}function LA(t){t.addEventListener("contextmenu",cg)}function VA(t){t.removeEventListener("contextmenu",cg)}function VU(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function UU(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=aoe(t,e,n[r]),i)return i;return 0}function aoe(t,e,n){return n.func?n.func(t,e):jU(t[n.field],e[n.field])*(n.order||1)}function jU(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function N0(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ud(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function UA(t,e){return t-e}function P0(t){return t%1===0}function loe(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var coe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Qe(t,e){return typeof t=="string"?uoe(t):typeof t=="object"&&t?_U(t):typeof t=="number"?_U({[e||"milliseconds"]:t}):null}function uoe(t){let e=coe.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function _U(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function doe(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function BU(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function hoe(t){return Nd(t)/365}function foe(t){return Nd(t)/30}function Nd(t){return Pd(t)/864e5}function Pd(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Bp(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Rs(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}var poe=["sun","mon","tue","wed","thu","fri","sat"];function Z0(t,e){let n=Ja(t);return n[2]+=e*7,Dr(n)}function wn(t,e){let n=Ja(t);return n[2]+=e,Dr(n)}function xs(t,e){let n=Ja(t);return n[6]+=e,Dr(n)}function jA(t,e){return Tc(t,e)/7}function Tc(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function goe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function moe(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function voe(t,e){return(e.valueOf()-t.valueOf())/1e3}function HU(t,e){let n=gt(t),r=gt(e);return{years:0,months:0,days:Math.round(Tc(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function WU(t,e){let n=Od(t,e);return n!==null&&n%7===0?n/7:null}function Od(t,e){return el(t)===el(e)?Math.round(Tc(t,e)):null}function gt(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function yoe(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function _oe(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function woe(t){return Dr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Eoe(t,e,n){let r=t.getUTCFullYear(),i=uA(t,r,e,n);if(i<1)return uA(t,r-1,e,n);let s=uA(t,r+1,e,n);return s>=1?Math.min(i,s):i}function uA(t,e,n,r){let i=Dr([e,0,1+boe(e,n,r)]),s=gt(t),o=Math.round(Tc(i,s));return Math.floor(o/7)+1}function boe(t,e,n){let r=7+e-n;return-((7+Dr([t,0,r]).getUTCDay()-e)%7)+r-1}function wU(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function EU(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ja(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Dr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function BA(t){return!isNaN(t.valueOf())}function el(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function $U(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",WA(e,!0)))),r}function hg(t){return t.toISOString().replace(/T.*$/,"")}function HA(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function WA(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+N0(i,2)}:${N0(s,2)}`:`GMT${n}${i}${s?`:${N0(s,2)}`:""}`}function Ke(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!Rs(r,s)){n&&n(i);let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function jd(t,e,n){let r,i;return s=>{if(!r)i=t.call(this,s);else if(!Gr(r,s)){n&&n(i);let o=t.call(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}var bU={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},L0={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},A0=/\s*([ap])\.?m\.?/i,Ioe=/,/g,Coe=/\s+/g,Toe=/\u200e/g,Doe=/UTC|GMT/,yA=class{constructor(e){let n={},r={},i=0;for(let s in e)s in bU?(r[s]=e[s],i=Math.max(bU[s],i)):(n[s]=e[s],s in L0&&(i=Math.max(L0[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Ke(IU)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=koe(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,r),u=this.format(n,r);if(c===u)return c;let h=Noe(s,l),f=IU(h,o,r),g=f(e),v=f(n),b=Poe(c,g,u,v),_=o.separator||i||r.defaultSeparator||"";return b?b.before+g+_+v+b.after:c+_+u}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function IU(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>WA(i.timeZoneOffset):r===0&&e.week?i=>Moe(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):Soe(t,e,n)}function Soe(t,e,n){t=Object.assign({},t),e=Object.assign({},e),Aoe(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return xoe(l,s,t,e,n)}}function Aoe(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function xoe(t,e,n,r,i){return t=t.replace(Toe,""),n.timeZoneName==="short"&&(t=Roe(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":WA(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(Ioe,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(A0,"").trim():r.meridiem==="narrow"?t=t.replace(A0,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(A0,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(A0,s=>s.toLocaleLowerCase())),t=t.replace(Coe," "),t=t.trim(),t}function Roe(t,e){let n=!1;return t=t.replace(Doe,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Moe(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function koe(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:el(t)!==el(e)?1:0}function Noe(t,e){let n={};for(let r in t)(!(r in L0)||L0[r]<=e)&&(n[r]=t[r]);return n}function Poe(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let u=n.substr(0,c);l=c+r.length;let h=n.substr(l);if(o===u&&a===h)return{before:o,after:a}}}return null}function CU(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function V0(t,e,n,r){let i=CU(t,n.calendarSystem),s=e?CU(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var _A=class{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,V0(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,V0(e,n,r,i))}},wA=class{constructor(e){this.func=e}format(e,n,r){return this.func(V0(e,null,n,r))}formatRange(e,n,r,i){return this.func(V0(e,n,r,i))}};function Yt(t){return typeof t=="object"&&t?new yA(t):typeof t=="string"?new _A(t):typeof t=="function"?new wA(t):null}var $A={navLinkDayClick:L,navLinkWeekClick:L,duration:Qe,bootstrapFontAwesome:L,buttonIcons:L,customButtons:L,defaultAllDayEventDuration:Qe,defaultTimedEventDuration:Qe,nextDayThreshold:Qe,scrollTime:Qe,scrollTimeReset:Boolean,slotMinTime:Qe,slotMaxTime:Qe,dayPopoverFormat:Yt,slotDuration:Qe,snapDuration:Qe,headerToolbar:L,footerToolbar:L,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Yt,dayHeaderClassNames:L,dayHeaderContent:L,dayHeaderDidMount:L,dayHeaderWillUnmount:L,dayCellClassNames:L,dayCellContent:L,dayCellDidMount:L,dayCellWillUnmount:L,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:L,weekNumbers:Boolean,weekNumberClassNames:L,weekNumberContent:L,weekNumberDidMount:L,weekNumberWillUnmount:L,editable:Boolean,viewClassNames:L,viewDidMount:L,viewWillUnmount:L,nowIndicator:Boolean,nowIndicatorClassNames:L,nowIndicatorContent:L,nowIndicatorDidMount:L,nowIndicatorWillUnmount:L,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:L,locale:L,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:L,eventOrder:VU,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:L,contentHeight:L,direction:String,weekNumberFormat:Yt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:L,initialDate:L,now:L,eventDataTransform:L,stickyHeaderDates:L,stickyFooterScrollbar:L,viewHeight:L,defaultAllDay:Boolean,eventSourceFailure:L,eventSourceSuccess:L,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:L,eventConstraint:L,eventAllow:L,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:L,eventContent:L,eventDidMount:L,eventWillUnmount:L,selectConstraint:L,selectOverlap:L,selectAllow:L,droppable:Boolean,unselectCancel:String,slotLabelFormat:L,slotLaneClassNames:L,slotLaneContent:L,slotLaneDidMount:L,slotLaneWillUnmount:L,slotLabelClassNames:L,slotLabelContent:L,slotLabelDidMount:L,slotLabelWillUnmount:L,dayMaxEvents:L,dayMaxEventRows:L,dayMinWidth:Number,slotLabelInterval:Qe,allDayText:String,allDayClassNames:L,allDayContent:L,allDayDidMount:L,allDayWillUnmount:L,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Yt,rerenderDelay:Number,moreLinkText:L,moreLinkHint:L,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:L,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Qe,hiddenDays:L,fixedWeekCount:Boolean,validRange:L,visibleRange:L,titleFormat:L,eventInteractive:Boolean,noEventsText:String,viewHint:L,navLinkHint:L,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:L,moreLinkClassNames:L,moreLinkContent:L,moreLinkDidMount:L,moreLinkWillUnmount:L,monthStartFormat:Yt,handleCustomRendering:L,customRenderingMetaMap:L,customRenderingReplaces:Boolean},rl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},zA={datesSet:L,eventsSet:L,eventAdd:L,eventChange:L,eventRemove:L,windowResize:L,eventClick:L,eventMouseEnter:L,eventMouseLeave:L,select:L,unselect:L,loading:L,_unmount:L,_beforeprint:L,_afterprint:L,_noEventDrop:L,_noEventResize:L,_resize:L,_scrollRequest:L},GA={buttonText:L,buttonHints:L,views:L,plugins:L,initialEvents:L,events:L,eventSources:L},il={headerToolbar:mc,footerToolbar:mc,buttonText:mc,buttonHints:mc,buttonIcons:mc,dateIncrement:mc,plugins:x0,events:x0,eventSources:x0,resources:x0};function mc(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Gr(t,e):t===e}function x0(t,e){return Array.isArray(t)&&Array.isArray(e)?Rs(t,e):t===e}var zU={type:String,component:L,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:L,usesMinMaxTime:Boolean,classNames:L,content:L,didMount:L,willUnmount:L};function X0(t){return ew(t,il)}function J0(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function L(t){return t}var{hasOwnProperty:U0}=Object.prototype;function ew(t,e){let n={};if(e){for(let r in e)if(e[r]===mc){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=ew(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Fo(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Ms(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function qA(t){let e={};for(let n of t)e[n]=!0;return e}function tw(t){let e=[];for(let n in t)e.push(t[n]);return e}function Gr(t,e){if(t===e)return!0;for(let n in t)if(U0.call(t,n)&&!(n in e))return!1;for(let n in e)if(U0.call(e,n)&&t[n]!==e[n])return!1;return!0}var Ooe=/^on[A-Z]/;function Foe(t,e){let n=EA(t,e);for(let r of n)if(!Ooe.test(r))return!1;return!0}function EA(t,e){let n=[];for(let r in t)U0.call(t,r)&&(r in e||n.push(r));for(let r in e)U0.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function O0(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&Loe(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function Loe(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function GU(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}var qU={};function Voe(t,e){qU[t]=e}function Uoe(t){return new qU[t]}var bA=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Dr(e)}markerToArray(e){return Ja(e)}};Voe("gregory",bA);var joe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function QU(t){let e=joe.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(BA(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var Hp=class{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=Uoe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Dr(wU(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Dr(e)),n===null||!BA(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=QU(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return el(e)===el(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return el(e)===el(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=WU(e,n),r!==null?{unit:"week",value:r}:(r=Od(e,n),r!==null?{unit:"day",value:r}:(r=goe(e,n),P0(r)?{unit:"hour",value:r}:(r=moe(e,n),P0(r)?{unit:"minute",value:r}:(r=voe(e,n),P0(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/hoe(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/foe(r):r.days&&(i=Od(e,n),i!==null)?i/Nd(r):(n.valueOf()-e.valueOf())/Pd(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?gt(e):n==="hour"?yoe(e):n==="minute"?_oe(e):n==="second"?woe(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Eoe(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=xs(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),$U(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Dr(wU(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Dr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-EU(Ja(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ja(e)):null}toDate(e,n){return this.timeZone==="local"?EU(Ja(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ja(e))*1e3*60):new Date(e.valueOf()-(n||0))}},Lo=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}};Lo.prototype.classes={};Lo.prototype.iconClasses={};Lo.prototype.baseIconClass="";Lo.prototype.iconOverridePrefix="";function Wp(t){t();let e=ce.debounceRendering,n=[];function r(i){n.push(i)}for(ce.debounceRendering=r,Za(V(IA,{}),document.createElement("div"));n.length;)n.shift()();ce.debounceRendering=e}var IA=class extends $n{render(){return V("div",{})}componentDidMount(){this.setState({})}};function KU(t){let e=T0(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}var j0=class{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Bo=KU({});function YU(t,e,n,r,i,s,o,a,l,c,u,h,f){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:u,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(g){c.on("_resize",g)},removeResizeHandler(g){c.off("_resize",g)},createScrollResponder(g){return new j0(g,c,Qe(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:f}}var fg=(()=>{class t extends $n{shouldComponentUpdate(n,r){return this.debug&&console.log(EA(n,this.props),EA(r,this.state)),!O0(this.props,n,this.propEquality)||!O0(this.state,r,this.stateEquality)}safeSetState(n){O0(this.state,Object.assign(Object.assign({},this.state),n),this.stateEquality)||this.setState(n)}}return t.addPropsEquality=Boe,t.addStateEquality=Hoe,t.contextType=Bo,t})();fg.prototype.propEquality={};fg.prototype.stateEquality={};var Ct=(()=>{class t extends fg{}return t.contextType=Bo,t})();function Boe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function Hoe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function yi(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var $p=class extends Ct{constructor(){super(...arguments),this.id=jo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!CA(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&yi(this.props.elRef,e)}}render(){let{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=QA(e,[],this.handleEl),l=!1,c,u=[],h;if(i!=null){let f=typeof i=="function"?i(o,V):i;if(f===!0)l=!0;else{let g=f&&typeof f=="object";g&&"html"in f?a.dangerouslySetInnerHTML={__html:f.html}:g&&"domNodes"in f?u=Array.prototype.slice.call(f.domNodes):(g?rA(f):typeof f!="function")?c=f:h=f}}else l=!CA(e.generatorName,r);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=h,V(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;let{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){let a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(Woe)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!Rs(e,n)){n.forEach(lg);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}};$p.addPropsEquality({elClasses:Rs,elStyle:Gr,elAttrs:Foe,renderProps:Gr});function CA(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function QA(t,e,n){let r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Woe(t){return!!t}var KA=KU(0),ks=(()=>{class t extends $n{constructor(){super(...arguments),this.InnerContent=$oe.bind(void 0,this),this.handleEl=n=>{this.el=n,this.props.elRef&&(yi(this.props.elRef,n),n&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:n}=this,r=zoe(n.classNameGenerator,n.renderProps);if(n.children){let i=QA(n,r,this.handleEl),s=n.children(this.InnerContent,n.renderProps,i);return n.elTag?V(n.elTag,i,s):s}else return V($p,Object.assign(Object.assign({},n),{elRef:this.handleEl,elTag:n.elTag||"div",elClasses:(n.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var n,r;this.el?(r=(n=this.props).didMount)===null||r===void 0||r.call(n,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var n,r;(r=(n=this.props).willUnmount)===null||r===void 0||r.call(n,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return t.contextType=KA,t})();function $oe(t,e){let n=t.props;return V($p,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function zoe(t,e){let n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}var Fd=class extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return V(ks,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...YA(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}};function YA(t){return[`fc-${t.type}-view`,"fc-view"]}function Goe(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function TU(t,e){let n=[],{start:r}=e,i,s;for(t.sort(qoe),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function qoe(t,e){return t.start.valueOf()-e.start.valueOf()}function Vo(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function ZU(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function nw(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Bd(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function As(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Qoe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function XU(t){let e=Math.floor(Tc(t.start,t.end))||1,n=gt(t.start),r=wn(n,e);return{start:n,end:r}}function ZA(t,e=Qe(0)){let n=null,r=null;if(t.end){r=gt(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=Pd(e)&&(r=wn(r,1))}return t.start&&(n=gt(t.start),r&&r<=n&&(r=wn(n,1))),{start:n,end:r}}function tl(t,e,n,r){return r==="year"?Qe(n.diffWholeYears(t,e),"year"):r==="month"?Qe(n.diffWholeMonths(t,e),"month"):HU(t,e)}function JU(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function e8(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Hd(t.now,e)}function Hd(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}var yc=class{constructor(e){this.props=e,this.nowDate=Hd(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=Qoe(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=Vo(c,o.range)),c=this.adjustActiveRange(c),c=Vo(c,s),u=nw(o.range,s),As(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=Bp(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return Qe({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(Nd(i)<0&&(o=gt(o),o=n.add(o,i)),Nd(s)>1&&(a=gt(a),a=wn(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:h}=this.props;h&&Pd(h)<Pd(r)?o=Bp(h).unit:o=i}Nd(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=gt(a));function u(){a=s.startOf(e,o),l=s.add(a,r),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=gt(a),a=this.skipHiddenDays(a,n),l=a;do l=wn(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Qe(1,r):e||Qe({days:1}))}refineRange(e){if(e){let n=Goe(e,this.props.dateEnv);return n&&(n=ZA(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=wn(e,n);return e}};function pg(t,e,n,r){return{instanceId:jo(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Koe(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function _c(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=Fo(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let h=Yoe(c,u,e,r,i.recurringTypes);for(let f of h){let g=pg(l,{start:f,end:r.add(f,u)});a[g.instanceId]=g}}}return{defs:o,instances:a}}function Yoe(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(gt)),o}var F0={id:String,groupId:String,title:String,url:String,interactive:Boolean},t8={start:L,end:L,date:L,allDay:Boolean},Zoe=Object.assign(Object.assign(Object.assign({},F0),t8),{extendedProps:L});function n8(t,e,n,r,i=XA(n),s,o){let{refined:a,extra:l}=rw(t,n,i),c=Joe(e,n),u=Koe(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let f=zp(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,s);return f.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:f,instance:null}}let h=Xoe(a,c,n,r);if(h){let f=zp(a,l,e?e.sourceId:"",h.allDay,h.hasEnd,n,s),g=pg(f.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&f.publicId&&o[f.publicId]&&(g.instanceId=o[f.publicId]),{def:f,instance:g}}return null}function rw(t,e,n=XA(e)){return J0(t,n)}function XA(t){return Object.assign(Object.assign(Object.assign({},B0),Zoe),t.pluginHooks.eventRefiners)}function zp(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||jo(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Wd(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Xoe(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=gt(o)),l&&(c=l.marker,i&&(c=gt(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function Joe(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Gp(t,e,n,r,i,s){let o=fr(),a=XA(n);for(let l of t){let c=n8(l,e,n,r,a,i,s);c&&qp(c,o)}return o}function qp(t,e=fr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function gg(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=sw(t,s=>eae(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return fr()}function eae(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function fr(){return{defs:{},instances:{}}}function iw(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function sw(t,e){let n=Fo(t.defs,e),r=Fo(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function tae(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function nae(t,e){return Array.isArray(t)?Gp(t,null,e,!0):typeof t=="object"&&t?Gp([t],null,e,!0):t!=null?String(t):null}function TA(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var B0={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:L,overlap:L,allow:L,className:TA,classNames:TA,color:String,backgroundColor:String,borderColor:String,textColor:String},rae={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Wd(t,e){let n=nae(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function r8(t){return t.reduce(iae,rae)}function iae(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var sae={id:String,defaultAllDay:Boolean,url:String,format:String,events:L,eventDataTransform:L,success:L,failure:L};function JA(t,e,n=ex(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=J0(r,n),o=oae(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:jo(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Wd(i,e),extendedProps:s}}return null}function ex(t){return Object.assign(Object.assign(Object.assign({},B0),sae),t.pluginHooks.eventSourceRefiners)}function oae(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function i8(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return aae(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return lae(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return cae(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return iw(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?_c(t,r.activeRange,i):t;case"REMOVE_EVENTS":return tae(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return o8(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return sw(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return fr();default:return t}}function aae(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Gp(s8(i,e,s),e,s);return r&&(o=_c(o,r,s)),iw(o8(t,e.sourceId),o)}return t}function lae(t,e,n,r,i){let{defIdMap:s,instanceIdMap:o}=dae(t),a=Gp(s8(n,e,i),e,i,!1,s,o);return _c(a,r,i)}function s8(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=DU(t,i)),r&&(t=DU(t,r)),t}function DU(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function cae(t,e,n,r){return n&&(e=_c(e,n,r)),iw(t,e)}function tx(t,e,n){let{defs:r}=t,i=Ms(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function o8(t,e){return sw(t,n=>n.sourceId!==e)}function uae(t,e){return{defs:t.defs,instances:Fo(t.instances,n=>!e[n.instanceId])}}function dae(t){let{defs:e,instances:n}=t,r={},i={};for(let s in e){let o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){let o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}var Uo=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){hae(this.handlers,e,n)}off(e,n){fae(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function hae(t,e,n){(t[e]||(t[e]=[])).push(n)}function fae(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}var pae={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function nx(t,e){return Gp(gae(t),null,e)}function gae(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},pae),n)),e}function ow(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},rx(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function mae(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function rx(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,Aae(t,e.dateEnv)),n}function H0(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=gt(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function mg(t,e,n,r){let i=$0(t.defs,e),s=fr();for(let o in t.defs){let a=t.defs[o];s.defs[o]=vae(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=yae(a,l,i[a.defId],n,r)}return s}function vae(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function yae(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=XU(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:H0(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:gt(l.range.start),end:gt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=H0(e.allDay,l.range.start,i)),l}var Xa=class{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},mt=class t{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in t8)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=F0[e](n),this.mutate({standardProps:{publicId:n}});else if(e in F0)n=F0[e](n),this.mutate({standardProps:{[e]:n}});else if(e in B0){let r=B0[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=tl(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=tl(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=XU(l));let c=tl(l.start,o,i,r.granularity);if(a){let u=tl(l.end,a,i,r.granularity);doe(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let n=Qe(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Qe(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Qe(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Yt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=gg(s,n.instanceId);o=mg(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new t(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ns(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=a8(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Xa(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}};function a8(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ns(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==o&&s.push(new mt(e,c,l))}return s}function W0(t,e,n,r){let i={},s={},o={},a=[],l=[],c=$0(t.defs,e);for(let u in t.defs){let h=t.defs[u];c[h.defId].display==="inverse-background"&&(h.groupId?(i[h.groupId]=[],o[h.groupId]||(o[h.groupId]=h)):s[u]=[])}for(let u in t.instances){let h=t.instances[u],f=t.defs[h.defId],g=c[f.defId],v=h.range,b=!f.allDay&&r?ZA(v,r):v,_=Vo(b,n);_&&(g.display==="inverse-background"?f.groupId?i[f.groupId].push(_):s[h.defId].push(_):g.display!=="none"&&(g.display==="background"?a:l).push({def:f,ui:g,instance:h,range:_,isStart:b.start&&b.start.valueOf()===_.start.valueOf(),isEnd:b.end&&b.end.valueOf()===_.end.valueOf()}))}for(let u in i){let h=i[u],f=TU(h,n);for(let g of f){let v=o[u],b=c[v.defId];a.push({def:v,ui:b,instance:null,range:g,isStart:!1,isEnd:!1})}}for(let u in s){let h=s[u],f=TU(h,n);for(let g of f)a.push({def:t.defs[u],ui:c[u],instance:null,range:g,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function SU(t,e){t.fcSeg=e}function Ho(t){return t.fcSeg||t.parentNode.fcSeg||null}function $0(t,e){return Ms(t,n=>l8(n,e))}function l8(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),r8(n)}function ix(t,e){let n=t.map(_ae);return n.sort((r,i)=>UU(r,i,e)),n.map(r=>r._seg)}function _ae(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function wae(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function Eae(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function bae(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function aw(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,h=t.eventRange.def,f=t.eventRange.instance;c==null&&(c=r!==!1),u==null&&(u=i!==!1);let g=f.range.start,v=f.range.end,b=s||t.start||t.eventRange.range.start,_=o||t.end||t.eventRange.range.end,x=gt(g).valueOf()===gt(b).valueOf(),F=gt(xs(v,-1)).valueOf()===gt(xs(_,-1)).valueOf();return c&&!h.allDay&&(x||F)?(b=x?g:b,_=F?v:_,u&&h.hasEnd?a.formatRange(b,_,e,{forcedStartTzo:s?null:f.forcedStartTzo,forcedEndTzo:o?null:f.forcedEndTzo}):a.format(b,e,{forcedTzo:s?null:f.forcedStartTzo})):""}function Dc(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&As(e,r.start)}}function Iae(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function sx(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function lw(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?LU(l=>{s.trigger("eventClick",{el:l.target,event:new mt(e,n,r),jsEvent:l,view:e.viewApi})}):{}}var Cae={start:L,end:L,allDay:Boolean};function Tae(t,e,n){let r=Dae(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function Dae(t,e){let{refined:n,extra:r}=J0(t,Cae),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function ox(t,e){return ZU(t.range,e.range)&&t.allDay===e.allDay&&Sae(t,e)}function Sae(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function Aae(t,e){return Object.assign(Object.assign({},c8(t.range,e,t.allDay)),{allDay:t.allDay})}function ax(t,e,n){return Object.assign(Object.assign({},c8(t,e,n)),{timeZone:e.timeZone})}function c8(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function xae(t,e,n){let r=rw({editable:!1},n),i=zp(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:l8(i,e),instance:pg(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function lx(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}var z0=class extends Error{constructor(e,n){super(e),this.response=n}};function cx(t,e,n){t=t.toUpperCase();let r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new z0("Failure parsing JSON",i)});throw new z0("Request failed",i)})}var dA;function ux(){return dA==null&&(dA=Rae()),dA}function Rae(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}var Qp=class extends Ct{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Wp(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Wp(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return ux()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},Qi=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function u8(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function vg(t){return{[t.component.uid]:t}}var $d={},Kp=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Hd(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Qe(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Yt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Yt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=Tae(r,i.dateEnv,Qe({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),ow(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),mae(e,n))}addEvent(e,n){if(e instanceof mt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:qp({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Xa)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=tw(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=n8(e,i,r,!1);if(s){let o=new mt(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:qp(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:a8(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new mt(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new mt(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ns(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Xa(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Xa(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Xa)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=JA(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Xa(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Qe(e);n&&this.trigger("_scrollRequest",{time:n})}};function dx(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function cw(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function hx(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function fx(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function px(t,e){return{left:t.left-e.left,top:t.top-e.top}}var ASe=fr();function gx(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!As(r.activeRange,t)),isOther:!!(r&&!As(r.currentRange,t)),isToday:!!(e&&As(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function uw(t,e){let n=["fc-day",`fc-day-${poe[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}var Mae=Yt({year:"numeric",month:"long",day:"numeric"}),kae=Yt({week:"long"});function yg(t,e,n="day",r=!0){let{dateEnv:i,options:s,calendarApi:o}=t,a=i.format(e,n==="week"?kae:Mae);if(s.navLinks){let l=i.toDate(e),c=u=>{let h=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof h=="function"?h.call(o,i.toDate(e),u):(typeof h=="string"&&(n=h),o.zoomTo(e,n))};return Object.assign({title:Ud(s.navLinkHint,[a,l],a),"data-navlink":""},r?FU(c):{onClick:c})}return{"aria-label":a}}var hA=null;function d8(){return hA===null&&(hA=Nae()),hA}function Nae(){let t=document.createElement("div");Ic(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return lg(t),n}var fA;function h8(){return fA||(fA=Pae()),fA}function Pae(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=f8(t);return document.body.removeChild(t),e}function f8(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function p8(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=f8(t),l=a.y-r-i,c=a.x-s-o,u={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return d8()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function mx(t,e=!1,n){let r=n?t.getBoundingClientRect():_g(t),i=p8(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function _g(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Oae(t){let e=dw(t),n=t.getBoundingClientRect();for(let r of e){let i=cw(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function dw(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}var nl=class{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return R0(this.tops||[],e.tops||[])&&R0(this.bottoms||[],e.bottoms||[])&&R0(this.lefts||[],e.lefts||[])&&R0(this.rights||[],e.rights||[])}};function R0(t,e){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}var wc=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Yp=class extends wc{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Zp=class extends wc{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Ki=class extends Ct{constructor(){super(...arguments),this.uid=jo()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!_n(e,".fc-event-mirror")}isValidDateDownEl(e){return!_n(e,".fc-event:not(.fc-bg-event)")&&!_n(e,".fc-more-link")&&!_n(e,"a[data-navlink]")&&!_n(e,".fc-popover")}};var Xp=class{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){let i=Object.assign(Object.assign({},n),{span:hw(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(pA(i,n.level,n.levelCoord),pA(r,n.level,[e])):pA(r[n.level],n.lateral,e),this.stackCnts[Ec(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,u=null,h=0;for(let v=0;v<o;v+=1){let b=n[v];if(!i&&b>=a+this.getEntryThickness(e))break;let _=r[v],x,F=SA(_,e.span.start,DA),W=F[0]+F[1];for(;(x=_[W])&&x.span.start<e.span.end;){let I=b+this.getEntryThickness(x);I>a&&(a=I,u=x,l=v,c=W),I===a&&(h=Math.max(h,s[Ec(x)]+1)),W+=1}}let f=0;if(u)for(f=l+1;f<o&&n[f]<a;)f+=1;let g=-1;return f<o&&n[f]===a&&(g=SA(r[f],e.span.end,DA)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:h,levelCoord:a,level:f,lateral:g}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}};function DA(t){return t.span.end}function Ec(t){return t.index+":"+t.span.start}function hw(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function pA(t,e,n){t.splice(e,0,n)}function SA(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}var Jp=class{constructor(e,n){this.emitter=new Uo}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},wg={};function g8(t,e){return!t||e>10?Yt({weekday:"short"}):e>1?Yt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Yt({weekday:"long"})}var m8="fc-col-header-cell";function v8(t){return t.text}var G0=class extends Ct{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=gx(o,s.todayRange,null,a),c=[m8].concat(uw(l,r)),u=e.format(o,s.dayHeaderFormat),h=!l.isDisabled&&s.colCnt>1?yg(this.context,o):{},f=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:u}),l);return V(ks,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:hg(o)},s.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:v8,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},g=>V("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&V(g,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}},Fae=Yt({weekday:"long"}),q0=class extends Ct{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=wn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return V(ks,{elTag:"th",elClasses:[m8,...uw(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:v8,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>V("div",{className:"fc-scrollgrid-sync-inner"},V(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,Fae)}})))}},fw=(()=>{class t extends $n{constructor(n,r){super(n,r),this.initialNowDate=Hd(r.options.now,r.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:n,state:r}=this;return n.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:n,context:r}=this,i=xs(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=r.dateEnv.startOf(i,n.unit),o=r.dateEnv.add(s,Qe(1,n.unit)),a=o.valueOf()-i.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:s,todayRange:AU(s)},nextState:{nowDate:o,todayRange:AU(o)},waitMs:a}}setTimeout(){let{nextState:n,waitMs:r}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(n,()=>{this.setTimeout()})},r)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return t.contextType=Bo,t})();function AU(t){let e=gt(t),n=wn(e,1);return{start:e,end:n}}var eg=class extends Ct{constructor(){super(...arguments),this.createDayHeaderFormatter=Ke(Lae)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return V(fw,{unit:"day"},(a,l)=>V("tr",{role:"row"},s&&s("day"),n.map(c=>i?V(G0,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):V(q0,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}};function Lae(t,e,n){return t||g8(e,n)}var tg=class{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=wn(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(wn(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Tc(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}},ng=class{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&c-1===o}),a=c}}return i}},rg=class{constructor(){this.sliceBusinessHours=Ke(this._sliceBusinessHours),this.sliceDateSelection=Ke(this._sliceDateSpan),this.sliceEventStore=Ke(this._sliceEventStore),this.sliceEventDrag=Ke(this._sliceInteraction),this.sliceEventResize=Ke(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:xs(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(_c(e,M0(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=W0(e,n,M0(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=W0(e.mutatedEvents,n,M0(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=M0(n,!!r),l=Vo(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=xae(e,i,s),u=this.sliceRange(e.range,...o);for(let h of u)h.eventRange=c;return u}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:wn(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}};function M0(t,e){let n=t.activeRange;return e?n:{start:xs(n.start,t.slotMinTime.milliseconds),end:xs(n.end,t.slotMaxTime.milliseconds-864e5)}}function pw(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Bd(e.validRange,r[i].range))return!1;return y8({eventDrag:t},n)}function vx(t,e,n){return Bd(e.validRange,t.range)?y8({dateSelection:t},n):!1}function y8(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||_8)(r,e)}function _8(t,e,n={},r){return!(t.eventDrag&&!Vae(t,e,n,r)||t.dateSelection&&!Uae(t,e,n,r))}function Vae(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=$0(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=Ms(c,r));let u=uae(t.eventStore,s.affectedEvents.instances),h=u.defs,f=u.instances,g=$0(h,t.eventUiBases);for(let v in l){let b=l[v],_=b.range,x=c[b.defId],F=a[b.defId];if(!w8(x.constraints,_,u,t.businessHours,e))return!1;let{eventOverlap:W}=e.options,I=typeof W=="function"?W:null;for(let B in f){let A=f[B];if(nw(_,A.range)&&(g[A.defId].overlap===!1&&s.isEvent||x.overlap===!1||I&&!I(new mt(e,h[A.defId],A),new mt(e,F,b))))return!1}let te=i.eventStore;for(let B of x.allows){let A=Object.assign(Object.assign({},n),{range:b.range,allDay:F.allDay}),E=te.defs[F.defId],D=te.instances[v],R;if(E?R=new mt(e,E,D):R=new mt(e,F),!B(rx(A,e),R))return!1}}return!0}function Uae(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!w8(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,h=typeof u=="function"?u:null;for(let f in o){let g=o[f];if(nw(l,g.range)&&(c.overlap===!1||h&&!h(new mt(e,s[g.defId],g),null)))return!1}for(let f of c.allows){let g=Object.assign(Object.assign({},n),a);if(!f(rx(g,e),null))return!1}return!0}function w8(t,e,n,r,i){for(let s of t)if(!Bae(jae(s,e,n,r,i),e))return!1;return!0}function jae(t,e,n,r,i){return t==="businessHours"?gA(_c(r,e,i)):typeof t=="string"?gA(sw(n,s=>s.groupId===t)):typeof t=="object"&&t?gA(_c(t,e,i)):[]}function gA(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function Bae(t,e){for(let n of t)if(Bd(n,e))return!0;return!1}var k0=/^(visible|hidden)$/,Q0=class extends Ct{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,yi(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),V("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(k0.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(k0.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return k0.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return k0.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Yi=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return GU(this.currentMap,e,n,r)}getAll(){return tw(this.currentMap)}};function E8(t){let e=PU(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,loe(r));return Math.ceil(n)}function yx(t,e){return t.liquid&&e.liquid}function b8(t,e){return e.maxHeight!=null||yx(t,e)}function I8(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):V("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,V(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function C8(t,e){return Rs(t,e,Gr)}function T8(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(V("col",{style:{width:r.width==="shrink"?D8(e):r.width||"",minWidth:r.minWidth||""}}))}return V("colgroup",{},...n)}function D8(t){return t??4}function S8(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function A8(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function x8(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function _x(t){return V("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function gw(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function wx(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var Ld=class extends Ct{constructor(){super(...arguments),this.processCols=Ke(e=>e,C8),this.renderMicroColGroup=Ke(T8),this.scrollerRefs=new Yi,this.scrollerElRefs=new Yi(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=A8(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,h=[],f=[],g=[];for(;c<l&&(u=i[c]).type==="header";)h.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)f.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)g.push(this.renderSection(u,o,!0)),c+=1;let v=!ux(),b={role:"rowgroup"};return V("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!v&&h.length)&&V("thead",b,...h),!!(!v&&f.length)&&V("tbody",b,...f),!!(!v&&g.length)&&V("tfoot",b,...g),v&&V("tbody",b,...h,...f,...g))}renderSection(e,n,r){return"outerContent"in e?V(Et,{key:e.key},e.outerContent):V("tr",{key:e.key,role:"presentation",className:x8(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=b8(s,e),u=yx(s,e),h=s.liquid?o?"scroll":c?"auto":"hidden":"visible",f=e.key,g=I8(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[f]!==void 0?a[f]:null,clientHeight:l[f]!==void 0?l[f]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return V(i?"th":"td",{ref:r.elRef,role:"presentation"},V("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},V(Q0,{ref:this.scrollerRefs.createRef(f),elRef:this.scrollerElRefs.createRef(f),overflowY:h,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},g)))}_handleScrollerEl(e,n){let r=Hae(this.props.sections,n);r&&yi(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return S8(this.props.cols)?E8(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=h8(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}};Ld.addStateEquality({scrollerClientWidths:Gr,scrollerClientHeights:Gr});function Hae(t,e){for(let n of t)if(n.key===e)return n;return null}var bc=class extends Ct{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&SU(e,this.props.seg)}}render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new mt(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&wae(i,n),isStartResizable:!e.disableResizing&&Eae(i,n),isEndResizable:!e.disableResizing&&bae(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return V(ks,Object.assign({},e,{elRef:this.handleEl,elClasses:[...Iae(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&SU(this.el,this.props.seg)}},ig=class extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=aw(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return V(bc,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:lw(i,n),defaultGenerator:Wae,timeText:a}),(l,c)=>V(Et,null,V(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&V("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&V("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function Wae(t){return V("div",{className:"fc-event-main-frame"},t.timeText&&V("div",{className:"fc-event-time"},t.timeText),V("div",{className:"fc-event-title-container"},V("div",{className:"fc-event-title fc-sticky"},t.event.title||V(Et,null,"\xA0"))))}var $ae=Yt({day:"numeric"}),Vd=class extends Ct{constructor(){super(...arguments),this.refineRenderProps=jd(zae)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return V(ks,Object.assign({},e,{elClasses:[...uw(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":hg(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}};function mw(t){return!!(t.dayCellContent||CA("dayCellContent",t))}function zae(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=gx(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:$ae):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}var sg=class extends Ct{render(){let{props:e}=this,{seg:n}=e;return V(bc,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:Gae,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function Gae(t){let{title:e}=t.event;return e&&V("div",{className:"fc-event-title"},t.event.title)}function Ex(t){return V("div",{className:`fc-${t}`})}var bx=t=>V(Bo.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return V(ks,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:qae,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function qae(t){return t.text}var mA=10,AA=class extends Ct{constructor(){super(...arguments),this.state={titleId:Cc()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&yi(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let n=Y0(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return gU(V("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),V("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},V("span",{className:"fc-popover-title",id:i.titleId},r.title),V("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),V("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=Oae(n);if(s){let o=i.getBoundingClientRect(),a=r?_n(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,mA),l=Math.min(l,document.documentElement.clientWidth-mA-o.width),l=Math.max(l,mA);let c=i.offsetParent.getBoundingClientRect();Ic(i,{top:a-c.top,left:l-c.left})}}},xA=class extends Ki{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return V(Vd,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,c,u)=>V(AA,{elRef:u.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},mw(e)&&V(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}},og=class extends Ct{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Cc()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&yi(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=xU(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new mt(r,l,c),start:r.dateEnv.toDate(u.start),end:r.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return V(Bo.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,c=xU(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,h=Ud(s.moreLinkHint,[l],u),f={num:l,shortText:`+${l}`,text:u,view:i};return V(Et,null,!!e.moreCnt&&V(ks,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),FU(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:f,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||Qae,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&V(xA,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=_n(this.linkEl,".fc-view-harness"))}};function Qae(t){return t.text}function xU(t){if(t.allDayDate)return{start:t.allDayDate,end:wn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:R8(e),end:Yae(e)}}function R8(t){return t.reduce(Kae).eventRange.range.start}function Kae(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Yae(t){return t.reduce(Zae).eventRange.range.end}function Zae(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var RA=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},ag=class extends RA{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:n}=this,r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}};var Xae=[],L8={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},V8=Object.assign(Object.assign({},L8),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Jae(t){let e=t.length>0?t[0].code:"en",n=Xae.concat(t),r={en:V8};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function U8(t,e){return typeof t=="object"&&!Array.isArray(t)?j8(t.code,[t.code],t):ele(t,e)}function ele(t,e){let n=[].concat(t||[]),r=tle(n,e)||V8;return j8(t,n,r)}function tle(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function j8(t,e,n){let r=ew([L8,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Os(t){return{id:jo(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function nle(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){let a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=ile(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function rle(){let t=[],e=[],n;return(r,i)=>((!n||!Rs(r,t)||!Rs(i,e))&&(n=nle(r,i)),t=r,e=i,n)}function ile(t,e){return{premiumReleaseDate:sle(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function sle(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}var Ps=class extends Lo{};Ps.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ps.prototype.baseIconClass="fc-icon";Ps.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ps.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ps.prototype.iconOverrideOption="buttonIcons";Ps.prototype.iconOverrideCustomButtonOption="icon";Ps.prototype.iconOverridePrefix="fc-icon-";function ole(t,e){let n={},r;for(r in t)Cx(r,n,t,e);for(r in e)Cx(r,n,t,e);return n}function Cx(t,e,n,r){if(e[t])return e[t];let i=ale(t,e,n,r);return i&&(e[t]=i),i}function ale(t,e,n,r){let i=n[t],s=r[t],o=u=>i&&i[u]!==null?i[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=Cx(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function M8(t){return Ms(t,lle)}function lle(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=k8(e):n&&!(n.prototype instanceof Ct)&&(n=k8(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function k8(t){return e=>V(Bo.Consumer,null,n=>V(ks,{elTag:"div",elClasses:YA(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function cle(t,e,n,r){let i=M8(t),s=M8(e.views),o=ole(i,s);return Ms(o,a=>ule(a,s,e,n,r))}function ule(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=dle(s),o)){let f=Bp(o);a=f.unit,f.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=f=>{let g=f.buttonText||{},v=t.defaults.buttonTextKey;return v!=null&&g[v]!=null?g[v]:g[t.type]!=null?g[t.type]:g[l]!=null?g[l]:null},h=f=>{let g=f.buttonHints||{},v=t.defaults.buttonTextKey;return v!=null&&g[v]!=null?g[v]:g[t.type]!=null?g[t.type]:g[l]!=null?g[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(r)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(rl)||t.type,buttonTitleOverride:h(r)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(i)||t.defaults.buttonHint||h(rl)}}var N8={};function dle(t){let e=JSON.stringify(t),n=N8[e];return n===void 0&&(n=Qe(t),N8[e]=n),n}function hle(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function fle(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function ple(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function gle(t,e,n){let r=e?e.activeRange:null;return H8({},ble(t,n),r,n)}function mle(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return H8(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return yle(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?W8(t,i,r):t;case"FETCH_EVENT_SOURCES":return Nx(t,e.sourceIds?qA(e.sourceIds):$8(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Ele(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function vle(t,e,n){let r=e?e.activeRange:null;return Nx(t,$8(t,n),r,!0,n)}function B8(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function H8(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=W8(i,n,r)),Object.assign(Object.assign({},t),i)}function yle(t,e){return Fo(t,n=>n.sourceId!==e)}function W8(t,e,n){return Nx(t,Fo(t,r=>_le(r,e,n)),e,!1,n)}function _le(t,e,n){return z8(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Nx(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=wle(a,n,r,i):s[o]=a}return s}function wle(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=jo();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,l.response)||c),t.success&&(c=t.success.call(s,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function Ele(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function $8(t,e){return Fo(t,n=>z8(n,e))}function ble(t,e){let n=ex(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=JA(s,e,n);o&&i.push(o)}return i}function z8(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Ile(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Cle(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Tle(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Dle(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function Sle(t,e,n,r,i){let s=t.headerToolbar?P8(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?P8(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function P8(t,e,n,r,i,s){let o={},a=[],l=!1;for(let c in t){let u=t[c],h=Ale(u,e,n,r,i,s);o[c]=h.widgets,a.push(...h.viewsWithButtons),l=l||h.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function Ale(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},h=e.buttonHints||{},f=t?t.split(" "):[],g=[],v=!1;return{widgets:f.map(_=>_.split(",").map(x=>{if(x==="title")return v=!0,{buttonName:x};let F,W,I,te,B,A;if(F=a[x])I=E=>{F.click&&F.click.call(E.target,E,E.target)},(te=r.getCustomButtonIconClass(F))||(te=r.getIconClass(x,o))||(B=F.text),A=F.hint||F.text;else if(W=i[x]){g.push(x),I=()=>{s.changeView(x)},(B=W.buttonTextOverride)||(te=r.getIconClass(x,o))||(B=W.buttonTextDefault);let E=W.buttonTextOverride||W.buttonTextDefault;A=Ud(W.buttonTitleOverride||W.buttonTitleDefault||e.viewHint,[E,x],E)}else if(s[x])if(I=()=>{s[x]()},(B=l[x])||(te=r.getIconClass(x,o))||(B=c[x]),x==="prevYear"||x==="nextYear"){let E=x==="prevYear"?"prev":"next";A=Ud(u[E]||h[E],[c.year||"year","year"],c[x])}else A=E=>Ud(u[x]||h[x],[c[E]||E,E],c[x]);return{buttonName:x,buttonClick:I,buttonIcon:te,buttonText:B,buttonHint:A}})),viewsWithButtons:g,hasTitle:v}}var Tx=class{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},xle={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}},Rle=Os({name:"array-event-source",eventSourceDefs:[xle]}),Mle={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){let{dateEnv:r}=t.context,i=t.eventSource.meta;lx(i.bind(null,ax(t.range,r)),s=>e({rawEvents:s}),n)}},kle=Os({name:"func-event-source",eventSourceDefs:[Mle]}),Nle={method:String,extraParams:L,startParam:String,endParam:String,timeZoneParam:String},Ple={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){let{meta:r}=t.eventSource,i=Fle(r,t.range,t.context);cx(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}},Ole=Os({name:"json-event-source",eventSourceRefiners:Nle,eventSourceDefs:[Ple]});function Fle(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,c={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[s]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}var Lle={daysOfWeek:L,startTime:Qe,endTime:Qe,duration:Qe,startRecur:L,endRecur:L},Vle={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=BU(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Vo(e,{start:t.startRecur,end:t.endRecur});return r?jle(t.daysOfWeek,t.startTime,r,n):[]}},Ule=Os({name:"simple-recurring-event",recurringTypes:[Vle],eventRefiners:Lle});function jle(t,e,n,r){let i=t?qA(t):null,s=gt(n.start),o=n.end,a=[];for(;s<o;){let l;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=wn(s,1)}return a}var Ble=Os({name:"change-handler",optionChangeHandlers:{events(t,e){O8([t],e)},eventSources:O8}});function O8(t,e){let n=tw(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function Hle(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},ax(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Wle(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ns(t,e))}var $le=[Rle,kle,Ole,Ule,Ble,Os({name:"misc",isLoadingFuncs:[t=>B8(t.eventSources)],propSetHandlers:{dateProfile:Hle,eventStore:Wle}})],Dx=class{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new vc(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function zle(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Yt(e.titleFormat||Gle(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Gle(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Od(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Sx=class{constructor(e){this.computeCurrentViewData=Ke(this._computeCurrentViewData),this.organizeRawLocales=Ke(Jae),this.buildLocale=Ke(U8),this.buildPluginHooks=rle(),this.buildDateEnv=Ke(qle),this.buildTheme=Ke(Qle),this.parseToolbars=Ke(Sle),this.buildViewSpecs=Ke(cle),this.buildDateProfileGenerator=jd(Kle),this.buildViewApi=Ke(Yle),this.buildViewUiProps=jd(Jle),this.buildEventUiBySource=Ke(Zle,Gr),this.buildEventUiBases=Ke(Xle),this.parseContextBusinessHours=jd(ece),this.buildTitle=Ke(zle),this.emitter=new Uo,this.actionRunner=new Dx(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=f=>{this.actionRunner.request(f)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=e8(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);As(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let f of r.pluginHooks.contextInit)f(l);let c=gle(r.calendarOptions,a,l),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:fr(),renderableEventStore:fr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},h=Object.assign(Object.assign({},l),u);for(let f of r.pluginHooks.reducers)Object.assign(u,f(null,null,h));Ix(u,l)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=fle(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=hle(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:h}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(h=l.dateProfileGenerator.build(u)),u=JU(u,e),h=ple(h,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!As(h.currentRange,u))&&(u=h.currentRange.start);let f=mle(r.eventSources,e,h,c),g=i8(r.eventStore,e,f,h,c),b=B8(f)&&!l.options.progressiveEventRendering&&r.renderableEventStore||g,{eventUiSingleBase:_,selectionConfig:x}=this.buildViewUiProps(c),F=this.buildEventUiBySource(f),W=this.buildEventUiBases(b.defs,_,F),I={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:h,eventSources:f,eventStore:g,renderableEventStore:b,selectionConfig:x,eventUiBases:W,businessHours:this.parseContextBusinessHours(c),dateSelection:Ile(r.dateSelection,e),eventSelection:Cle(r.eventSelection,e),eventDrag:Tle(r.eventDrag,e),eventResize:Dle(r.eventResize,e)},te=Object.assign(Object.assign({},c),I);for(let E of o.pluginHooks.reducers)Object.assign(I,E(r,e,te));let B=Ix(r,c),A=Ix(I,c);!B&&A?i.trigger("loading",!0):B&&!A&&i.trigger("loading",!1),this.state=I,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=vle(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=tx(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=tx(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);F8(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),h=this.buildTheme(i,s),f=this.parseToolbars(i,this.stableOptionOverrides,h,u,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:h,toolbarConfig:f,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=X0([rl,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],$le),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$A),zA),GA),l.listenerRefiners),l.optionRefiners),u={},h=X0([rl,a,e,n]),f={},g=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,b=!1;for(let _ in h)this.optionsForRefining.indexOf(_)===-1&&(h[_]===g[_]||il[_]&&_ in g&&il[_](g[_],h[_]))?f[_]=v[_]:c[_]?(f[_]=c[_](h[_]),b=!0):u[_]=g[_];return b&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=f,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);F8(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,s){let o=X0([rl,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$A),zA),GA),zU),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,h=!1,f={};for(let g in o)o[g]===c[g]||il[g]&&il[g](o[g],c[g])?l[g]=u[g]:(o[g]===this.currentCalendarOptionsInput[g]||il[g]&&il[g](o[g],this.currentCalendarOptionsInput[g])?g in this.currentCalendarOptionsRefined&&(l[g]=this.currentCalendarOptionsRefined[g]):a[g]?l[g]=a[g](o[g]):f[g]=o[g],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:f}}};function qle(t,e,n,r,i,s,o,a){let l=U8(e||o.defaultCode,o.map);return new Hp({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function Qle(t,e){let n=e.themeClasses[t.themeSystem]||Ps;return new n(t)}function Kle(t){let e=t.dateProfileGeneratorClass||yc;return new e(t)}function Yle(t,e,n){return new Tx(t,e,n)}function Zle(t){return Ms(t,e=>e.ui)}function Xle(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function Jle(t){let{options:e}=t;return{eventUiSingleBase:Wd({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Wd({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Ix(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function ece(t){return nx(t.options.businessHours,t)}function F8(t,e){for(let n in t)console.warn(`Unknown option '${n}'`+(e?` for view '${e}'`:""))}var Ax=class extends Ct{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return V("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:h}=o;if(a==="title")s=!1,i.push(V("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let f=a===n.activeButton,g=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",v=[`fc-${a}-button`,r.getClass("button")];f&&v.push(r.getClass("buttonActive")),i.push(V("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:g,"aria-pressed":f,className:v.join(" "),onClick:l},c||(u?V("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return V("div",{className:o},...i)}return i[0]}},vw=class extends Ct{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,V("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return V(Ax,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}},xx=class extends Ct{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,yi(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",V("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},Rx=class extends Qi{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=Ho(r);if(o&&i.isValidSegDownEl(n.target)){let a=_n(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new mt(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=NA(e.el,"click",".fc-event",this.handleSegClick)}},Mx=class extends Qi{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Ho(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=OU(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=Ho(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new mt(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}},kx=class extends fg{constructor(){super(...arguments),this.buildViewContext=Ke(YU),this.buildViewPropTransformers=Ke(nce),this.buildToolbarProps=Ke(tce),this.headerRef=zr(),this.footerRef=zr(),this.interactionsStore={},this.state={viewLabelId:Cc()},this.registerInteractiveComponent=(e,n)=>{let r=u8(e,n),o=[Rx,Mx].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,$d[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete $d[e.uid]},this.resizeRunner=new vc(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Hd(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return V(Bo.Provider,{value:l},n.header&&V(vw,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},i)),V(xx,{liquid:s,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&V(vw,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return V(Et,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return V(o,Object.assign({},i))}};function tce(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!As(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function nce(t){return t.map(e=>new e)}var yw=class extends Kp{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Wp(()=>{Za(V(Qp,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),V(KA.Provider,{value:this.customContentRenderId},V(kx,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Za(null,this.el),this.setClassNames([]),this.setHeight(""))},MU(e),this.el=e,this.renderRunner=new vc(this.handleRenderRequest),new Sx({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Wp(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Rs(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){kA(this.el,"height",e)}};var Px=class extends Ki{constructor(){super(...arguments),this.headerElRef=zr()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=gw(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),V(Fd,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},V(Ld,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&gw(a.options),c=!o.forPrint&&wx(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:_x}]}),V(Fd,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},V(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:u}))}};function _w(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function ww(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function G8(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}var q8=Yt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Q8(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var Ew=class extends Ct{render(){let{props:e}=this;return V(ig,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:q8,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},bw=class extends Ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||q8,o=aw(i,s,n,!0,e.defaultDisplayEventEnd);return V(bc,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:lw(e.seg,n),defaultGenerator:ice,timeText:o,isResizing:!1,isDateSelecting:!1}))}};function ice(t){return V(Et,null,V("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&V("div",{className:"fc-event-time"},t.timeText),V("div",{className:"fc-event-title"},t.event.title||V(Et,null,"\xA0")))}var Ox=class extends Ct{constructor(){super(...arguments),this.compileSegs=Ke(sce)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return V(og,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return V(Et,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return V("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},Q8(s)?V(bw,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Dc(s,e.todayRange))):V(Ew,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Dc(s,e.todayRange))))}))}})}};function sce(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}var oce=Yt({week:"narrow"}),Fx=class extends Ki{constructor(){super(...arguments),this.rootElRef=zr(),this.state={dayNumberId:Cc()},this.handleRootEl=e=>{yi(this.rootElRef,e),yi(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n,c=n.showDayNumber&&lce(a,l.currentRange,o);return V(Vd,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:ace,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,h)=>V("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&V(bx,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:yg(e,a,"week"),date:a,defaultFormat:oce}),!h.isDisabled&&(n.showDayNumber||mw(s)||n.forceDayTop)?V("div",{className:"fc-daygrid-day-top"},V(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},yg(e,a)),{id:r.dayNumberId})})):n.showDayNumber?V("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},V("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,V("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,V("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},V(Ox,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),V("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}};function ace(t){return t.dayNumberText||V(Et,null,"\xA0")}function lce(t,e,n){let{start:r,end:i}=e,s=xs(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function K8(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function Y8(t){return K8(t)+":"+t.lastCol}function cce(t,e,n,r,i,s,o){let a=new Lx(x=>{let F=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[F]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let x=0;x<t.length;x+=1){let F=t[x],W=Y8(F);i[W]!=null?l.push({index:x,span:{start:F.firstCol,end:F.lastCol+1}}):c.push(F)}let u=a.addSegs(l),h=a.toRects(),{singleColPlacements:f,multiColPlacements:g,leftoverMargins:v}=uce(h,t,o),b=[],_=[];for(let x of c){g[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let F=x.firstCol;F<=x.lastCol;F+=1)f[F].push({seg:zd(x,F,F+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)b.push(0);for(let x of u){let F=t[x.index],W=x.span;g[W.start].push({seg:zd(F,W.start,W.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let I=W.start;I<W.end;I+=1)b[I]+=1,f[I].push({seg:zd(F,I,I+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)_.push(v[x]);return{singleColPlacements:f,multiColPlacements:g,moreCnts:b,moreMarginTops:_}}function uce(t,e,n){let r=dce(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],u=0,h=0;for(let g of l){let v=e[g.index];c.push({seg:zd(v,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:g.levelCoord-u}),u=g.levelCoord+g.thickness}let f=[];u=0,h=0;for(let g of l){let v=e[g.index],b=g.span.end-g.span.start>1,_=g.span.start===a;h+=g.levelCoord-u,u=g.levelCoord+g.thickness,b?(h+=g.thickness,_&&f.push({seg:zd(v,g.span.start,g.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:g.levelCoord,marginTop:0})):_&&(f.push({seg:zd(v,g.span.start,g.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:h}),h=0)}i.push(c),s.push(f),o.push(h)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function dce(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function zd(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=Vo(s,{start:r[e].date,end:wn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}var Lx=class extends Xp{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Ec(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){let{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let c=Ec(o);if(!s[c])if(this.allowReslicing){let u=Object.assign(Object.assign({},o),{span:hw(o.span,n.span)}),h=Ec(u);s[h]=!0,i[a][l]=u,r.push(u),this.splitEntry(o,n,r)}else s[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}},Iw=class extends Ki{constructor(){super(...arguments),this.cellElRefs=new Yi,this.frameElRefs=new Yi,this.fgElRefs=new Yi,this.segHarnessRefs=new Yi,this.rootElRef=zr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=ww(e.businessHourSegs,s),a=ww(e.bgEventSegs,s),l=ww(this.getHighlightSegs(),s),c=ww(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:h,moreCnts:f,moreMarginTops:g}=cce(ix(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return V("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((b,_)=>{let x=this.renderFgSegs(_,e.forPrint?u[_]:h[_],e.todayRange,v),F=this.renderFgSegs(_,hce(c[_],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return V(Fx,{key:b.key,elRef:this.cellElRefs.createRef(b.key),innerElRef:this.frameElRefs.createRef(b.key),dateProfile:e.dateProfile,date:b.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&_===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:b.extraRenderProps,extraDataAttrs:b.extraDataAttrs,extraClassNames:b.extraClassNames,extraDateSpan:b.extraDateSpan,moreCnt:f[_],moreMarginTop:g[_],singlePlacements:u[_],fgContentElRef:this.fgElRefs.createRef(b.key),fgContent:V(Et,null,V(Et,null,x),V(Et,null,F)),bgContent:V(Et,null,this.renderFillSegs(l[_],"highlight"),this.renderFillSegs(o[_],"non-business"),this.renderFillSegs(a[_],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Gr(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,h=this.props.cells.length===1,f=s||o||a,g=[];if(u)for(let v of n){let{seg:b}=v,{instanceId:_}=b.eventRange.instance,x=v.isVisible&&!i[_],F=v.isAbsolute,W="",I="";F&&(l.isRtl?(I=0,W=u.lefts[b.lastCol]-u.lefts[b.firstCol]):(W=0,I=u.rights[b.firstCol]-u.rights[b.lastCol])),g.push(V("div",{className:"fc-daygrid-event-harness"+(F?" fc-daygrid-event-harness-abs":""),key:K8(b),ref:f?null:this.segHarnessRefs.createRef(Y8(b)),style:{visibility:x?"":"hidden",marginTop:F?"":v.marginTop,top:F?v.absoluteTop:"",left:W,right:I}},Q8(b)?V(bw,Object.assign({seg:b,isDragging:s,isSelected:_===c,defaultDisplayEventEnd:h},Dc(b,r))):V(Ew,Object.assign({seg:b,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:_===c,defaultDisplayEventEnd:h},Dc(b,r)))))}return g}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(V("div",{key:sx(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?V(sg,Object.assign({seg:a},Dc(a,i))):Ex(n)))}return V(Et,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new nl(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(u))&&this.setState({framePositions:new nl(c,l,!0,!1)})}}let s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}};Iw.addStateEquality({segHeights:Gr});function hce(t,e){if(!t.length)return[];let n=fce(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function fce(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}var Vx=class extends Ki{constructor(){super(...arguments),this.splitBusinessHourSegs=Ke(_w),this.splitBgEventSegs=Ke(_w),this.splitFgEventSegs=Ke(_w),this.splitDateSelectionSegs=Ke(_w),this.splitEventDrag=Ke(G8),this.splitEventResize=Ke(G8),this.rowRefs=new Yi}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),u=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return V(fw,{unit:"day"},(h,f)=>V(Et,null,e.cells.map((g,v)=>V(Iw,{ref:this.rowRefs.createRef(v),key:g.length?g[0].date.toISOString():v,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:g,renderIntro:e.renderRowIntro,businessHourSegs:i[v],eventSelection:e.eventSelection,bgEventSegs:s[v].filter(pce),fgEventSegs:o[v],dateSelectionSegs:a[v],eventDrag:l[v],eventResize:c[v],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new nl(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new nl(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=wn(r,1);return{start:r,end:i}}};function pce(t){return t.eventRange.def.allDay}var Ux=class extends Ki{constructor(){super(...arguments),this.elRef=zr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return V("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},V("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,V("tbody",{role:"presentation"},V(Vx,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=gce(this.elRef.current,this.props.dateProfile);if(e){let n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};function gce(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${HA(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${hg(e.currentDate)}"]`)),n}var jx=class extends rg{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}},Bx=class extends Ki{constructor(){super(...arguments),this.slicer=new jx,this.tableRef=zr()}render(){let{props:e,context:n}=this;return V(Ux,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},Cw=class extends Px{constructor(){super(...arguments),this.buildDayTableModel=Ke(mce),this.headerRef=zr(),this.tableRef=zr()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&V(eg,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>V(Bx,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}};function mce(t,e){let n=new tg(t.renderRange,e);return new ng(n,/year|month|week/.test(t.currentRangeUnit))}var Tw=class extends yc{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return vce({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}};function vce(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=Z0(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(wn(n.end,-1))),a=Math.ceil(jA(o,i));i=Z0(i,6-a)}return{start:r,end:i}}var yce=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';K0(yce);var Z8=Os({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Cw,dateProfileGeneratorClass:Tw},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});wg.touchMouseIgnoreWait=500;var Hx=0,Dw=0,Wx=!1,Sw=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&_ce(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,wce()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Uo,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ece()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),bce()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||_n(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Wx=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?_n(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Hx||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Wx=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}};function _ce(t){return t.button===0&&!t.ctrlKey}function wce(){Hx+=1,setTimeout(()=>{Hx-=1},wg.touchMouseIgnoreWait)}function Ece(){Dw+=1,Dw===1&&window.addEventListener("touchmove",J8,{passive:!1})}function bce(){Dw-=1,Dw||window.removeEventListener("touchmove",J8,{passive:!1})}function J8(t){Wx&&t.preventDefault()}var $x=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Ic(r,{left:i.left,top:i.top}),PA(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(lg(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Ic(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Ic(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}},Aw=class extends wc{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},xw=class extends Aw{constructor(e,n){super(new Yp(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return mx(this.scrollController.el)}},zx=class extends Aw{constructor(e){super(new Zp,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},X8=typeof performance=="function"?performance.now:Date.now,Gx=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=X8();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(X8()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,h=a.bottom-n;l>=0&&c>=0&&u>=0&&h>=0&&(u<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),h<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>h)&&(i={scrollCache:o,name:"bottom",distance:h}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new zx(!1):new xw(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}},Sc=class extends Jp{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,OA(document.body),LA(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,FA(document.body),VA(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new Sw(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new $x,this.autoScroller=new Gx}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},qx=class{constructor(e){this.el=e,this.origRect=_g(e),this.scrollCaches=dw(e).map(n=>new xw(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Ice(i.getEventTarget())&&!dx(r,i.clientRect))return!1;return!0}};function Ice(t){let e=t.tagName;return e==="HTML"||e==="BODY"}var Gd=class{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Uo}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=_g(i),r=hx(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=cw(s,o.rect);a&&(r=fx(a))}this.coordAdjust=px(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Rw(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Ms(this.droppableStore,e=>(e.component.prepareHits(),new qx(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),h=e-c,f=n-u,{origRect:g}=l,v=g.right-g.left,b=g.bottom-g.top;if(h>=0&&h<v&&f>=0&&f<b){let _=a.queryHit(h,f,v,b);_&&Bd(_.dateProfile.activeRange,_.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(h+c-window.scrollX,f+u-window.scrollY)))&&(!s||_.layer>s.layer)&&(_.componentId=o,_.context=a.context,_.rect.left+=c,_.rect.right+=c,_.rect.top+=u,_.rect.bottom+=u,s=_)}}}return s}};function Rw(t,e){return!t&&!e?!0:!!t!=!!e?!1:ox(t.dateSpan,e.dateSpan)}function ej(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,Cce(t,e.dateEnv)),n}function Cce(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}var Qx=class extends Qi{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Rw(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},ej(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Sc(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Gd(this.dragging,vg(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},Kx=class extends Qi{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Tce(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let h=this.hitDragging.initialHit;o.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,o)||(c=Dce(h,o,l.pluginHooks.dateSelectionTransformers)),(!c||!vx(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?ug():dg(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(ow(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Sc(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Gd(this.dragging,vg(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function Tce(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function Dce(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(UA);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}var tj=(()=>{class t extends Qi{constructor(n){super(n),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:c,dragging:u}=this,{mirror:h}=u,{options:f}=c.context,g=c.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=Ho(a.subjectEl),_=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=gg(g.getCurrentData().eventStore,_),u.minDistance=a.isTouch?0:f.eventDragMinDistance,u.delay=a.isTouch&&_!==c.props.eventSelection?Ace(c):null,f.fixedMirrorParent?h.parentNode=f.fixedMirrorParent:h.parentNode=_n(l,".fc"),h.revertDuration=f.dragRevertDuration;let x=c.isValidSegDownEl(l)&&!_n(l,".fc-event-resizer");u.setIgnoreMove(!x),this.isDragging=x&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;a.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new mt(l,c.def,c.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,h=this.component.context,f=null,g=null,v=null,b=!1,_={affectedEvents:c,mutatedEvents:fr(),isEvent:!0};if(a){f=a.context;let x=f.options;h===f||x.editable&&x.droppable?(g=Sce(u,a,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),g&&(v=mg(c,f.getCurrentData().eventUiBases,g,f),_.mutatedEvents=v,pw(_,a.dateProfile,f)||(b=!0,g=null,v=null,_.mutatedEvents=fr()))):f=null}this.displayDrag(f,_),b?ug():dg(),l||(h===f&&Rw(u,a)&&(g=null),this.dragging.setMirrorNeedsRevert(!g),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=g,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:h}=this,f=this.eventRange.def,g=this.eventRange.instance,v=new mt(l,f,g),b=this.relevantEvents,_=this.mutatedRelevantEvents,{finalHit:x}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:c}),h){if(u===l){let F=new mt(l,_.defs[f.defId],g?_.instances[g.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:_});let W={oldEvent:v,event:F,relatedEvents:Ns(_,l,g),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}},I={};for(let te of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(I,te(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},W),I),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:c})),l.emitter.trigger("eventChange",W)}else if(u){let F={event:v,relatedEvents:Ns(b,l,g),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},F),{draggedEl:a.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:b}),l.emitter.trigger("eventRemove",F);let W=_.defs[f.defId],I=_.instances[g.instanceId],te=new mt(u,W,I);u.dispatch({type:"MERGE_EVENTS",eventStore:_});let B={event:te,relatedEvents:Ns(_,u,I),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:_})}};u.emitter.trigger("eventAdd",B),a.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:g.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},ej(x.dateSpan,u)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:x.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},B),{draggedEl:a.subjectEl,view:x.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:i}=r.context,s=this.dragging=new Sc(n.el);s.pointer.selector=t.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let o=this.hitDragging=new Gd(this.dragging,$d);o.useSubjectCenter=n.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(n,r){let i=this.component.context,s=this.receivingContext;s&&s!==n&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:fr(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),n&&n.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let n=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),n!==r&&n.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t})();function Sce(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,a=s.range.start,l={};i.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=gt(n):o=n);let c=tl(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let h of r)h(u,t,e);return u}function Ace(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}var Yx=class extends Qi{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=Ho(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=gg(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=Ho(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new mt(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,h=this.eventRange.instance,f=null,g=null,v=!1,b={affectedEvents:c,mutatedEvents:fr(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(f=xce(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),f&&(g=mg(c,l.getCurrentData().eventUiBases,f,l),b.mutatedEvents=g,pw(b,s.dateProfile,l)||(v=!0,f=null,g=null,b.mutatedEvents=null)),g?l.dispatch({type:"SET_EVENT_RESIZE",state:b}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),v?ug():dg(),o||(f&&Rw(u,s)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=g)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new mt(o,a,l),u=this.relevantEvents,h=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let f=new mt(o,h.defs[a.defId],l?h.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:h});let g={oldEvent:c,event:f,relatedEvents:Ns(h,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},g),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Qe(0),endDelta:this.validMutation.endDelta||Qe(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",g)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Sc(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Gd(this.dragging,vg(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return _n(e.subjectEl,".fc-event")}};function xce(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=tl(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}var Zx=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=Y0(r.origEvent);this.matchesCancel=!!_n(s,i),this.matchesEvent=!!_n(s,tj.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new Sw(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},Rce={fixedMirrorParent:L},Mce={dateClick:L,eventDragStart:L,eventDragStop:L,eventDrop:L,eventResizeStart:L,eventResizeStop:L,eventResize:L,drop:L,eventReceive:L,eventLeave:L};wg.dataAttrPrefix="";var nj=Os({name:"@fullcalendar/interaction",componentInteractions:[Qx,Kx,tj,Yx],calendarInteractions:[Zx],elementDraggingImpl:Sc,optionRefiners:Rce,listenerRefiners:Mce});var kce=["*"],Nce=["rootEl"],Qd=t=>({$implicit:t});function Pce(t,e){if(t&1&&(C(0,"div",2,0),Na(2,3),T()),t&2){let n=H();G("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),P(2),G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",go(4,Qd,n.renderProps))}}function Oce(t,e){if(t&1&&(C(0,"span",2,0),Na(2,3),T()),t&2){let n=H();G("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),P(2),G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",go(4,Qd,n.renderProps))}}function Fce(t,e){if(t&1&&(C(0,"a",2,0),Na(2,3),T()),t&2){let n=H();G("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),P(2),G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",go(4,Qd,n.renderProps))}}function Lce(t,e){if(t&1&&(C(0,"tr",2,0),Na(2,3),T()),t&2){let n=H();G("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),P(2),G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",go(4,Qd,n.renderProps))}}function Vce(t,e){if(t&1&&(C(0,"th",2,0),Na(2,3),T()),t&2){let n=H();G("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),P(2),G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",go(4,Qd,n.renderProps))}}function Uce(t,e){if(t&1&&(C(0,"td",2,0),Na(2,3),T()),t&2){let n=H();G("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),P(2),G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",go(4,Qd,n.renderProps))}}var jce=["dayHeaderContent"],Bce=["dayCellContent"],Hce=["weekNumberContent"],Wce=["nowIndicatorContent"],$ce=["eventContent"],zce=["slotLaneContent"],Gce=["slotLabelContent"],qce=["allDayContent"],Qce=["moreLinkContent"],Kce=["noEventsContent"],Yce=["resourceAreaHeaderContent"],Zce=["resourceGroupLabelContent"],Xce=["resourceLabelContent"],Jce=["resourceLaneContent"],eue=["resourceGroupLaneContent"];function tue(t,e){if(t&1&&$(0,"transport-container",1),t&2){let n=e.$implicit,r=H();G("inPlaceOf",n.containerEl)("reportEl",n.reportNewContainerEl)("elTag",n.elTag)("elClasses",n.elClasses)("elStyle",n.elStyle)("elAttrs",n.elAttrs)("template",r.templateMap[n.generatorName])("renderProps",n.renderProps)}}var rj={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},nue=["events","eventSources","resources"],rue=Object.prototype.hasOwnProperty;function kw(t){return Array.isArray(t)?t.map(kw):t instanceof Date?new Date(t.valueOf()):typeof t=="object"&&t?sj(t,kw):t}function sj(t,e){let n={};for(let r in t)rue.call(t,r)&&(n[r]=e(t[r],r));return n}function Jx(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Jx(t[r],e[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){var s=i[r];if(!Jx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}var Mw=typeof document<"u"?document.createDocumentFragment():null,iue=(()=>{class t{constructor(n){this.element=n}ngAfterViewInit(){Mw&&Mw.appendChild(this.element.nativeElement)}ngOnDestroy(){Mw&&Mw.removeChild(this.element.nativeElement)}}return t.\u0275fac=function(n){return new(n||t)(U(jt))},t.\u0275cmp=ve({type:t,selectors:[["offscreen-fragment"]],ngContentSelectors:kce,decls:1,vars:0,template:function(n,r){n&1&&(K3(),Y3(0))},encapsulation:2}),t})(),qd=typeof document<"u"?document.createDocumentFragment():null,sue=(()=>{class t{ngAfterViewInit(){let n=this.rootElRef?.nativeElement;ij(n,this.inPlaceOf),Xx(n,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(n)}ngOnChanges(n){let r=this.rootElRef?.nativeElement;if(r)if(this.inPlaceOf.parentNode!==qd)ij(r,this.inPlaceOf),Xx(r,void 0,this.elAttrs),this.reportEl(r);else{let i=n.elAttrs;i&&Xx(r,i.previousValue,i.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===qd&&qd&&qd.removeChild(this.inPlaceOf),this.reportEl(null)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ve({type:t,selectors:[["transport-container"]],viewQuery:function(n,r){if(n&1&&Lu(Nce,5),n&2){let i;Pt(i=Ot())&&(r.rootElRef=i.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[tn],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&de(0,Pce,3,6,"ng-template",1)(1,Oce,3,6,"ng-template",1)(2,Fce,3,6,"ng-template",1)(3,Lce,3,6,"ng-template",1)(4,Vce,3,6,"ng-template",1)(5,Uce,3,6,"ng-template",1),n&2&&(G("ngIf",r.elTag=="div"),P(),G("ngIf",r.elTag=="span"),P(),G("ngIf",r.elTag=="a"),P(),G("ngIf",r.elTag=="tr"),P(),G("ngIf",r.elTag=="th"),P(),G("ngIf",r.elTag=="td"))},dependencies:[ot,ju,vy,CF],encapsulation:2}),t})();function ij(t,e){e.parentNode?.insertBefore(t,e.nextSibling),qd&&qd.appendChild(e)}function Xx(t,e={},n={}){for(let r in e)r in n||(t[r]=null);for(let r in n)t[r]=n[r]}var oj=(()=>{class t{constructor(n,r){this.element=n,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};let i=new ag;i.subscribe(s=>{this.customRenderingMap=s,this.customRenderingArray=void 0,r.detectChanges()}),this.handleCustomRendering=i.handle.bind(i),this.templateMap=this}ngAfterViewInit(){let{deepChangeDetection:n}=this,r=q(q({},this.options),this.buildInputOptions());this.optionSnapshot=sj(r,(a,l)=>n&&rj[l]?kw(a):a);let i=this.element.nativeElement,s=this.calendar=new yw(i,q(q({},r),this.buildExtraOptions())),o=i.closest("ion-content");o&&o.componentOnReady?o.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{s.render()})}):s.render()}ngDoCheck(){if(this.calendar){let{deepChangeDetection:n,optionSnapshot:r}=this,i=q(q({},this.options),this.buildInputOptions()),s={},o=[];for(let l in i)if(i.hasOwnProperty(l)){let c=i[l];n&&rj[l]?Jx(r[l],c)||(r[l]=kw(c),o.push(l)):r[l]!==c&&(r[l]=c,o.push(l)),s[l]=c}let a=Object.keys(r);for(let l of a)l in i||(delete r[l],o.push(l));o.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(q(q({},s),this.buildExtraOptions()),o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let n={};for(let r of nue){let i=this[r];i!=null&&(n[r]=i)}return n}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(n,r){return r.id}}return t.\u0275fac=function(n){return new(n||t)(U(jt),U(Lr))},t.\u0275cmp=ve({type:t,selectors:[["full-calendar"]],contentQueries:function(n,r,i){if(n&1&&(Tn(i,jce,7),Tn(i,Bce,7),Tn(i,Hce,7),Tn(i,Wce,7),Tn(i,$ce,7),Tn(i,zce,7),Tn(i,Gce,7),Tn(i,qce,7),Tn(i,Qce,7),Tn(i,Kce,7),Tn(i,Yce,7),Tn(i,Zce,7),Tn(i,Xce,7),Tn(i,Jce,7),Tn(i,eue,7)),n&2){let s;Pt(s=Ot())&&(r.dayHeaderContent=s.first),Pt(s=Ot())&&(r.dayCellContent=s.first),Pt(s=Ot())&&(r.weekNumberContent=s.first),Pt(s=Ot())&&(r.nowIndicatorContent=s.first),Pt(s=Ot())&&(r.eventContent=s.first),Pt(s=Ot())&&(r.slotLaneContent=s.first),Pt(s=Ot())&&(r.slotLabelContent=s.first),Pt(s=Ot())&&(r.allDayContent=s.first),Pt(s=Ot())&&(r.moreLinkContent=s.first),Pt(s=Ot())&&(r.noEventsContent=s.first),Pt(s=Ot())&&(r.resourceAreaHeaderContent=s.first),Pt(s=Ot())&&(r.resourceGroupLabelContent=s.first),Pt(s=Ot())&&(r.resourceLabelContent=s.first),Pt(s=Ot())&&(r.resourceLaneContent=s.first),Pt(s=Ot())&&(r.resourceGroupLaneContent=s.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(n,r){n&1&&(C(0,"offscreen-fragment"),de(1,tue,1,8,"transport-container",0),T()),n&2&&(P(),G("ngForOf",r.customRenderings)("ngForTrackBy",r.trackCustomRendering))},dependencies:[iue,sue,Xn],encapsulation:2}),t})(),Nw=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yn({type:t}),t.\u0275inj=Kn({imports:[[$e]]}),t})();var $t="top",En="bottom",ln="right",Zt="left",Pw="auto",sl=[$t,En,ln,Zt],Wo="start",Ac="end",aj="clippingParents",Ow="viewport",Kd="popper",lj="reference",eR=sl.reduce(function(t,e){return t.concat([e+"-"+Wo,e+"-"+Ac])},[]),Fw=[].concat(sl,[Pw]).reduce(function(t,e){return t.concat([e,e+"-"+Wo,e+"-"+Ac])},[]),aue="beforeRead",lue="read",cue="afterRead",uue="beforeMain",due="main",hue="afterMain",fue="beforeWrite",pue="write",gue="afterWrite",cj=[aue,lue,cue,uue,due,hue,fue,pue,gue];function xn(t){return t?(t.nodeName||"").toLowerCase():null}function At(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _i(t){var e=At(t).Element;return t instanceof e||t instanceof Element}function bn(t){var e=At(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Yd(t){if(typeof ShadowRoot>"u")return!1;var e=At(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function mue(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!bn(s)||!xn(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function vue(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!bn(i)||!xn(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Eg={name:"applyStyles",enabled:!0,phase:"write",fn:mue,effect:vue,requires:["computeStyles"]};function Rn(t){return t.split("-")[0]}var Zi=Math.max,xc=Math.min,$o=Math.round;function Zd(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function bg(){return!/^((?!chrome|android).)*safari/i.test(Zd())}function wi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&bn(t)&&(i=t.offsetWidth>0&&$o(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&$o(r.height)/t.offsetHeight||1);var o=_i(t)?At(t):window,a=o.visualViewport,l=!bg()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,f=r.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function Rc(t){var e=wi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ig(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Yd(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function pr(t){return At(t).getComputedStyle(t)}function tR(t){return["table","td","th"].indexOf(xn(t))>=0}function zn(t){return((_i(t)?t.ownerDocument:t.document)||window.document).documentElement}function zo(t){return xn(t)==="html"?t:t.assignedSlot||t.parentNode||(Yd(t)?t.host:null)||zn(t)}function uj(t){return!bn(t)||pr(t).position==="fixed"?null:t.offsetParent}function yue(t){var e=/firefox/i.test(Zd()),n=/Trident/i.test(Zd());if(n&&bn(t)){var r=pr(t);if(r.position==="fixed")return null}var i=zo(t);for(Yd(i)&&(i=i.host);bn(i)&&["html","body"].indexOf(xn(i))<0;){var s=pr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Xi(t){for(var e=At(t),n=uj(t);n&&tR(n)&&pr(n).position==="static";)n=uj(n);return n&&(xn(n)==="html"||xn(n)==="body"&&pr(n).position==="static")?e:n||yue(t)||e}function Mc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function kc(t,e,n){return Zi(t,xc(e,n))}function dj(t,e,n){var r=kc(t,e,n);return r>n?n:r}function Cg(){return{top:0,right:0,bottom:0,left:0}}function Tg(t){return Object.assign({},Cg(),t)}function Dg(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var _ue=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Tg(typeof e!="number"?e:Dg(e,sl))};function wue(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Rn(n.placement),l=Mc(a),c=[Zt,ln].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=_ue(i.padding,n),f=Rc(s),g=l==="y"?$t:Zt,v=l==="y"?En:ln,b=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],_=o[l]-n.rects.reference[l],x=Xi(s),F=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,W=b/2-_/2,I=h[g],te=F-f[u]-h[v],B=F/2-f[u]/2+W,A=kc(I,B,te),E=l;n.modifiersData[r]=(e={},e[E]=A,e.centerOffset=A-B,e)}}function Eue(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ig(e.elements.popper,i)&&(e.elements.arrow=i))}var hj={name:"arrow",enabled:!0,phase:"main",fn:wue,effect:Eue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ei(t){return t.split("-")[1]}var bue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Iue(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:$o(n*i)/i||0,y:$o(r*i)/i||0}}function fj(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,g=f===void 0?0:f,v=o.y,b=v===void 0?0:v,_=typeof u=="function"?u({x:g,y:b}):{x:g,y:b};g=_.x,b=_.y;var x=o.hasOwnProperty("x"),F=o.hasOwnProperty("y"),W=Zt,I=$t,te=window;if(c){var B=Xi(n),A="clientHeight",E="clientWidth";if(B===At(n)&&(B=zn(n),pr(B).position!=="static"&&a==="absolute"&&(A="scrollHeight",E="scrollWidth")),B=B,i===$t||(i===Zt||i===ln)&&s===Ac){I=En;var D=h&&B===te&&te.visualViewport?te.visualViewport.height:B[A];b-=D-r.height,b*=l?1:-1}if(i===Zt||(i===$t||i===En)&&s===Ac){W=ln;var R=h&&B===te&&te.visualViewport?te.visualViewport.width:B[E];g-=R-r.width,g*=l?1:-1}}var M=Object.assign({position:a},c&&bue),k=u===!0?Iue({x:g,y:b},At(n)):{x:g,y:b};if(g=k.x,b=k.y,l){var S;return Object.assign({},M,(S={},S[I]=F?"0":"",S[W]=x?"0":"",S.transform=(te.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",S))}return Object.assign({},M,(e={},e[I]=F?b+"px":"",e[W]=x?g+"px":"",e.transform="",e))}function Cue(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Rn(e.placement),variation:Ei(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fj(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fj(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var pj={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cue,data:{}};var Lw={passive:!0};function Tue(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=At(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,Lw)}),a&&l.addEventListener("resize",n.update,Lw),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Lw)}),a&&l.removeEventListener("resize",n.update,Lw)}}var gj={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tue,data:{}};var Due={left:"right",right:"left",bottom:"top",top:"bottom"};function Xd(t){return t.replace(/left|right|bottom|top/g,function(e){return Due[e]})}var Sue={start:"end",end:"start"};function Vw(t){return t.replace(/start|end/g,function(e){return Sue[e]})}function Nc(t){var e=At(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Pc(t){return wi(zn(t)).left+Nc(t).scrollLeft}function nR(t,e){var n=At(t),r=zn(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=bg();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Pc(t),y:l}}function rR(t){var e,n=zn(t),r=Nc(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Zi(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Zi(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Pc(t),l=-r.scrollTop;return pr(i||n).direction==="rtl"&&(a+=Zi(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Oc(t){var e=pr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Uw(t){return["html","body","#document"].indexOf(xn(t))>=0?t.ownerDocument.body:bn(t)&&Oc(t)?t:Uw(zo(t))}function ol(t,e){var n;e===void 0&&(e=[]);var r=Uw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=At(r),o=i?[s].concat(s.visualViewport||[],Oc(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(ol(zo(o)))}function Jd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Aue(t,e){var n=wi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function mj(t,e,n){return e===Ow?Jd(nR(t,n)):_i(e)?Aue(e,n):Jd(rR(zn(t)))}function xue(t){var e=ol(zo(t)),n=["absolute","fixed"].indexOf(pr(t).position)>=0,r=n&&bn(t)?Xi(t):t;return _i(r)?e.filter(function(i){return _i(i)&&Ig(i,r)&&xn(i)!=="body"}):[]}function iR(t,e,n,r){var i=e==="clippingParents"?xue(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=mj(t,c,r);return l.top=Zi(u.top,l.top),l.right=xc(u.right,l.right),l.bottom=xc(u.bottom,l.bottom),l.left=Zi(u.left,l.left),l},mj(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Sg(t){var e=t.reference,n=t.element,r=t.placement,i=r?Rn(r):null,s=r?Ei(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case $t:l={x:o,y:e.y-n.height};break;case En:l={x:o,y:e.y+e.height};break;case ln:l={x:e.x+e.width,y:a};break;case Zt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Mc(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Wo:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Ac:l[c]=l[c]+(e[u]/2-n[u]/2);break;default:}}return l}function Ji(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?aj:a,c=n.rootBoundary,u=c===void 0?Ow:c,h=n.elementContext,f=h===void 0?Kd:h,g=n.altBoundary,v=g===void 0?!1:g,b=n.padding,_=b===void 0?0:b,x=Tg(typeof _!="number"?_:Dg(_,sl)),F=f===Kd?lj:Kd,W=t.rects.popper,I=t.elements[v?F:f],te=iR(_i(I)?I:I.contextElement||zn(t.elements.popper),l,u,o),B=wi(t.elements.reference),A=Sg({reference:B,element:W,strategy:"absolute",placement:i}),E=Jd(Object.assign({},W,A)),D=f===Kd?E:B,R={top:te.top-D.top+x.top,bottom:D.bottom-te.bottom+x.bottom,left:te.left-D.left+x.left,right:D.right-te.right+x.right},M=t.modifiersData.offset;if(f===Kd&&M){var k=M[i];Object.keys(R).forEach(function(S){var Rt=[ln,En].indexOf(S)>=0?1:-1,hn=[$t,En].indexOf(S)>=0?"y":"x";R[S]+=k[hn]*Rt})}return R}function sR(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Fw:l,u=Ei(r),h=u?a?eR:eR.filter(function(v){return Ei(v)===u}):sl,f=h.filter(function(v){return c.indexOf(v)>=0});f.length===0&&(f=h);var g=f.reduce(function(v,b){return v[b]=Ji(t,{placement:b,boundary:i,rootBoundary:s,padding:o})[Rn(b)],v},{});return Object.keys(g).sort(function(v,b){return g[v]-g[b]})}function Rue(t){if(Rn(t)===Pw)return[];var e=Xd(t);return[Vw(t),e,Vw(e)]}function Mue(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,b=n.allowedAutoPlacements,_=e.options.placement,x=Rn(_),F=x===_,W=l||(F||!v?[Xd(_)]:Rue(_)),I=[_].concat(W).reduce(function(Ii,kn){return Ii.concat(Rn(kn)===Pw?sR(e,{placement:kn,boundary:u,rootBoundary:h,padding:c,flipVariations:v,allowedAutoPlacements:b}):kn)},[]),te=e.rects.reference,B=e.rects.popper,A=new Map,E=!0,D=I[0],R=0;R<I.length;R++){var M=I[R],k=Rn(M),S=Ei(M)===Wo,Rt=[$t,En].indexOf(k)>=0,hn=Rt?"width":"height",Cn=Ji(e,{placement:M,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Lt=Rt?S?ln:Zt:S?En:$t;te[hn]>B[hn]&&(Lt=Xd(Lt));var Mt=Xd(Lt),mr=[];if(s&&mr.push(Cn[k]<=0),a&&mr.push(Cn[Lt]<=0,Cn[Mt]<=0),mr.every(function(Ii){return Ii})){D=M,E=!1;break}A.set(M,mr)}if(E)for(var Sr=v?3:1,Gs=function(kn){var Ci=I.find(function(Qr){var Ti=A.get(Qr);if(Ti)return Ti.slice(0,kn).every(function(ta){return ta})});if(Ci)return D=Ci,"break"},fn=Sr;fn>0;fn--){var Tt=Gs(fn);if(Tt==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}var vj={name:"flip",enabled:!0,phase:"main",fn:Mue,requiresIfExists:["offset"],data:{_skip:!1}};function yj(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _j(t){return[$t,ln,En,Zt].some(function(e){return t[e]>=0})}function kue(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ji(e,{elementContext:"reference"}),a=Ji(e,{altBoundary:!0}),l=yj(o,r),c=yj(a,i,s),u=_j(l),h=_j(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var wj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kue};function Nue(t,e,n){var r=Rn(t),i=[Zt,$t].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Zt,ln].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Pue(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Fw.reduce(function(u,h){return u[h]=Nue(h,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}var Ej={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pue};function Oue(t){var e=t.state,n=t.name;e.modifiersData[n]=Sg({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var bj={name:"popperOffsets",enabled:!0,phase:"read",fn:Oue,data:{}};function oR(t){return t==="x"?"y":"x"}function Fue(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,g=f===void 0?!0:f,v=n.tetherOffset,b=v===void 0?0:v,_=Ji(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),x=Rn(e.placement),F=Ei(e.placement),W=!F,I=Mc(x),te=oR(I),B=e.modifiersData.popperOffsets,A=e.rects.reference,E=e.rects.popper,D=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,R=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(B){if(s){var S,Rt=I==="y"?$t:Zt,hn=I==="y"?En:ln,Cn=I==="y"?"height":"width",Lt=B[I],Mt=Lt+_[Rt],mr=Lt-_[hn],Sr=g?-E[Cn]/2:0,Gs=F===Wo?A[Cn]:E[Cn],fn=F===Wo?-E[Cn]:-A[Cn],Tt=e.elements.arrow,Ii=g&&Tt?Rc(Tt):{width:0,height:0},kn=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Cg(),Ci=kn[Rt],Qr=kn[hn],Ti=kc(0,A[Cn],Ii[Cn]),ta=W?A[Cn]/2-Sr-Ti-Ci-R.mainAxis:Gs-Ti-Ci-R.mainAxis,Ar=W?-A[Cn]/2+Sr+Ti+Qr+R.mainAxis:fn+Ti+Qr+R.mainAxis,Di=e.elements.arrow&&Xi(e.elements.arrow),na=Di?I==="y"?Di.clientTop||0:Di.clientLeft||0:0,qs=(S=M?.[I])!=null?S:0,ra=Lt+ta-qs-na,ia=Lt+Ar-qs,sa=kc(g?xc(Mt,ra):Mt,Lt,g?Zi(mr,ia):mr);B[I]=sa,k[I]=sa-Lt}if(a){var oa,Yc=I==="x"?$t:Zt,pl=I==="x"?En:ln,Kr=B[te],Yr=te==="y"?"height":"width",aa=Kr+_[Yc],Qs=Kr-_[pl],Ks=[$t,Zt].indexOf(x)!==-1,la=(oa=M?.[te])!=null?oa:0,ca=Ks?aa:Kr-A[Yr]-E[Yr]-la+R.altAxis,Gt=Ks?Kr+A[Yr]+E[Yr]-la-R.altAxis:Qs,Xt=g&&Ks?dj(ca,Kr,Gt):kc(g?ca:aa,Kr,g?Gt:Qs);B[te]=Xt,k[te]=Xt-Kr}e.modifiersData[r]=k}}var Ij={name:"preventOverflow",enabled:!0,phase:"main",fn:Fue,requiresIfExists:["offset"]};function aR(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function lR(t){return t===At(t)||!bn(t)?Nc(t):aR(t)}function Lue(t){var e=t.getBoundingClientRect(),n=$o(e.width)/t.offsetWidth||1,r=$o(e.height)/t.offsetHeight||1;return n!==1||r!==1}function cR(t,e,n){n===void 0&&(n=!1);var r=bn(e),i=bn(e)&&Lue(e),s=zn(e),o=wi(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((xn(e)!=="body"||Oc(s))&&(a=lR(e)),bn(e)?(l=wi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Pc(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Vue(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function uR(t){var e=Vue(t);return cj.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function dR(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function hR(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Cj={placement:"bottom",modifiers:[],strategy:"absolute"};function Tj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Dj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?Cj:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cj,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,g={state:u,setOptions:function(x){var F=typeof x=="function"?x(u.options):x;b(),u.options=Object.assign({},s,u.options,F),u.scrollParents={reference:_i(a)?ol(a):a.contextElement?ol(a.contextElement):[],popper:ol(l)};var W=uR(hR([].concat(r,u.options.modifiers)));return u.orderedModifiers=W.filter(function(I){return I.enabled}),v(),g.update()},forceUpdate:function(){if(!f){var x=u.elements,F=x.reference,W=x.popper;if(Tj(F,W)){u.rects={reference:cR(F,Xi(W),u.options.strategy==="fixed"),popper:Rc(W)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var I=0;I<u.orderedModifiers.length;I++){if(u.reset===!0){u.reset=!1,I=-1;continue}var te=u.orderedModifiers[I],B=te.fn,A=te.options,E=A===void 0?{}:A,D=te.name;typeof B=="function"&&(u=B({state:u,options:E,name:D,instance:g})||u)}}}},update:dR(function(){return new Promise(function(_){g.forceUpdate(),_(u)})}),destroy:function(){b(),f=!0}};if(!Tj(a,l))return g;g.setOptions(c).then(function(_){!f&&c.onFirstUpdate&&c.onFirstUpdate(_)});function v(){u.orderedModifiers.forEach(function(_){var x=_.name,F=_.options,W=F===void 0?{}:F,I=_.effect;if(typeof I=="function"){var te=I({state:u,name:x,instance:g,options:W}),B=function(){};h.push(te||B)}})}function b(){h.forEach(function(_){return _()}),h=[]}return g}}var Uue=[gj,bj,pj,Eg,Ej,vj,Ij,hj,wj],fR=Dj({defaultModifiers:Uue});var jue="tippy-box",Fj="tippy-content",Bue="tippy-backdrop",Lj="tippy-arrow",Vj="tippy-svg-arrow",Fc={passive:!0,capture:!0},Uj=function(){return document.body};function pR(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function wR(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function jj(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Sj(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Hue(t){return t.split(/\s+/).filter(Boolean)}function eh(t){return[].concat(t)}function Aj(t,e){t.indexOf(e)===-1&&t.push(e)}function Wue(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function $ue(t){return t.split("-")[0]}function Bw(t){return[].slice.call(t)}function xj(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Ag(){return document.createElement("div")}function Hw(t){return["Element","Fragment"].some(function(e){return wR(t,e)})}function zue(t){return wR(t,"NodeList")}function Gue(t){return wR(t,"MouseEvent")}function que(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Que(t){return Hw(t)?[t]:zue(t)?Bw(t):Array.isArray(t)?t:Bw(document.querySelectorAll(t))}function gR(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Rj(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Kue(t){var e,n=eh(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Yue(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=$ue(o.placement),u=o.modifiersData.offset;if(!u)return!0;var h=c==="bottom"?u.top.y:0,f=c==="top"?u.bottom.y:0,g=c==="right"?u.left.x:0,v=c==="left"?u.right.x:0,b=s.top-r+h>l,_=r-s.bottom-f>l,x=s.left-n+g>l,F=n-s.right-v>l;return b||_||x||F})}function mR(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Mj(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Fs={isTouch:!1},kj=0;function Zue(){Fs.isTouch||(Fs.isTouch=!0,window.performance&&document.addEventListener("mousemove",Bj))}function Bj(){var t=performance.now();t-kj<20&&(Fs.isTouch=!1,document.removeEventListener("mousemove",Bj)),kj=t}function Xue(){var t=document.activeElement;if(que(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Jue(){document.addEventListener("touchstart",Zue,Fc),window.addEventListener("blur",Xue)}var ede=typeof window<"u"&&typeof document<"u",tde=ede?!!window.msCrypto:!1;var nde={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},rde={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},es=Object.assign({appendTo:Uj,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},nde,rde),ide=Object.keys(es),sde=function(e){var n=Object.keys(e);n.forEach(function(r){es[r]=e[r]})};function Hj(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=es[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function ode(t,e){var n=e?Object.keys(Hj(Object.assign({},es,{plugins:e}))):ide,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function Nj(t,e){var n=Object.assign({},e,{content:jj(e.content,[t])},e.ignoreAttributes?{}:ode(t,e.plugins));return n.aria=Object.assign({},es.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var ade=function(){return"innerHTML"};function yR(t,e){t[ade()]=e}function Pj(t){var e=Ag();return t===!0?e.className=Lj:(e.className=Vj,Hw(t)?e.appendChild(t):yR(e,t)),e}function Oj(t,e){Hw(e.content)?(yR(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?yR(t,e.content):t.textContent=e.content)}function _R(t){var e=t.firstElementChild,n=Bw(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Fj)}),arrow:n.find(function(r){return r.classList.contains(Lj)||r.classList.contains(Vj)}),backdrop:n.find(function(r){return r.classList.contains(Bue)})}}function Wj(t){var e=Ag(),n=Ag();n.className=jue,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ag();r.className=Fj,r.setAttribute("data-state","hidden"),Oj(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=_R(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Oj(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(Pj(o.arrow))):l.appendChild(Pj(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}Wj.$$tippy=!0;var lde=1,jw=[],vR=[];function cde(t,e){var n=Nj(t,Object.assign({},es,Hj(xj(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,u,h,f,g=[],v=Sj(ra,n.interactiveDebounce),b,_=lde++,x=null,F=Wue(n.plugins),W={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},I={id:_,reference:t,popper:Ag(),popperInstance:x,props:n,state:W,plugins:F,clearDelayTimeouts:ca,setProps:Gt,setContent:Xt,show:Zc,hide:em,hideWithInteractivity:tm,enable:Ks,disable:la,unmount:WE,destroy:gl};if(!n.render)return I;var te=n.render(I),B=te.popper,A=te.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+I.id,I.popper=B,t._tippy=I,B._tippy=I;var E=F.map(function(z){return z.fn(I)}),D=t.hasAttribute("aria-expanded");return Di(),Sr(),Lt(),Mt("onCreate",[I]),n.showOnCreate&&aa(),B.addEventListener("mouseenter",function(){I.props.interactive&&I.state.isVisible&&I.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){I.props.interactive&&I.props.trigger.indexOf("mouseenter")>=0&&Rt().addEventListener("mousemove",v)}),I;function R(){var z=I.props.touch;return Array.isArray(z)?z:[z,0]}function M(){return R()[0]==="hold"}function k(){var z;return!!((z=I.props.render)!=null&&z.$$tippy)}function S(){return b||t}function Rt(){var z=S().parentNode;return z?Kue(z):document}function hn(){return _R(B)}function Cn(z){return I.state.isMounted&&!I.state.isVisible||Fs.isTouch||u&&u.type==="focus"?0:pR(I.props.delay,z?0:1,es.delay)}function Lt(z){z===void 0&&(z=!1),B.style.pointerEvents=I.props.interactive&&!z?"":"none",B.style.zIndex=""+I.props.zIndex}function Mt(z,oe,ge){if(ge===void 0&&(ge=!0),E.forEach(function(We){We[z]&&We[z].apply(We,oe)}),ge){var rt;(rt=I.props)[z].apply(rt,oe)}}function mr(){var z=I.props.aria;if(z.content){var oe="aria-"+z.content,ge=B.id,rt=eh(I.props.triggerTarget||t);rt.forEach(function(We){var pn=We.getAttribute(oe);if(I.state.isVisible)We.setAttribute(oe,pn?pn+" "+ge:ge);else{var rr=pn&&pn.replace(ge,"").trim();rr?We.setAttribute(oe,rr):We.removeAttribute(oe)}})}}function Sr(){if(!(D||!I.props.aria.expanded)){var z=eh(I.props.triggerTarget||t);z.forEach(function(oe){I.props.interactive?oe.setAttribute("aria-expanded",I.state.isVisible&&oe===S()?"true":"false"):oe.removeAttribute("aria-expanded")})}}function Gs(){Rt().removeEventListener("mousemove",v),jw=jw.filter(function(z){return z!==v})}function fn(z){if(!(Fs.isTouch&&(l||z.type==="mousedown"))){var oe=z.composedPath&&z.composedPath()[0]||z.target;if(!(I.props.interactive&&Mj(B,oe))){if(eh(I.props.triggerTarget||t).some(function(ge){return Mj(ge,oe)})){if(Fs.isTouch||I.state.isVisible&&I.props.trigger.indexOf("click")>=0)return}else Mt("onClickOutside",[I,z]);I.props.hideOnClick===!0&&(I.clearDelayTimeouts(),I.hide(),a=!0,setTimeout(function(){a=!1}),I.state.isMounted||Ci())}}}function Tt(){l=!0}function Ii(){l=!1}function kn(){var z=Rt();z.addEventListener("mousedown",fn,!0),z.addEventListener("touchend",fn,Fc),z.addEventListener("touchstart",Ii,Fc),z.addEventListener("touchmove",Tt,Fc)}function Ci(){var z=Rt();z.removeEventListener("mousedown",fn,!0),z.removeEventListener("touchend",fn,Fc),z.removeEventListener("touchstart",Ii,Fc),z.removeEventListener("touchmove",Tt,Fc)}function Qr(z,oe){ta(z,function(){!I.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&oe()})}function Ti(z,oe){ta(z,oe)}function ta(z,oe){var ge=hn().box;function rt(We){We.target===ge&&(mR(ge,"remove",rt),oe())}if(z===0)return oe();mR(ge,"remove",h),mR(ge,"add",rt),h=rt}function Ar(z,oe,ge){ge===void 0&&(ge=!1);var rt=eh(I.props.triggerTarget||t);rt.forEach(function(We){We.addEventListener(z,oe,ge),g.push({node:We,eventType:z,handler:oe,options:ge})})}function Di(){M()&&(Ar("touchstart",qs,{passive:!0}),Ar("touchend",ia,{passive:!0})),Hue(I.props.trigger).forEach(function(z){if(z!=="manual")switch(Ar(z,qs),z){case"mouseenter":Ar("mouseleave",ia);break;case"focus":Ar(tde?"focusout":"blur",sa);break;case"focusin":Ar("focusout",sa);break}})}function na(){g.forEach(function(z){var oe=z.node,ge=z.eventType,rt=z.handler,We=z.options;oe.removeEventListener(ge,rt,We)}),g=[]}function qs(z){var oe,ge=!1;if(!(!I.state.isEnabled||oa(z)||a)){var rt=((oe=u)==null?void 0:oe.type)==="focus";u=z,b=z.currentTarget,Sr(),!I.state.isVisible&&Gue(z)&&jw.forEach(function(We){return We(z)}),z.type==="click"&&(I.props.trigger.indexOf("mouseenter")<0||o)&&I.props.hideOnClick!==!1&&I.state.isVisible?ge=!0:aa(z),z.type==="click"&&(o=!ge),ge&&!rt&&Qs(z)}}function ra(z){var oe=z.target,ge=S().contains(oe)||B.contains(oe);if(!(z.type==="mousemove"&&ge)){var rt=Yr().concat(B).map(function(We){var pn,rr=We._tippy,Ys=(pn=rr.popperInstance)==null?void 0:pn.state;return Ys?{popperRect:We.getBoundingClientRect(),popperState:Ys,props:n}:null}).filter(Boolean);Yue(rt,z)&&(Gs(),Qs(z))}}function ia(z){var oe=oa(z)||I.props.trigger.indexOf("click")>=0&&o;if(!oe){if(I.props.interactive){I.hideWithInteractivity(z);return}Qs(z)}}function sa(z){I.props.trigger.indexOf("focusin")<0&&z.target!==S()||I.props.interactive&&z.relatedTarget&&B.contains(z.relatedTarget)||Qs(z)}function oa(z){return Fs.isTouch?M()!==z.type.indexOf("touch")>=0:!1}function Yc(){pl();var z=I.props,oe=z.popperOptions,ge=z.placement,rt=z.offset,We=z.getReferenceClientRect,pn=z.moveTransition,rr=k()?_R(B).arrow:null,Ys=We?{getBoundingClientRect:We,contextElement:We.contextElement||S()}:t,ua={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Zr){var Zs=Zr.state;if(k()){var Xc=hn(),Jc=Xc.box;["placement","reference-hidden","escaped"].forEach(function(ns){ns==="placement"?Jc.setAttribute("data-placement",Zs.placement):Zs.attributes.popper["data-popper-"+ns]?Jc.setAttribute("data-"+ns,""):Jc.removeAttribute("data-"+ns)}),Zs.attributes.popper={}}}},Si=[{name:"offset",options:{offset:rt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!pn}},ua];k()&&rr&&Si.push({name:"arrow",options:{element:rr,padding:3}}),Si.push.apply(Si,oe?.modifiers||[]),I.popperInstance=fR(Ys,B,Object.assign({},oe,{placement:ge,onFirstUpdate:f,modifiers:Si}))}function pl(){I.popperInstance&&(I.popperInstance.destroy(),I.popperInstance=null)}function Kr(){var z=I.props.appendTo,oe,ge=S();I.props.interactive&&z===Uj||z==="parent"?oe=ge.parentNode:oe=jj(z,[ge]),oe.contains(B)||oe.appendChild(B),I.state.isMounted=!0,Yc()}function Yr(){return Bw(B.querySelectorAll("[data-tippy-root]"))}function aa(z){I.clearDelayTimeouts(),z&&Mt("onTrigger",[I,z]),kn();var oe=Cn(!0),ge=R(),rt=ge[0],We=ge[1];Fs.isTouch&&rt==="hold"&&We&&(oe=We),oe?r=setTimeout(function(){I.show()},oe):I.show()}function Qs(z){if(I.clearDelayTimeouts(),Mt("onUntrigger",[I,z]),!I.state.isVisible){Ci();return}if(!(I.props.trigger.indexOf("mouseenter")>=0&&I.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(z.type)>=0&&o)){var oe=Cn(!1);oe?i=setTimeout(function(){I.state.isVisible&&I.hide()},oe):s=requestAnimationFrame(function(){I.hide()})}}function Ks(){I.state.isEnabled=!0}function la(){I.hide(),I.state.isEnabled=!1}function ca(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Gt(z){if(!I.state.isDestroyed){Mt("onBeforeUpdate",[I,z]),na();var oe=I.props,ge=Nj(t,Object.assign({},oe,xj(z),{ignoreAttributes:!0}));I.props=ge,Di(),oe.interactiveDebounce!==ge.interactiveDebounce&&(Gs(),v=Sj(ra,ge.interactiveDebounce)),oe.triggerTarget&&!ge.triggerTarget?eh(oe.triggerTarget).forEach(function(rt){rt.removeAttribute("aria-expanded")}):ge.triggerTarget&&t.removeAttribute("aria-expanded"),Sr(),Lt(),A&&A(oe,ge),I.popperInstance&&(Yc(),Yr().forEach(function(rt){requestAnimationFrame(rt._tippy.popperInstance.forceUpdate)})),Mt("onAfterUpdate",[I,z])}}function Xt(z){I.setProps({content:z})}function Zc(){var z=I.state.isVisible,oe=I.state.isDestroyed,ge=!I.state.isEnabled,rt=Fs.isTouch&&!I.props.touch,We=pR(I.props.duration,0,es.duration);if(!(z||oe||ge||rt)&&!S().hasAttribute("disabled")&&(Mt("onShow",[I],!1),I.props.onShow(I)!==!1)){if(I.state.isVisible=!0,k()&&(B.style.visibility="visible"),Lt(),kn(),I.state.isMounted||(B.style.transition="none"),k()){var pn=hn(),rr=pn.box,Ys=pn.content;gR([rr,Ys],0)}f=function(){var Si;if(!(!I.state.isVisible||c)){if(c=!0,B.offsetHeight,B.style.transition=I.props.moveTransition,k()&&I.props.animation){var ml=hn(),Zr=ml.box,Zs=ml.content;gR([Zr,Zs],We),Rj([Zr,Zs],"visible")}mr(),Sr(),Aj(vR,I),(Si=I.popperInstance)==null||Si.forceUpdate(),Mt("onMount",[I]),I.props.animation&&k()&&Ti(We,function(){I.state.isShown=!0,Mt("onShown",[I])})}},Kr()}}function em(){var z=!I.state.isVisible,oe=I.state.isDestroyed,ge=!I.state.isEnabled,rt=pR(I.props.duration,1,es.duration);if(!(z||oe||ge)&&(Mt("onHide",[I],!1),I.props.onHide(I)!==!1)){if(I.state.isVisible=!1,I.state.isShown=!1,c=!1,o=!1,k()&&(B.style.visibility="hidden"),Gs(),Ci(),Lt(!0),k()){var We=hn(),pn=We.box,rr=We.content;I.props.animation&&(gR([pn,rr],rt),Rj([pn,rr],"hidden"))}mr(),Sr(),I.props.animation?k()&&Qr(rt,I.unmount):I.unmount()}}function tm(z){Rt().addEventListener("mousemove",v),Aj(jw,v),v(z)}function WE(){I.state.isVisible&&I.hide(),I.state.isMounted&&(pl(),Yr().forEach(function(z){z._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),vR=vR.filter(function(z){return z!==I}),I.state.isMounted=!1,Mt("onHidden",[I]))}function gl(){I.state.isDestroyed||(I.clearDelayTimeouts(),I.unmount(),na(),delete t._tippy,I.state.isDestroyed=!0,Mt("onDestroy",[I]))}}function xg(t,e){e===void 0&&(e={});var n=es.plugins.concat(e.plugins||[]);Jue();var r=Object.assign({},e,{plugins:n}),i=Que(t);if(0)var s,o;var a=i.reduce(function(l,c){var u=c&&cde(c,r);return u&&l.push(u),l},[]);return Hw(t)?a[0]:a}xg.defaultProps=es;xg.setDefaultProps=sde;xg.currentInput=Fs;var hke=Object.assign({},Eg,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});xg.setDefaultProps({render:Wj});var $j=xg;var ude=["tooltipTemplate"];function dde(t,e){if(t&1){let n=Je();C(0,"div",6)(1,"button",7),Y("click",function(i){let s=Q(n).workoutId;return H().startWorkout(s),K(i.stopPropagation())}),$(2,"i",8),O(3," Start "),T(),$(4,"hr"),C(5,"button",9),Y("click",function(i){let s=Q(n).workoutId;return H().deleteWorkoutFromDate(s),K(i.stopPropagation())}),$(6,"i",10),O(7," Delete "),T()()}}function hde(t,e){if(t&1&&(C(0,"option",23),O(1),T()),t&2){let n=e.$implicit;G("ngValue",n),P(),Pe(n.name)}}function fde(t,e){if(t&1){let n=Je();C(0,"div",11)(1,"div",12)(2,"h2",13),O(3),nf(4,"date"),T(),C(5,"select",14),Vn("ngModelChange",function(i){Q(n);let s=H();return Zn(s.selectedWorkout,i)||(s.selectedWorkout=i),K(i)}),de(6,hde,2,2,"option",15),T(),C(7,"input",16),Vn("ngModelChange",function(i){Q(n);let s=H();return Zn(s.selectedTime,i)||(s.selectedTime=i),K(i)}),T(),C(8,"div",17)(9,"button",18),Y("click",function(){Q(n);let i=H();return K(i.addWorkoutToDate())}),O(10," Add Workout "),T(),C(11,"button",19),Y("click",function(){Q(n);let i=H();return K(i.cancelSelection())}),O(12," Cancel "),T()(),C(13,"button",20),Y("click",function(){Q(n);let i=H();return K(i.cancelSelection())}),$(14,"i",21),T()(),C(15,"div",22),Y("click",function(){Q(n);let i=H();return K(i.cancelSelection())}),T()()}if(t&2){let n=H();P(3),_e("Add Workout to ",rf(4,4,n.selectedDate,"fullDate"),""),P(2),Ln("ngModel",n.selectedWorkout),P(),G("ngForOf",n.workouts),P(),Ln("ngModel",n.selectedTime)}}var Ww=class t{constructor(e,n,r,i){this.auth=e;this.workoutService=n;this.router=r;this.toastr=i;this.calendarOptions={plugins:[Z8,nj],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},editable:!0,dateClick:this.handleDateClick.bind(this),eventClick:this.handleEventClick.bind(this),events:this.loadScheduledWorkouts.bind(this),eventDidMount:this.handleEventDidMount.bind(this),firstDay:1}}tooltipTemplate;currentDate=new Date;workouts=[];scheduledWorkouts={};finishedWorkouts=[];selectedDate=null;selectedWorkout=null;selectedTime="";calendarOptions;ngOnInit(){this.loadWorkouts(),this.loadFinishedWorkouts()}loadWorkouts(){return w(this,null,function*(){let e=this.auth.currentUser;e&&(this.workouts=yield this.workoutService.getUserWorkouts(e.uid))})}loadScheduledWorkouts(e){return w(this,null,function*(){let n=this.auth.currentUser;if(n){let r=[],i=gi(),s=tt(i,`users/${n.uid}/workoutInstances`);try{let o=yield Kt(s);if(o.exists()){let a=o.val();this.scheduledWorkouts={};for(let l in a){let c=a[l],u;if(c.status==="completed"&&c.completedAt)u=new Date(c.completedAt);else if(c.scheduledDate&&typeof c.scheduledDate=="string")u=new Date(c.scheduledDate+"T00:00:00Z");else{console.warn("Invalid date format for workout instance:",c);continue}u.setUTCHours(0,0,0,0);let h=u.toISOString().split("T")[0];this.scheduledWorkouts[h]||(this.scheduledWorkouts[h]=[]);let f={title:this.getEventTitle(c),date:h,extendedProps:{id:l,scheduledTime:c.scheduledTime,status:c.status},className:this.getEventClass(c.status)};r.push(f),this.scheduledWorkouts[h].push(c)}}return r}catch(o){this.toastr.error("Error loading scheduled workouts: "+o.message)}}return[]})}getEventTitle(e){return`${e.name}`}getEventClass(e){return e==="completed"?"fc-event-completed":e==="missed"?"fc-event-missed":"fc-event-scheduled"}markWorkoutAsMissed(e){return w(this,null,function*(){let n=this.auth.currentUser;if(n){let r=gi(),i=tt(r,`users/${n.uid}/workoutInstances/${e.id}`);yield pi(i,he(q({},e),{status:"missed"}))}})}loadFinishedWorkouts(){return w(this,null,function*(){let e=this.auth.currentUser;if(e){let n=gi(),r=tt(n,`users/${e.uid}/workoutInstances`);try{let i=yield Kt(r);if(i.exists()){let s=i.val();this.finishedWorkouts=[];for(let o in s){let a=s[o];a.status==="completed"&&this.finishedWorkouts.push({id:o,name:a.workoutName,scheduledDate:new Date(a.completedAt).toISOString().split("T")[0],scheduledTime:a.scheduledTime,exercises:a.exercises,status:"completed"})}}}catch(i){this.toastr.error("Error loading finished workouts: "+i.message)}}})}handleDateClick(e){if(this.isPastDay(e.date))return;let n=e.date.toISOString().split("T")[0];if((this.scheduledWorkouts[n]||[]).length>0){this.toastr.warning("A workout is already scheduled for this date. Please choose another date.");return}this.selectedDate=e.date,this.selectedWorkout=null,this.selectedTime=""}handleEventClick(e){}handleEventDidMount(e){let n=e.event.extendedProps.id,r=new Date(e.event.start);if(this.isPastDay(r))return;let i=this.tooltipTemplate.createEmbeddedView({workoutId:n}),s=$j(e.el,{content:i.rootNodes[0],allowHTML:!0,interactive:!0,arrow:!0,trigger:"mouseenter"})}addWorkoutToDate(){return w(this,null,function*(){if(this.selectedDate&&this.selectedWorkout){let e=new Date(this.selectedDate);e.setHours(0,0,0,0);let n=e.toLocaleDateString("en-CA"),r=this.auth.currentUser;if((yield this.loadScheduledWorkouts({start:e,end:e})).some(a=>a.date===n)){this.toastr.warning("A workout is already scheduled for this date. Please choose another date.");return}let o=he(q({},this.selectedWorkout),{scheduledTime:this.selectedTime,scheduledDate:n,status:"scheduled"});if(r)try{let a=gi(),l=pc(tt(a,`users/${r.uid}/workoutInstances`));yield pi(l,he(q({},o),{id:l.key})),this.selectedWorkout=null,this.cancelSelection(),this.calendarOptions.events=this.loadScheduledWorkouts.bind(this)}catch(a){console.error("Error adding workout: ",a),this.toastr.error("Failed to add workout: "+a.message)}else this.toastr.error("User not authenticated.")}else this.toastr.warning("Please select a date and workout before adding.")})}deleteWorkoutFromDate(e){return w(this,null,function*(){let n=this.auth.currentUser;if(n){let r=gi(),i=tt(r,`users/${n.uid}/workoutInstances/${e}`);yield Tp(i),this.calendarOptions.events=this.loadScheduledWorkouts.bind(this)}})}startWorkout(e){this.router.navigate(["/workouts"],{queryParams:{workoutId:e.id}})}cancelSelection(){this.selectedDate=null,this.selectedWorkout=null,this.selectedTime=""}isPastDay(e){if(!e)return!1;let n=new Date;return n.setHours(0,0,0,0),e.setHours(0,0,0,0),e.getTime()<n.getTime()}static \u0275fac=function(n){return new(n||t)(U(ze),U(an),U(rn),U(Wt))};static \u0275cmp=ve({type:t,selectors:[["app-calendar"]],viewQuery:function(n,r){if(n&1&&Lu(ude,7),n&2){let i;Pt(i=Ot())&&(r.tooltipTemplate=i.first)}},standalone:!0,features:[Ce],decls:6,vars:2,consts:[["calendar",""],["tooltipTemplate",""],[1,"container","calendar","mx-auto","px-4","py-4","mb-32","lg:mb-0"],[1,"fc",3,"options"],[1,"z-50"],["class","fixed inset-0 z-50 flex items-center justify-center p-8",4,"ngIf"],[1,"fc-tooltip"],[1,"start-button","tooltip-button",3,"click"],[1,"fa-solid","fa-play"],[1,"delete-button","tooltip-button",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-8"],[1,"bg-gray-800","text-white","rounded-xl","shadow-lg","p-8","relative","max-w-4xl","w-full","z-50"],[1,"text-2xl","font-bold","mb-4"],[1,"w-full","p-2","rounded-md","bg-gray-700","text-white",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","time",1,"w-full","mt-4","p-2","rounded-md","bg-gray-700","text-white",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-4","mt-4"],[1,"bg-green-600","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"bg-gray-400/50","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"absolute","top-4","right-4","text-white","text-2xl",3,"click"],[1,"fa-solid","fa-x"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"],[3,"ngValue"]],template:function(n,r){n&1&&(C(0,"div",2)(1,"full-calendar",3,0),de(3,dde,8,0,"ng-template",4,1,ey),T(),de(5,fde,16,7,"div",5),T()),n&2&&(P(),G("options",r.calendarOptions),P(4),G("ngIf",r.selectedDate))},dependencies:[$e,Xn,ot,Fa,An,u0,d0,vi,xd,Cs,qi,Nw,oj],styles:['.fc[_ngcontent-%COMP%]{--fc-bg-color: #1f2937;--fc-border-color: #374151;--fc-text-color: #ffffff;--fc-hover-bg-color: #374151;--fc-font-bold: 700;--fc-font-size-lg: 1.125rem;--fc-font-size-md: 1rem;--fc-font-color-muted: #9ca3af;background-color:var(--fc-bg-color);border:none!important;border-radius:.5rem;padding:2.5rem}@media (max-width: 640px){.fc[_ngcontent-%COMP%]{padding:1rem}}.fc[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none!important}@media (max-width: 768px){.fc[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .fc[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:2rem!important}}.fc-toolbar[_ngcontent-%COMP%]{padding:.5rem;display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}@media (max-width: 768px){.fc-toolbar[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:1rem}.fc-toolbar-chunk[_ngcontent-%COMP%]:last-child{display:none}}.fc-toolbar-title[_ngcontent-%COMP%]{font-size:var(--fc-font-size-lg);font-weight:var(--fc-font-bold);color:var(--fc-text-color)}@media (max-width: 768px){.fc-toolbar-title[_ngcontent-%COMP%]{font-size:medium!important}}.fc-view-harness[_ngcontent-%COMP%]{height:100vh!important}.fc-button[_ngcontent-%COMP%]{background-color:var(--fc-bg-color);border:2px #9ca3af solid!important;color:#9ca3af;padding:.5rem 1rem;margin:0 .25rem;font-size:var(--fc-font-size-md);text-transform:capitalize!important}.fc-button[_ngcontent-%COMP%]:hover, .fc-button-active[_ngcontent-%COMP%]{background-color:var(--fc-hover-bg-color)!important;color:#fff}.fc-prev-button[_ngcontent-%COMP%], .fc-next-button[_ngcontent-%COMP%]{display:flex!important;justify-content:center;align-items:center;margin:.25rem!important;width:2.5rem;height:2.5rem;border-radius:50%!important}.fc-today-button[_ngcontent-%COMP%]{border-radius:2.5rem!important;height:2.5rem!important}.fc-dayGridMonth-button[_ngcontent-%COMP%]{height:2.5rem;border-start-start-radius:2.5rem!important;border-end-start-radius:2.5rem!important}.fc-dayGridDay-button[_ngcontent-%COMP%]{height:2.5rem;border-start-end-radius:2.5rem!important;border-end-end-radius:2.5rem!important}.fc-scroller[_ngcontent-%COMP%]{overflow:visible!important}.fc-col-header[_ngcontent-%COMP%]{width:100%}.fc-scrollgrid[_ngcontent-%COMP%]{background-color:transparent;border-radius:.5rem;border:none!important}@media (max-width: 768px){.fc-scrollgrid-sync-table[_ngcontent-%COMP%]{width:100%}}.fc-event[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;padding:.5rem;color:#fff;border:none;text-transform:capitalize;border-radius:.5rem;text-align:center;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;transition:scale .3s ease}@media (max-width: 768px){.fc-event[_ngcontent-%COMP%]{display:inline-block;width:.75rem;height:.75rem;border-radius:50%;margin:.125rem;color:transparent;text-align:center;transition:transform .3s ease}.fc-event-title[_ngcontent-%COMP%]{display:none!important}.fc-event-scheduled[_ngcontent-%COMP%]{background-color:#fbbf24!important}.fc-event-completed[_ngcontent-%COMP%]{background-color:#16a34a!important}.fc-event-missed[_ngcontent-%COMP%]{background-color:#ef4444!important}.fc-event[_ngcontent-%COMP%]:hover{transform:scale(1.2)}}.fc-event-scheduled[_ngcontent-%COMP%]{background-color:#fbbf24!important}.fc-event-scheduled[_ngcontent-%COMP%]:after{content:"\\f017";font-family:"Font Awesome 6 Free"}.fc-event-scheduled[_ngcontent-%COMP%]:hover{scale:1.1}.fc-event-completed[_ngcontent-%COMP%]{background-color:#16a34a!important}.fc-event-completed[_ngcontent-%COMP%]:after{content:"\\f058";font-family:"Font Awesome 6 Free"}.fc-event-completed[_ngcontent-%COMP%]:hover{scale:none}.fc-event-missed[_ngcontent-%COMP%]{background-color:#ef4444!important}.fc-event-missed[_ngcontent-%COMP%]:after{content:"\\f057";font-family:"Font Awesome 6 Free"}.fc-event-missed[_ngcontent-%COMP%]:hover{scale:none}.fc-tooltip[_ngcontent-%COMP%]{background-color:#1f2937cc!important;color:#fff!important;border-radius:4px;padding:1rem;border:1px solid white;box-shadow:2px 2px 6px -4px #999;cursor:default;font-size:14px;display:flex;flex-direction:column;justify-content:start;align-items:start;text-align:start;transition:.15s ease all}.fc-day[_ngcontent-%COMP%]{cursor:pointer;background-color:transparent;border:none!important;color:var(--fc-text-color);text-align:center;padding:1rem!important;border-radius:.5rem;aspect-ratio:1/1!important}@media (max-width: 640px){.fc-day[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important;padding:.5rem!important}}.fc-day-number[_ngcontent-%COMP%]{font-size:var(--fc-font-size-md);font-weight:var(--fc-font-bold);color:var(--fc-text-color)}.fc-day-today[_ngcontent-%COMP%]{background-color:#374151!important}.fc-day-sun[_ngcontent-%COMP%]{color:#ef4444!important}.fc-day-past[_ngcontent-%COMP%]{opacity:.5;cursor:default}']})};var pde=["chart"],zj=(()=>{let e=class e{constructor(){this.autoUpdateSeries=!0,this.chartReady=new je,this.chartInstance=ii(null),this.ngZone=X(xe),this.isBrowser=TF(X(ti))}ngOnChanges(r){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{E1.schedule(()=>this.hydrate(r))})}ngOnDestroy(){this.destroy()}hydrate(r){if(this.autoUpdateSeries&&Object.keys(r).filter(s=>s!=="series").length===0){this.updateSeries(this.series,!0);return}this.createElement()}createElement(){return w(this,null,function*(){let{default:r}=yield import("./chunk-TA3LP53K.js");window.ApexCharts||=r;let i={};this.annotations&&(i.annotations=this.annotations),this.chart&&(i.chart=this.chart),this.colors&&(i.colors=this.colors),this.dataLabels&&(i.dataLabels=this.dataLabels),this.series&&(i.series=this.series),this.stroke&&(i.stroke=this.stroke),this.labels&&(i.labels=this.labels),this.legend&&(i.legend=this.legend),this.fill&&(i.fill=this.fill),this.tooltip&&(i.tooltip=this.tooltip),this.plotOptions&&(i.plotOptions=this.plotOptions),this.responsive&&(i.responsive=this.responsive),this.markers&&(i.markers=this.markers),this.noData&&(i.noData=this.noData),this.xaxis&&(i.xaxis=this.xaxis),this.yaxis&&(i.yaxis=this.yaxis),this.forecastDataPoints&&(i.forecastDataPoints=this.forecastDataPoints),this.grid&&(i.grid=this.grid),this.states&&(i.states=this.states),this.title&&(i.title=this.title),this.subtitle&&(i.subtitle=this.subtitle),this.theme&&(i.theme=this.theme),this.destroy();let s=this.ngZone.runOutsideAngular(()=>new r(this.chartElement.nativeElement,i));this.chartInstance.set(s),this.render(),this.chartReady.emit({chartObj:s})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(r,i,s,o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(r,i,s,o))}updateSeries(r,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(r,i))}appendSeries(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(r,i))}appendData(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(r))}highlightSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(r))}toggleSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(r))}showSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(r))}hideSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(r))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(r,i))}toggleDataPointSelection(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(r,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(r))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(r,i,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(r,i,s))}addYaxisAnnotation(r,i,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(r,i,s))}addPointAnnotation(r,i,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(r,i,s))}removeAnnotation(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(r,i))}clearAnnotations(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(r))}dataURI(r){return this.chartInstance()?.dataURI(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["apx-chart"]],viewQuery:function(i,s){if(i&1&&Lu(pde,7),i&2){let o;Pt(o=Ot())&&(s.chartElement=o.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},outputs:{chartReady:"chartReady"},standalone:!0,features:[tn,Ce],decls:2,vars:0,consts:[["chart",""]],template:function(i,s){i&1&&$(0,"div",null,0)},encapsulation:2,changeDetection:0});let t=e;return t})();var Gj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yn({type:e}),e.\u0275inj=Kn({});let t=e;return t})();var $w=class t{constructor(e){this.workoutService=e}userId=null;chartReady=new je;mixedChartOptions={};ngOnInit(){return w(this,null,function*(){yield this.loadMixedChartData(),this.chartReady.emit()})}loadMixedChartData(){return w(this,null,function*(){let e=this.getCurrentWeekDates(),n=yield this.workoutService.getFinishedWorkouts(this.userId),r=e.map(s=>{let o=n.find(a=>{let l=new Date(a.completedAt);return l.getFullYear()===s.getFullYear()&&l.getMonth()===s.getMonth()&&l.getDate()===s.getDate()});return o?{timeSpent:Math.round(o.timeSpent/60),name:o.name}:{timeSpent:0,name:"No Workout"}}),i=e.map(s=>{let o=n.find(a=>new Date(a.completedAt).toDateString()===s.toDateString());return o?Math.round(o.totalCalories):0});this.mixedChartOptions={chart:{height:350,type:"line",zoom:{enabled:!1}},series:[{name:"Time Spent (minutes)",type:"area",data:r.map(s=>s.timeSpent??0)},{name:"Calories Burned (kcal)",type:"line",data:i.map(s=>s??0)}],fill:{colors:["#16a34a","#ef4444"]},xaxis:{categories:e.map(s=>s.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"})),labels:{style:{colors:"white"}}},yaxis:[{title:{text:"Time Spent (minutes)",style:{color:"white"}},labels:{style:{colors:"white"}}},{opposite:!0,title:{text:"Calories (kcal)",style:{color:"white"}},labels:{style:{colors:"white"}}}],tooltip:{marker:{fillColors:["#16a34a","#ef4444"]},shared:!0,x:{formatter:(s,{dataPointIndex:o})=>{let a=r[o];return`${e[o].toLocaleDateString("en-US",{weekday:"short"})}, ${s} - ${a.name}`}},y:{formatter:(s,{seriesIndex:o})=>o===0?`${Math.round(s)} minutes`:`${Math.round(s)} kcal`}},title:{text:"Workout Activity This Week",align:"center",style:{color:"white"}},stroke:{curve:"smooth",colors:["#16a34a","#ef4444"]},markers:{size:4,colors:["#16a34a","#ef4444"],strokeColors:["white"],hover:{size:6}},legend:{position:"top",horizontalAlign:"right",labels:{colors:"white"},markers:{fillColors:["#16a34a","#ef4444"]}}}})}getCurrentWeekDates(){let e=new Date,n=new Date(e.setDate(e.getDate()-e.getDay())),r=[];for(let i=0;i<7;i++)r.push(new Date(n)),n.setDate(n.getDate()+1);return r}static \u0275fac=function(n){return new(n||t)(U(an))};static \u0275cmp=ve({type:t,selectors:[["app-charts"]],inputs:{userId:"userId"},outputs:{chartReady:"chartReady"},standalone:!0,features:[Ce],decls:3,vars:10,consts:[[1,"charts","p-4","bg-gray-800","text-white","rounded-xl","shadow-lg","hover:bg-gray-700","transition-all"],[1,"chart-container"],[3,"series","chart","xaxis","yaxis","title","legend","tooltip","stroke","fill","markers"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),$(2,"apx-chart",2),T()()),n&2&&(P(2),G("series",r.mixedChartOptions.series)("chart",r.mixedChartOptions.chart)("xaxis",r.mixedChartOptions.xaxis)("yaxis",r.mixedChartOptions.yaxis)("title",r.mixedChartOptions.title)("legend",r.mixedChartOptions.legend)("tooltip",r.mixedChartOptions.tooltip)("stroke",r.mixedChartOptions.stroke)("fill",r.mixedChartOptions.fill)("markers",r.mixedChartOptions.markers))},dependencies:[Gj,zj],styles:[".charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-tooltip[_ngcontent-%COMP%]{background-color:#1f2937cc!important;color:#fff!important;border-radius:4px;padding:10px}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-tooltip-title[_ngcontent-%COMP%]{background-color:transparent!important;color:#fff!important}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-xaxistooltip[_ngcontent-%COMP%]{display:none}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-legend[_ngcontent-%COMP%]   .apexcharts-legend-text[_ngcontent-%COMP%]{color:#fff!important}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .hover\\:bg-gray-700[_ngcontent-%COMP%]:hover{background-color:#374151!important}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #00000080,0 4px 6px -2px #0006}"]})};var qj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qj={};var al,ER;(function(){var t;function e(A,E){function D(){}D.prototype=E.prototype,A.D=E.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(R,M,k){for(var S=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)S[Rt-2]=arguments[Rt];return E.prototype[M].apply(R,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,D){D||(D=0);var R=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)R[M]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(M=0;16>M;++M)R[M]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;E=A.g[0],D=A.g[1],M=A.g[2];var k=A.g[3],S=E+(k^D&(M^k))+R[0]+3614090360&4294967295;E=D+(S<<7&4294967295|S>>>25),S=k+(M^E&(D^M))+R[1]+3905402710&4294967295,k=E+(S<<12&4294967295|S>>>20),S=M+(D^k&(E^D))+R[2]+606105819&4294967295,M=k+(S<<17&4294967295|S>>>15),S=D+(E^M&(k^E))+R[3]+3250441966&4294967295,D=M+(S<<22&4294967295|S>>>10),S=E+(k^D&(M^k))+R[4]+4118548399&4294967295,E=D+(S<<7&4294967295|S>>>25),S=k+(M^E&(D^M))+R[5]+1200080426&4294967295,k=E+(S<<12&4294967295|S>>>20),S=M+(D^k&(E^D))+R[6]+2821735955&4294967295,M=k+(S<<17&4294967295|S>>>15),S=D+(E^M&(k^E))+R[7]+4249261313&4294967295,D=M+(S<<22&4294967295|S>>>10),S=E+(k^D&(M^k))+R[8]+1770035416&4294967295,E=D+(S<<7&4294967295|S>>>25),S=k+(M^E&(D^M))+R[9]+2336552879&4294967295,k=E+(S<<12&4294967295|S>>>20),S=M+(D^k&(E^D))+R[10]+4294925233&4294967295,M=k+(S<<17&4294967295|S>>>15),S=D+(E^M&(k^E))+R[11]+2304563134&4294967295,D=M+(S<<22&4294967295|S>>>10),S=E+(k^D&(M^k))+R[12]+1804603682&4294967295,E=D+(S<<7&4294967295|S>>>25),S=k+(M^E&(D^M))+R[13]+4254626195&4294967295,k=E+(S<<12&4294967295|S>>>20),S=M+(D^k&(E^D))+R[14]+2792965006&4294967295,M=k+(S<<17&4294967295|S>>>15),S=D+(E^M&(k^E))+R[15]+1236535329&4294967295,D=M+(S<<22&4294967295|S>>>10),S=E+(M^k&(D^M))+R[1]+4129170786&4294967295,E=D+(S<<5&4294967295|S>>>27),S=k+(D^M&(E^D))+R[6]+3225465664&4294967295,k=E+(S<<9&4294967295|S>>>23),S=M+(E^D&(k^E))+R[11]+643717713&4294967295,M=k+(S<<14&4294967295|S>>>18),S=D+(k^E&(M^k))+R[0]+3921069994&4294967295,D=M+(S<<20&4294967295|S>>>12),S=E+(M^k&(D^M))+R[5]+3593408605&4294967295,E=D+(S<<5&4294967295|S>>>27),S=k+(D^M&(E^D))+R[10]+38016083&4294967295,k=E+(S<<9&4294967295|S>>>23),S=M+(E^D&(k^E))+R[15]+3634488961&4294967295,M=k+(S<<14&4294967295|S>>>18),S=D+(k^E&(M^k))+R[4]+3889429448&4294967295,D=M+(S<<20&4294967295|S>>>12),S=E+(M^k&(D^M))+R[9]+568446438&4294967295,E=D+(S<<5&4294967295|S>>>27),S=k+(D^M&(E^D))+R[14]+3275163606&4294967295,k=E+(S<<9&4294967295|S>>>23),S=M+(E^D&(k^E))+R[3]+4107603335&4294967295,M=k+(S<<14&4294967295|S>>>18),S=D+(k^E&(M^k))+R[8]+1163531501&4294967295,D=M+(S<<20&4294967295|S>>>12),S=E+(M^k&(D^M))+R[13]+2850285829&4294967295,E=D+(S<<5&4294967295|S>>>27),S=k+(D^M&(E^D))+R[2]+4243563512&4294967295,k=E+(S<<9&4294967295|S>>>23),S=M+(E^D&(k^E))+R[7]+1735328473&4294967295,M=k+(S<<14&4294967295|S>>>18),S=D+(k^E&(M^k))+R[12]+2368359562&4294967295,D=M+(S<<20&4294967295|S>>>12),S=E+(D^M^k)+R[5]+4294588738&4294967295,E=D+(S<<4&4294967295|S>>>28),S=k+(E^D^M)+R[8]+2272392833&4294967295,k=E+(S<<11&4294967295|S>>>21),S=M+(k^E^D)+R[11]+1839030562&4294967295,M=k+(S<<16&4294967295|S>>>16),S=D+(M^k^E)+R[14]+4259657740&4294967295,D=M+(S<<23&4294967295|S>>>9),S=E+(D^M^k)+R[1]+2763975236&4294967295,E=D+(S<<4&4294967295|S>>>28),S=k+(E^D^M)+R[4]+1272893353&4294967295,k=E+(S<<11&4294967295|S>>>21),S=M+(k^E^D)+R[7]+4139469664&4294967295,M=k+(S<<16&4294967295|S>>>16),S=D+(M^k^E)+R[10]+3200236656&4294967295,D=M+(S<<23&4294967295|S>>>9),S=E+(D^M^k)+R[13]+681279174&4294967295,E=D+(S<<4&4294967295|S>>>28),S=k+(E^D^M)+R[0]+3936430074&4294967295,k=E+(S<<11&4294967295|S>>>21),S=M+(k^E^D)+R[3]+3572445317&4294967295,M=k+(S<<16&4294967295|S>>>16),S=D+(M^k^E)+R[6]+76029189&4294967295,D=M+(S<<23&4294967295|S>>>9),S=E+(D^M^k)+R[9]+3654602809&4294967295,E=D+(S<<4&4294967295|S>>>28),S=k+(E^D^M)+R[12]+3873151461&4294967295,k=E+(S<<11&4294967295|S>>>21),S=M+(k^E^D)+R[15]+530742520&4294967295,M=k+(S<<16&4294967295|S>>>16),S=D+(M^k^E)+R[2]+3299628645&4294967295,D=M+(S<<23&4294967295|S>>>9),S=E+(M^(D|~k))+R[0]+4096336452&4294967295,E=D+(S<<6&4294967295|S>>>26),S=k+(D^(E|~M))+R[7]+1126891415&4294967295,k=E+(S<<10&4294967295|S>>>22),S=M+(E^(k|~D))+R[14]+2878612391&4294967295,M=k+(S<<15&4294967295|S>>>17),S=D+(k^(M|~E))+R[5]+4237533241&4294967295,D=M+(S<<21&4294967295|S>>>11),S=E+(M^(D|~k))+R[12]+1700485571&4294967295,E=D+(S<<6&4294967295|S>>>26),S=k+(D^(E|~M))+R[3]+2399980690&4294967295,k=E+(S<<10&4294967295|S>>>22),S=M+(E^(k|~D))+R[10]+4293915773&4294967295,M=k+(S<<15&4294967295|S>>>17),S=D+(k^(M|~E))+R[1]+2240044497&4294967295,D=M+(S<<21&4294967295|S>>>11),S=E+(M^(D|~k))+R[8]+1873313359&4294967295,E=D+(S<<6&4294967295|S>>>26),S=k+(D^(E|~M))+R[15]+4264355552&4294967295,k=E+(S<<10&4294967295|S>>>22),S=M+(E^(k|~D))+R[6]+2734768916&4294967295,M=k+(S<<15&4294967295|S>>>17),S=D+(k^(M|~E))+R[13]+1309151649&4294967295,D=M+(S<<21&4294967295|S>>>11),S=E+(M^(D|~k))+R[4]+4149444226&4294967295,E=D+(S<<6&4294967295|S>>>26),S=k+(D^(E|~M))+R[11]+3174756917&4294967295,k=E+(S<<10&4294967295|S>>>22),S=M+(E^(k|~D))+R[2]+718787259&4294967295,M=k+(S<<15&4294967295|S>>>17),S=D+(k^(M|~E))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var D=E-this.blockSize,R=this.B,M=this.h,k=0;k<E;){if(M==0)for(;k<=D;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<E;)if(R[M++]=A.charCodeAt(k++),M==this.blockSize){i(this,R),M=0;break}}else for(;k<E;)if(R[M++]=A[k++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var D=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=D&255,D/=256;for(this.u(A),A=Array(16),E=D=0;4>E;++E)for(var R=0;32>R;R+=8)A[D++]=this.g[E]>>>R&255;return A};function s(A,E){var D=a;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=E(A)}function o(A,E){this.h=E;for(var D=[],R=!0,M=A.length-1;0<=M;M--){var k=A[M]|0;R&&k==E||(D[M]=k,R=!1)}this.g=D}var a={};function l(A){return-128<=A&&128>A?s(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return _(c(-A));for(var E=[],D=1,R=0;A>=D;R++)E[R]=A/D|0,D*=4294967296;return new o(E,0)}function u(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return _(u(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(E,8)),R=h,M=0;M<A.length;M+=8){var k=Math.min(8,A.length-M),S=parseInt(A.substring(M,M+k),E);8>k?(k=c(Math.pow(E,k)),R=R.j(k).add(c(S))):(R=R.j(D),R=R.add(c(S)))}return R}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-_(this).m();for(var A=0,E=1,D=0;D<this.g.length;D++){var R=this.i(D);A+=(0<=R?R:4294967296+R)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(b(this))return"-"+_(this).toString(A);for(var E=c(Math.pow(A,6)),D=this,R="";;){var M=I(D,E).g;D=x(D,M.j(E));var k=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=M,v(D))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function b(A){return A.h==-1}t.l=function(A){return A=x(this,A),b(A)?-1:v(A)?0:1};function _(A){for(var E=A.g.length,D=[],R=0;R<E;R++)D[R]=~A.g[R];return new o(D,~A.h).add(f)}t.abs=function(){return b(this)?_(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],R=0,M=0;M<=E;M++){var k=R+(this.i(M)&65535)+(A.i(M)&65535),S=(k>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);R=S>>>16,k&=65535,S&=65535,D[M]=S<<16|k}return new o(D,D[D.length-1]&-2147483648?-1:0)};function x(A,E){return A.add(_(E))}t.j=function(A){if(v(this)||v(A))return h;if(b(this))return b(A)?_(this).j(_(A)):_(_(this).j(A));if(b(A))return _(this.j(_(A)));if(0>this.l(g)&&0>A.l(g))return c(this.m()*A.m());for(var E=this.g.length+A.g.length,D=[],R=0;R<2*E;R++)D[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<A.g.length;M++){var k=this.i(R)>>>16,S=this.i(R)&65535,Rt=A.i(M)>>>16,hn=A.i(M)&65535;D[2*R+2*M]+=S*hn,F(D,2*R+2*M),D[2*R+2*M+1]+=k*hn,F(D,2*R+2*M+1),D[2*R+2*M+1]+=S*Rt,F(D,2*R+2*M+1),D[2*R+2*M+2]+=k*Rt,F(D,2*R+2*M+2)}for(R=0;R<E;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=E;R<2*E;R++)D[R]=0;return new o(D,0)};function F(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function W(A,E){this.g=A,this.h=E}function I(A,E){if(v(E))throw Error("division by zero");if(v(A))return new W(h,h);if(b(A))return E=I(_(A),E),new W(_(E.g),_(E.h));if(b(E))return E=I(A,_(E)),new W(_(E.g),E.h);if(30<A.g.length){if(b(A)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var D=f,R=E;0>=R.l(A);)D=te(D),R=te(R);var M=B(D,1),k=B(R,1);for(R=B(R,2),D=B(D,2);!v(R);){var S=k.add(R);0>=S.l(A)&&(M=M.add(D),k=S),R=B(R,1),D=B(D,1)}return E=x(A,M.j(E)),new W(M,E)}for(M=h;0<=A.l(E);){for(D=Math.max(1,Math.floor(A.m()/E.m())),R=Math.ceil(Math.log(D)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=c(D),S=k.j(E);b(S)||0<S.l(A);)D-=R,k=c(D),S=k.j(E);v(k)&&(k=f),M=M.add(k),A=x(A,S)}return new W(M,A)}t.A=function(A){return I(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],R=0;R<E;R++)D[R]=this.i(R)&A.i(R);return new o(D,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],R=0;R<E;R++)D[R]=this.i(R)|A.i(R);return new o(D,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),D=[],R=0;R<E;R++)D[R]=this.i(R)^A.i(R);return new o(D,this.h^A.h)};function te(A){for(var E=A.g.length+1,D=[],R=0;R<E;R++)D[R]=A.i(R)<<1|A.i(R-1)>>>31;return new o(D,A.h)}function B(A,E){var D=E>>5;E%=32;for(var R=A.g.length-D,M=[],k=0;k<R;k++)M[k]=0<E?A.i(k+D)>>>E|A.i(k+D+1)<<32-E:A.i(k+D);return new o(M,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ER=Qj.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,al=Qj.Integer=o}).apply(typeof qj<"u"?qj:typeof self<"u"?self:typeof window<"u"?window:{});var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Go={};var bR,mde,th,IR,Rg,Gw,CR,TR,DR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,m){return d==Array.prototype||d==Object.prototype||(d[p]=m.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zw=="object"&&zw];for(var p=0;p<d.length;++p){var m=d[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(d,p){if(p)e:{var m=r;d=d.split(".");for(var y=0;y<d.length-1;y++){var N=d[y];if(!(N in m))break e;m=m[N]}d=d[d.length-1],y=m[d],p=p(y),p!=y&&p!=null&&e(m,d,{configurable:!0,writable:!0,value:p})}}function s(d,p){d instanceof String&&(d+="");var m=0,y=!1,N={next:function(){if(!y&&m<d.length){var j=m++;return{value:p(j,d[j]),done:!1}}return y=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(d){return d||function(){return s(this,function(p,m){return m})}});var o=o||{},a=this||self;function l(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function c(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,m){return d.call.apply(d.bind,arguments)}function h(d,p,m){if(!d)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,y),d.apply(p,N)}}return function(){return d.apply(p,arguments)}}function f(d,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),d.apply(this,y)}}function v(d,p){function m(){}m.prototype=p.prototype,d.aa=p.prototype,d.prototype=new m,d.prototype.constructor=d,d.Qb=function(y,N,j){for(var ne=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ne[ht-2]=arguments[ht];return p.prototype[N].apply(y,ne)}}function b(d){let p=d.length;if(0<p){let m=Array(p);for(let y=0;y<p;y++)m[y]=d[y];return m}return[]}function _(d,p){for(let m=1;m<arguments.length;m++){let y=arguments[m];if(l(y)){let N=d.length||0,j=y.length||0;d.length=N+j;for(let ne=0;ne<j;ne++)d[N+ne]=y[ne]}else d.push(y)}}class x{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(d){return/^[\s\xa0]*$/.test(d)}function W(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var te=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function B(d,p,m){for(let y in d)p.call(m,d[y],y,d)}function A(d,p){for(let m in d)p.call(void 0,d[m],m,d)}function E(d){let p={};for(let m in d)p[m]=d[m];return p}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,p){let m,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(m in y)d[m]=y[m];for(let j=0;j<D.length;j++)m=D[j],Object.prototype.hasOwnProperty.call(y,m)&&(d[m]=y[m])}}function M(d){var p=1;d=d.split(":");let m=[];for(;0<p&&d.length;)m.push(d.shift()),p--;return d.length&&m.push(d.join(":")),m}function k(d){a.setTimeout(()=>{throw d},0)}function S(){var d=mr;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class Rt{constructor(){this.h=this.g=null}add(p,m){let y=hn.get();y.set(p,m),this.h?this.h.next=y:this.g=y,this.h=y}}var hn=new x(()=>new Cn,d=>d.reset());class Cn{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,Mt=!1,mr=new Rt,Sr=()=>{let d=a.Promise.resolve(void 0);Lt=()=>{d.then(Gs)}};var Gs=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(m){k(m)}var p=hn;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}Mt=!1};function fn(){this.s=this.s,this.C=this.C}fn.prototype.s=!1,fn.prototype.ma=function(){this.s||(this.s=!0,this.N())},fn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Ii=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return d}();function kn(d,p){if(Tt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var m=this.type=d.type,y=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(te){e:{try{I(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else m=="mouseover"?p=d.fromElement:m=="mouseout"&&(p=d.toElement);this.relatedTarget=p,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ci[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&kn.aa.h.call(this)}}v(kn,Tt);var Ci={2:"touch",3:"pen",4:"mouse"};kn.prototype.h=function(){kn.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),Ti=0;function ta(d,p,m,y,N){this.listener=d,this.proxy=null,this.src=p,this.type=m,this.capture=!!y,this.ha=N,this.key=++Ti,this.da=this.fa=!1}function Ar(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Di(d){this.src=d,this.g={},this.h=0}Di.prototype.add=function(d,p,m,y,N){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var ne=qs(d,p,y,N);return-1<ne?(p=d[ne],m||(p.fa=!1)):(p=new ta(p,this.src,j,!!y,N),p.fa=m,d.push(p)),p};function na(d,p){var m=p.type;if(m in d.g){var y=d.g[m],N=Array.prototype.indexOf.call(y,p,void 0),j;(j=0<=N)&&Array.prototype.splice.call(y,N,1),j&&(Ar(p),d.g[m].length==0&&(delete d.g[m],d.h--))}}function qs(d,p,m,y){for(var N=0;N<d.length;++N){var j=d[N];if(!j.da&&j.listener==p&&j.capture==!!m&&j.ha==y)return N}return-1}var ra="closure_lm_"+(1e6*Math.random()|0),ia={};function sa(d,p,m,y,N){if(y&&y.once)return pl(d,p,m,y,N);if(Array.isArray(p)){for(var j=0;j<p.length;j++)sa(d,p[j],m,y,N);return null}return m=ca(m),d&&d[Qr]?d.K(p,m,c(y)?!!y.capture:!!y,N):oa(d,p,m,!1,y,N)}function oa(d,p,m,y,N,j){if(!p)throw Error("Invalid event type");var ne=c(N)?!!N.capture:!!N,ht=Ks(d);if(ht||(d[ra]=ht=new Di(d)),m=ht.add(p,m,y,ne,j),m.proxy)return m;if(y=Yc(),m.proxy=y,y.src=d,y.listener=m,d.addEventListener)Ii||(N=ne),N===void 0&&(N=!1),d.addEventListener(p.toString(),y,N);else if(d.attachEvent)d.attachEvent(aa(p.toString()),y);else if(d.addListener&&d.removeListener)d.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Yc(){function d(m){return p.call(d.src,d.listener,m)}let p=Qs;return d}function pl(d,p,m,y,N){if(Array.isArray(p)){for(var j=0;j<p.length;j++)pl(d,p[j],m,y,N);return null}return m=ca(m),d&&d[Qr]?d.L(p,m,c(y)?!!y.capture:!!y,N):oa(d,p,m,!0,y,N)}function Kr(d,p,m,y,N){if(Array.isArray(p))for(var j=0;j<p.length;j++)Kr(d,p[j],m,y,N);else y=c(y)?!!y.capture:!!y,m=ca(m),d&&d[Qr]?(d=d.i,p=String(p).toString(),p in d.g&&(j=d.g[p],m=qs(j,m,y,N),-1<m&&(Ar(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete d.g[p],d.h--)))):d&&(d=Ks(d))&&(p=d.g[p.toString()],d=-1,p&&(d=qs(p,m,y,N)),(m=-1<d?p[d]:null)&&Yr(m))}function Yr(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[Qr])na(p.i,d);else{var m=d.type,y=d.proxy;p.removeEventListener?p.removeEventListener(m,y,d.capture):p.detachEvent?p.detachEvent(aa(m),y):p.addListener&&p.removeListener&&p.removeListener(y),(m=Ks(p))?(na(m,d),m.h==0&&(m.src=null,p[ra]=null)):Ar(d)}}}function aa(d){return d in ia?ia[d]:ia[d]="on"+d}function Qs(d,p){if(d.da)d=!0;else{p=new kn(p,this);var m=d.listener,y=d.ha||d.src;d.fa&&Yr(d),d=m.call(y,p)}return d}function Ks(d){return d=d[ra],d instanceof Di?d:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function ca(d){return typeof d=="function"?d:(d[la]||(d[la]=function(p){return d.handleEvent(p)}),d[la])}function Gt(){fn.call(this),this.i=new Di(this),this.M=this,this.F=null}v(Gt,fn),Gt.prototype[Qr]=!0,Gt.prototype.removeEventListener=function(d,p,m,y){Kr(this,d,p,m,y)};function Xt(d,p){var m,y=d.F;if(y)for(m=[];y;y=y.F)m.push(y);if(d=d.M,y=p.type||p,typeof p=="string")p=new Tt(p,d);else if(p instanceof Tt)p.target=p.target||d;else{var N=p;p=new Tt(y,d),R(p,N)}if(N=!0,m)for(var j=m.length-1;0<=j;j--){var ne=p.g=m[j];N=Zc(ne,y,!0,p)&&N}if(ne=p.g=d,N=Zc(ne,y,!0,p)&&N,N=Zc(ne,y,!1,p)&&N,m)for(j=0;j<m.length;j++)ne=p.g=m[j],N=Zc(ne,y,!1,p)&&N}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var m=d.g[p],y=0;y<m.length;y++)Ar(m[y]);delete d.g[p],d.h--}}this.F=null},Gt.prototype.K=function(d,p,m,y){return this.i.add(String(d),p,!1,m,y)},Gt.prototype.L=function(d,p,m,y){return this.i.add(String(d),p,!0,m,y)};function Zc(d,p,m,y){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var N=!0,j=0;j<p.length;++j){var ne=p[j];if(ne&&!ne.da&&ne.capture==m){var ht=ne.listener,Nn=ne.ha||ne.src;ne.fa&&na(d.i,ne),N=ht.call(Nn,y)!==!1&&N}}return N&&!y.defaultPrevented}function em(d,p,m){if(typeof d=="function")m&&(d=f(d,m));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function tm(d){d.g=em(()=>{d.g=null,d.i&&(d.i=!1,tm(d))},d.l);let p=d.h;d.h=null,d.m.apply(null,p)}class WE extends fn{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:tm(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gl(d){fn.call(this),this.h=d,this.g={}}v(gl,fn);var z=[];function oe(d){B(d.g,function(p,m){this.g.hasOwnProperty(m)&&Yr(p)},d),d.g={}}gl.prototype.N=function(){gl.aa.N.call(this),oe(this)},gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ge=a.JSON.stringify,rt=a.JSON.parse,We=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function pn(){}pn.prototype.h=null;function rr(d){return d.h||(d.h=d.i())}function Ys(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){Tt.call(this,"d")}v(Si,Tt);function ml(){Tt.call(this,"c")}v(ml,Tt);var Zr={},Zs=null;function Xc(){return Zs=Zs||new Gt}Zr.La="serverreachability";function Jc(d){Tt.call(this,Zr.La,d)}v(Jc,Tt);function ns(d){let p=Xc();Xt(p,new Jc(p))}Zr.STAT_EVENT="statevent";function Jk(d,p){Tt.call(this,Zr.STAT_EVENT,d),this.stat=p}v(Jk,Tt);function ir(d){let p=Xc();Xt(p,new Jk(p,d))}Zr.Ma="timingevent";function e2(d,p){Tt.call(this,Zr.Ma,d),this.size=p}v(e2,Tt);function Ih(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function Ch(){this.g=!0}Ch.prototype.xa=function(){this.g=!1};function T7(d,p,m,y,N,j){d.info(function(){if(d.g)if(j)for(var ne="",ht=j.split("&"),Nn=0;Nn<ht.length;Nn++){var Xe=ht[Nn].split("=");if(1<Xe.length){var Gn=Xe[0];Xe=Xe[1];var qn=Gn.split("_");ne=2<=qn.length&&qn[1]=="type"?ne+(Gn+"="+Xe+"&"):ne+(Gn+"=redacted&")}}else ne=null;else ne=j;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+p+`
`+m+`
`+ne})}function D7(d,p,m,y,N,j,ne){d.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+p+`
`+m+`
`+j+" "+ne})}function eu(d,p,m,y){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+A7(d,m)+(y?" "+y:"")})}function S7(d,p){d.info(function(){return"TIMEOUT: "+p})}Ch.prototype.info=function(){};function A7(d,p){if(!d.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(d=0;d<m.length;d++)if(Array.isArray(m[d])){var y=m[d];if(!(2>y.length)){var N=y[1];if(Array.isArray(N)&&!(1>N.length)){var j=N[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ne=1;ne<N.length;ne++)N[ne]=""}}}}return ge(m)}catch{return p}}var nm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},t2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$E;function rm(){}v(rm,pn),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},$E=new rm;function da(d,p,m,y){this.j=d,this.i=p,this.l=m,this.R=y||1,this.U=new gl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new n2}function n2(){this.i=null,this.g="",this.h=!1}var r2={},zE={};function GE(d,p,m){d.L=1,d.v=am(Xs(p)),d.m=m,d.P=!0,i2(d,null)}function i2(d,p){d.F=Date.now(),im(d),d.A=Xs(d.v);var m=d.A,y=d.R;Array.isArray(y)||(y=[String(y)]),y2(m.i,"t",y),d.C=0,m=d.j.J,d.h=new n2,d.g=F2(d.j,m?p:null,!d.m),0<d.O&&(d.M=new WE(f(d.Y,d,d.g),d.O)),p=d.U,m=d.g,y=d.ca;var N="readystatechange";Array.isArray(N)||(N&&(z[0]=N.toString()),N=z);for(var j=0;j<N.length;j++){var ne=sa(m,N[j],y||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),ns(),T7(d.i,d.u,d.A,d.l,d.R,d.m)}da.prototype.ca=function(d){d=d.target;let p=this.M;p&&Js(d)==3?p.j():this.Y(d)},da.prototype.Y=function(d){try{if(d==this.g)e:{let qn=Js(this.g);var p=this.g.Ba();let ru=this.g.Z();if(!(3>qn)&&(qn!=3||this.g&&(this.h.h||this.g.oa()||T2(this.g)))){this.J||qn!=4||p==7||(p==8||0>=ru?ns(3):ns(2)),qE(this);var m=this.g.Z();this.X=m;t:if(s2(this)){var y=T2(this.g);d="";var N=y.length,j=Js(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vl(this),Th(this);var ne="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,d+=this.h.i.decode(y[p],{stream:!(j&&p==N-1)});y.length=0,this.h.g+=d,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=m==200,D7(this.i,this.u,this.A,this.l,this.R,qn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Nn=this.g;if((ht=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ht)){var Xe=ht;break t}}Xe=null}if(m=Xe)eu(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QE(this,m);else{this.o=!1,this.s=3,ir(12),vl(this),Th(this);break e}}if(this.P){m=!0;let Ai;for(;!this.J&&this.C<ne.length;)if(Ai=x7(this,ne),Ai==zE){qn==4&&(this.s=4,ir(14),m=!1),eu(this.i,this.l,null,"[Incomplete Response]");break}else if(Ai==r2){this.s=4,ir(15),eu(this.i,this.l,ne,"[Invalid Chunk]"),m=!1;break}else eu(this.i,this.l,Ai,null),QE(this,Ai);if(s2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qn!=4||ne.length!=0||this.h.h||(this.s=1,ir(16),m=!1),this.o=this.o&&m,!m)eu(this.i,this.l,ne,"[Invalid Chunked Response]"),vl(this),Th(this);else if(0<ne.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),e1(Gn),Gn.M=!0,ir(11))}}else eu(this.i,this.l,ne,null),QE(this,ne);qn==4&&vl(this),this.o&&!this.J&&(qn==4?k2(this.j,this):(this.o=!1,im(this)))}else G7(this.g),m==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ir(12)):(this.s=0,ir(13)),vl(this),Th(this)}}}catch{}finally{}};function s2(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function x7(d,p){var m=d.C,y=p.indexOf(`
`,m);return y==-1?zE:(m=Number(p.substring(m,y)),isNaN(m)?r2:(y+=1,y+m>p.length?zE:(p=p.slice(y,y+m),d.C=y+m,p)))}da.prototype.cancel=function(){this.J=!0,vl(this)};function im(d){d.S=Date.now()+d.I,o2(d,d.I)}function o2(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ih(f(d.ba,d),p)}function qE(d){d.B&&(a.clearTimeout(d.B),d.B=null)}da.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(S7(this.i,this.A),this.L!=2&&(ns(),ir(17)),vl(this),this.s=2,Th(this)):o2(this,this.S-d)};function Th(d){d.j.G==0||d.J||k2(d.j,d)}function vl(d){qE(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,oe(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function QE(d,p){try{var m=d.j;if(m.G!=0&&(m.g==d||KE(m.h,d))){if(!d.K&&KE(m.h,d)&&m.G==3){try{var y=m.Da.g.parse(p)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<d.F)hm(m),um(m);else break e;JE(m),ir(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ih(f(m.Za,m),6e3));if(1>=c2(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else _l(m,11)}else if((d.K||m.g==d)&&hm(m),!F(p))for(N=m.Da.g.parse(p),p=0;p<N.length;p++){let Xe=N[p];if(m.T=Xe[0],Xe=Xe[1],m.G==2)if(Xe[0]=="c"){m.K=Xe[1],m.ia=Xe[2];let Gn=Xe[3];Gn!=null&&(m.la=Gn,m.j.info("VER="+m.la));let qn=Xe[4];qn!=null&&(m.Aa=qn,m.j.info("SVER="+m.Aa));let ru=Xe[5];ru!=null&&typeof ru=="number"&&0<ru&&(y=1.5*ru,m.L=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;let Ai=d.g;if(Ai){let pm=Ai.g?Ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pm){var j=y.h;j.g||pm.indexOf("spdy")==-1&&pm.indexOf("quic")==-1&&pm.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(YE(j,j.h),j.h=null))}if(y.D){let t1=Ai.g?Ai.g.getResponseHeader("X-HTTP-Session-Id"):null;t1&&(y.ya=t1,bt(y.I,y.D,t1))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-d.F,m.j.info("Handshake RTT: "+m.R+"ms")),y=m;var ne=d;if(y.qa=O2(y,y.J?y.ia:null,y.W),ne.K){u2(y.h,ne);var ht=ne,Nn=y.L;Nn&&(ht.I=Nn),ht.B&&(qE(ht),im(ht)),y.g=ne}else R2(y);0<m.i.length&&dm(m)}else Xe[0]!="stop"&&Xe[0]!="close"||_l(m,7);else m.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?_l(m,7):XE(m):Xe[0]!="noop"&&m.l&&m.l.ta(Xe),m.v=0)}}ns(4)}catch{}}var R7=class{constructor(d,p){this.g=d,this.map=p}};function a2(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function l2(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function c2(d){return d.h?1:d.g?d.g.size:0}function KE(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function YE(d,p){d.g?d.g.add(p):d.h=p}function u2(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}a2.prototype.cancel=function(){if(this.i=d2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function d2(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(let m of d.g.values())p=p.concat(m.D);return p}return b(d.i)}function M7(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var p=[],m=d.length,y=0;y<m;y++)p.push(d[y]);return p}p=[],m=0;for(y in d)p[m++]=d[y];return p}function k7(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var p=[];d=d.length;for(var m=0;m<d;m++)p.push(m);return p}p=[],m=0;for(let y in d)p[m++]=y;return p}}}function h2(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var m=k7(d),y=M7(d),N=y.length,j=0;j<N;j++)p.call(void 0,y[j],m&&m[j],d)}var f2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N7(d,p){if(d){d=d.split("&");for(var m=0;m<d.length;m++){var y=d[m].indexOf("="),N=null;if(0<=y){var j=d[m].substring(0,y);N=d[m].substring(y+1)}else j=d[m];p(j,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function yl(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof yl){this.h=d.h,sm(this,d.j),this.o=d.o,this.g=d.g,om(this,d.s),this.l=d.l;var p=d.i,m=new Ah;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),p2(this,m),this.m=d.m}else d&&(p=String(d).match(f2))?(this.h=!1,sm(this,p[1]||"",!0),this.o=Dh(p[2]||""),this.g=Dh(p[3]||"",!0),om(this,p[4]),this.l=Dh(p[5]||"",!0),p2(this,p[6]||"",!0),this.m=Dh(p[7]||"")):(this.h=!1,this.i=new Ah(null,this.h))}yl.prototype.toString=function(){var d=[],p=this.j;p&&d.push(Sh(p,g2,!0),":");var m=this.g;return(m||p=="file")&&(d.push("//"),(p=this.o)&&d.push(Sh(p,g2,!0),"@"),d.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&d.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&d.push("/"),d.push(Sh(m,m.charAt(0)=="/"?F7:O7,!0))),(m=this.i.toString())&&d.push("?",m),(m=this.m)&&d.push("#",Sh(m,V7)),d.join("")};function Xs(d){return new yl(d)}function sm(d,p,m){d.j=m?Dh(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function om(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function p2(d,p,m){p instanceof Ah?(d.i=p,U7(d.i,d.h)):(m||(p=Sh(p,L7)),d.i=new Ah(p,d.h))}function bt(d,p,m){d.i.set(p,m)}function am(d){return bt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Dh(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sh(d,p,m){return typeof d=="string"?(d=encodeURI(d).replace(p,P7),m&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function P7(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var g2=/[#\/\?@]/g,O7=/[#\?:]/g,F7=/[#\?]/g,L7=/[#\?@]/g,V7=/#/g;function Ah(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function ha(d){d.g||(d.g=new Map,d.h=0,d.i&&N7(d.i,function(p,m){d.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Ah.prototype,t.add=function(d,p){ha(this),this.i=null,d=tu(this,d);var m=this.g.get(d);return m||this.g.set(d,m=[]),m.push(p),this.h+=1,this};function m2(d,p){ha(d),p=tu(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function v2(d,p){return ha(d),p=tu(d,p),d.g.has(p)}t.forEach=function(d,p){ha(this),this.g.forEach(function(m,y){m.forEach(function(N){d.call(p,N,y,this)},this)},this)},t.na=function(){ha(this);let d=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let y=0;y<p.length;y++){let N=d[y];for(let j=0;j<N.length;j++)m.push(p[y])}return m},t.V=function(d){ha(this);let p=[];if(typeof d=="string")v2(this,d)&&(p=p.concat(this.g.get(tu(this,d))));else{d=Array.from(this.g.values());for(let m=0;m<d.length;m++)p=p.concat(d[m])}return p},t.set=function(d,p){return ha(this),this.i=null,d=tu(this,d),v2(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function y2(d,p,m){m2(d,p),0<m.length&&(d.i=null,d.g.set(tu(d,p),b(m)),d.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var y=p[m];let j=encodeURIComponent(String(y)),ne=this.V(y);for(y=0;y<ne.length;y++){var N=j;ne[y]!==""&&(N+="="+encodeURIComponent(String(ne[y]))),d.push(N)}}return this.i=d.join("&")};function tu(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function U7(d,p){p&&!d.j&&(ha(d),d.i=null,d.g.forEach(function(m,y){var N=y.toLowerCase();y!=N&&(m2(this,y),y2(this,N,m))},d)),d.j=p}function j7(d,p){let m=new Ch;if(a.Image){let y=new Image;y.onload=g(fa,m,"TestLoadImage: loaded",!0,p,y),y.onerror=g(fa,m,"TestLoadImage: error",!1,p,y),y.onabort=g(fa,m,"TestLoadImage: abort",!1,p,y),y.ontimeout=g(fa,m,"TestLoadImage: timeout",!1,p,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=d}else p(!1)}function B7(d,p){let m=new Ch,y=new AbortController,N=setTimeout(()=>{y.abort(),fa(m,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:y.signal}).then(j=>{clearTimeout(N),j.ok?fa(m,"TestPingServer: ok",!0,p):fa(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),fa(m,"TestPingServer: error",!1,p)})}function fa(d,p,m,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(m)}catch{}}function H7(){this.g=new We}function W7(d,p,m){let y=m||"";try{h2(d,function(N,j){let ne=N;c(N)&&(ne=ge(N)),p.push(y+j+"="+encodeURIComponent(ne))})}catch(N){throw p.push(y+"type="+encodeURIComponent("_badmap")),N}}function xh(d){this.l=d.Ub||null,this.j=d.eb||!1}v(xh,pn),xh.prototype.g=function(){return new lm(this.l,this.j)},xh.prototype.i=function(d){return function(){return d}}({});function lm(d,p){Gt.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(lm,Gt),t=lm.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,Mh(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rh(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Mh(this)),this.g&&(this.readyState=3,Mh(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_2(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function _2(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Rh(this):Mh(this),this.readyState==3&&_2(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Rh(this))},t.Qa=function(d){this.g&&(this.response=d,Rh(this))},t.ga=function(){this.g&&Rh(this)};function Rh(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Mh(d)}t.setRequestHeader=function(d,p){this.u.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,d.push(m[0]+": "+m[1]),m=p.next();return d.join(`\r
`)};function Mh(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(lm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function w2(d){let p="";return B(d,function(m,y){p+=y,p+=":",p+=m,p+=`\r
`}),p}function ZE(d,p,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=w2(m),typeof d=="string"?m!=null&&encodeURIComponent(String(m)):bt(d,p,m))}function Vt(d){Gt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Vt,Gt);var $7=/^https?$/i,z7=["POST","PUT"];t=Vt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,p,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$E.g(),this.v=this.o?rr(this.o):rr($E),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(j){E2(this,j);return}if(d=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)m.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let j of y.keys())m.set(j,y.get(j));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),N=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(z7,p,void 0))||y||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[j,ne]of m)this.g.setRequestHeader(j,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C2(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){E2(this,j)}};function E2(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,b2(d),cm(d)}function b2(d){d.A||(d.A=!0,Xt(d,"complete"),Xt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xt(this,"complete"),Xt(this,"abort"),cm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cm(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?I2(this):this.bb())},t.bb=function(){I2(this)};function I2(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Js(d)!=4||d.Z()!=2)){if(d.u&&Js(d)==4)em(d.Ea,0,d);else if(Xt(d,"readystatechange"),Js(d)==4){d.h=!1;try{let ne=d.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var y;if(y=ne===0){var N=String(d.D).match(f2)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),y=!$7.test(N?N.toLowerCase():"")}m=y}if(m)Xt(d,"complete"),Xt(d,"success");else{d.m=6;try{var j=2<Js(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",b2(d)}}finally{cm(d)}}}}function cm(d,p){if(d.g){C2(d);let m=d.g,y=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||Xt(d,"ready");try{m.onreadystatechange=y}catch{}}}function C2(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Js(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Js(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),rt(p)}};function T2(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function G7(d){let p={};d=(d.g&&2<=Js(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<d.length;y++){if(F(d[y]))continue;var m=M(d[y]);let N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let j=p[N]||[];p[N]=j,j.push(m)}A(p,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kh(d,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[d]||p}function D2(d){this.Aa=0,this.i=[],this.j=new Ch,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kh("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kh("baseRetryDelayMs",5e3,d),this.cb=kh("retryDelaySeedMs",1e4,d),this.Wa=kh("forwardChannelMaxRetries",2,d),this.wa=kh("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new a2(d&&d.concurrentRequestLimit),this.Da=new H7,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=D2.prototype,t.la=8,t.G=1,t.connect=function(d,p,m,y){ir(0),this.W=d,this.H=p||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=O2(this,null,this.W),dm(this)};function XE(d){if(S2(d),d.G==3){var p=d.U++,m=Xs(d.I);if(bt(m,"SID",d.K),bt(m,"RID",p),bt(m,"TYPE","terminate"),Nh(d,m),p=new da(d,d.j,p),p.L=2,p.v=am(Xs(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=F2(p.j,null),p.g.ea(p.v)),p.F=Date.now(),im(p)}P2(d)}function um(d){d.g&&(e1(d),d.g.cancel(),d.g=null)}function S2(d){um(d),d.u&&(a.clearTimeout(d.u),d.u=null),hm(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function dm(d){if(!l2(d.h)&&!d.s){d.s=!0;var p=d.Ga;Lt||Sr(),Mt||(Lt(),Mt=!0),mr.add(p,d),d.B=0}}function q7(d,p){return c2(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ih(f(d.Ga,d,p),N2(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let N=new da(this,this.j,d),j=this.o;if(this.S&&(j?(j=E(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(N.H=j,j=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(p+=y,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=x2(this,N,p),m=Xs(this.I),bt(m,"RID",d),bt(m,"CVER",22),this.D&&bt(m,"X-HTTP-Session-Id",this.D),Nh(this,m),j&&(this.O?p="headers="+encodeURIComponent(String(w2(j)))+"&"+p:this.m&&ZE(m,this.m,j)),YE(this.h,N),this.Ua&&bt(m,"TYPE","init"),this.P?(bt(m,"$req",p),bt(m,"SID","null"),N.T=!0,GE(N,m,null)):GE(N,m,p),this.G=2}}else this.G==3&&(d?A2(this,d):this.i.length==0||l2(this.h)||A2(this))};function A2(d,p){var m;p?m=p.l:m=d.U++;let y=Xs(d.I);bt(y,"SID",d.K),bt(y,"RID",m),bt(y,"AID",d.T),Nh(d,y),d.m&&d.o&&ZE(y,d.m,d.o),m=new da(d,d.j,m,d.B+1),d.m===null&&(m.H=d.o),p&&(d.i=p.D.concat(d.i)),p=x2(d,m,1e3),m.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),YE(d.h,m),GE(m,y,p)}function Nh(d,p){d.H&&B(d.H,function(m,y){bt(p,y,m)}),d.l&&h2({},function(m,y){bt(p,y,m)})}function x2(d,p,m){m=Math.min(d.i.length,m);var y=d.l?f(d.l.Na,d.l,d):null;e:{var N=d.i;let j=-1;for(;;){let ne=["count="+m];j==-1?0<m?(j=N[0].g,ne.push("ofs="+j)):j=0:ne.push("ofs="+j);let ht=!0;for(let Nn=0;Nn<m;Nn++){let Xe=N[Nn].g,Gn=N[Nn].map;if(Xe-=j,0>Xe)j=Math.max(0,N[Nn].g-100),ht=!1;else try{W7(Gn,ne,"req"+Xe+"_")}catch{y&&y(Gn)}}if(ht){y=ne.join("&");break e}}}return d=d.i.splice(0,m),p.D=d,y}function R2(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;Lt||Sr(),Mt||(Lt(),Mt=!0),mr.add(p,d),d.v=0}}function JE(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ih(f(d.Fa,d),N2(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,M2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ih(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ir(10),um(this),M2(this))};function e1(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function M2(d){d.g=new da(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=Xs(d.qa);bt(p,"RID","rpc"),bt(p,"SID",d.K),bt(p,"AID",d.T),bt(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&bt(p,"TO",d.ja),bt(p,"TYPE","xmlhttp"),Nh(d,p),d.m&&d.o&&ZE(p,d.m,d.o),d.L&&(d.g.I=d.L);var m=d.g;d=d.ia,m.L=1,m.v=am(Xs(p)),m.m=null,m.P=!0,i2(m,d)}t.Za=function(){this.C!=null&&(this.C=null,um(this),JE(this),ir(19))};function hm(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function k2(d,p){var m=null;if(d.g==p){hm(d),e1(d),d.g=null;var y=2}else if(KE(d.h,p))m=p.D,u2(d.h,p),y=1;else return;if(d.G!=0){if(p.o)if(y==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var N=d.B;y=Xc(),Xt(y,new e2(y,m)),dm(d)}else R2(d);else if(N=p.s,N==3||N==0&&0<p.X||!(y==1&&q7(d,p)||y==2&&JE(d)))switch(m&&0<m.length&&(p=d.h,p.i=p.i.concat(m)),N){case 1:_l(d,5);break;case 4:_l(d,10);break;case 3:_l(d,6);break;default:_l(d,2)}}}function N2(d,p){let m=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(m*=2),m*p}function _l(d,p){if(d.j.info("Error code "+p),p==2){var m=f(d.fb,d),y=d.Xa;let N=!y;y=new yl(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sm(y,"https"),am(y),N?j7(y.toString(),m):B7(y.toString(),m)}else ir(2);d.G=0,d.l&&d.l.sa(p),P2(d),S2(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ir(2)):(this.j.info("Failed to ping google.com"),ir(1))};function P2(d){if(d.G=0,d.ka=[],d.l){let p=d2(d.h);(p.length!=0||d.i.length!=0)&&(_(d.ka,p),_(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function O2(d,p,m){var y=m instanceof yl?Xs(m):new yl(m);if(y.g!="")p&&(y.g=p+"."+y.g),om(y,y.s);else{var N=a.location;y=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var j=new yl(null);y&&sm(j,y),p&&(j.g=p),N&&om(j,N),m&&(j.l=m),y=j}return m=d.D,p=d.ya,m&&p&&bt(y,m,p),bt(y,"VER",d.la),Nh(d,y),y}function F2(d,p,m){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new Vt(new xh({eb:m})):new Vt(d.pa),p.Ha(d.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L2(){}t=L2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fm(){}fm.prototype.g=function(d,p){return new xr(d,p)};function xr(d,p){Gt.call(this),this.g=new D2(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!F(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!F(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new nu(this)}v(xr,Gt),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){XE(this.g)},xr.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var m={};m.__data__=d,d=m}else this.u&&(m={},m.__data__=ge(d),d=m);p.i.push(new R7(p.Ya++,d)),p.G==3&&dm(p)},xr.prototype.N=function(){this.g.l=null,delete this.j,XE(this.g),delete this.g,xr.aa.N.call(this)};function V2(d){Si.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(let m in p){d=m;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}v(V2,Si);function U2(){ml.call(this),this.status=1}v(U2,ml);function nu(d){this.g=d}v(nu,L2),nu.prototype.ua=function(){Xt(this.g,"a")},nu.prototype.ta=function(d){Xt(this.g,new V2(d))},nu.prototype.sa=function(d){Xt(this.g,new U2)},nu.prototype.ra=function(){Xt(this.g,"b")},fm.prototype.createWebChannel=fm.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,DR=Go.createWebChannelTransport=function(){return new fm},TR=Go.getStatEventTarget=function(){return Xc()},CR=Go.Event=Zr,Gw=Go.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nm.NO_ERROR=0,nm.TIMEOUT=8,nm.HTTP_ERROR=6,Rg=Go.ErrorCode=nm,t2.COMPLETE="complete",IR=Go.EventType=t2,Ys.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,th=Go.WebChannel=Ys,mde=Go.FetchXmlHttpFactory=xh,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,bR=Go.XhrIo=Vt}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var Kj="@firebase/firestore";var Mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");var wh="10.14.0";var jc=new gs("@firebase/firestore");function Mg(){return jc.logLevel}function le(t,...e){if(jc.logLevel<=Oe.DEBUG){let n=e.map(uk);jc.debug(`Firestore (${wh}): ${t}`,...n)}}function Qo(t,...e){if(jc.logLevel<=Oe.ERROR){let n=e.map(uk);jc.error(`Firestore (${wh}): ${t}`,...n)}}function ah(t,...e){if(jc.logLevel<=Oe.WARN){let n=e.map(uk);jc.warn(`Firestore (${wh}): ${t}`,...n)}}function uk(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Ee(t="Unexpected state"){let e=`FIRESTORE (${wh}) INTERNAL ASSERTION FAILED: `+t;throw Qo(e),new Error(e)}function ut(t,e){t||Ee()}function be(t,e){return t}var Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pe=class extends jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Us=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Zw=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},MR=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}},kR=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},NR=class{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Us,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>w(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Us)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new Zw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new Mn(e)}},PR=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},OR=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},FR=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},LR=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ut(this.o===void 0);let r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new FR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vde(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Xw=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=vde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function nt(t,e){return t<e?-1:t>e?1:0}function lh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var qr=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new qr(0,0))}static max(){return new t(new qr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Jw=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},dn=class t extends Jw{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},yde=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bi=class t extends Jw{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return yde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var me=class t{constructor(e){this.path=e}static fromPath(e){return new t(dn.fromString(e))}static fromName(e){return new t(dn.fromString(e).popFirst(5))}static empty(){return new t(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new dn(e.slice()))}};var VR=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};VR.UNKNOWN_ID=-1;function _de(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new qr(n+1,0):new qr(n,r));return new Bc(i,me.empty(),e)}function wde(t){return new Bc(t.readTime,t.key,-1)}var Bc=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Se.min(),me.empty(),-1)}static max(){return new t(Se.max(),me.empty(),-1)}};function Ede(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}var bde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UR=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qg(t){return w(this,null,function*(){if(t.code!==Z.FAILED_PRECONDITION||t.message!==bde)throw t;le("LocalStore","Unexpectedly lost primary lease")})}var ee=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Ide(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qg(t){return t.name==="IndexedDbTransactionError"}var DB=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function TE(t){return t==null}function eE(t){return t===0&&1/t==-1/0}var Cde=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jke=[...Cde,"documentOverlays"],Tde=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dde=Tde,Sde=[...Dde,"indexConfiguration","indexState","indexEntries"];var e2e=[...Sde,"globals"];function Yj(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kg(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ade(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var zt=class t{constructor(e,n){this.comparator=e,this.root=n||js.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}},sh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},js=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();let e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}};js.EMPTY=null,js.RED=!0,js.BLACK=!1;js.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new js(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tr=class t{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},tE=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ll=class t{constructor(e){this.fields=e,e.sort(bi.comparator)}static empty(){return new t([])}unionWith(e){let n=new tr(bi.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lh(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var nE=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nE("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nr.EMPTY_BYTE_STRING=new nr("");var xde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(t){if(ut(!!t),typeof t=="string"){let e=0,n=xde.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}function dk(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hk(t){let e=t.mapValue.fields.__previous_value__;return dk(e)?hk(e):e}function Lg(t){let e=Ko(t.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}var jR=class{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}},rE=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dk(t)?4:AB(t)?9007199254740991:SB(t)?10:11:Ee()}function Ws(t,e){if(t===e)return!0;let n=Hc(t);if(n!==Hc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lg(t).isEqual(Lg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ko(i.timestampValue),a=Ko(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return cl(i.bytesValue).isEqual(cl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xt(i.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xt(i.integerValue)===xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=xt(i.doubleValue),a=xt(s.doubleValue);return o===a?eE(o)===eE(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lh(t.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Yj(o)!==Yj(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ws(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Vg(t,e){return(t.values||[]).find(n=>Ws(n,e))!==void 0}function ch(t,e){if(t===e)return 0;let n=Hc(t),r=Hc(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=xt(s.integerValue||s.doubleValue),l=xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Zj(t.timestampValue,e.timestampValue);case 4:return Zj(Lg(t),Lg(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(s,o){let a=cl(s),l=cl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=nt(a[c],l[c]);if(u!==0)return u}return nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=nt(xt(s.latitude),xt(o.latitude));return a!==0?a:nt(xt(s.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xj(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;let h=s.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=nt(((c=g?.values)===null||c===void 0?void 0:c.length)||0,((u=v?.values)===null||u===void 0?void 0:u.length)||0);return b!==0?b:Xj(g,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qw.mapValue&&o===qw.mapValue)return 0;if(s===qw.mapValue)return 1;if(o===qw.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){let f=nt(l[h],u[h]);if(f!==0)return f;let g=ch(a[l[h]],c[u[h]]);if(g!==0)return g}return nt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Zj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);let n=Ko(t),r=Ko(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function Xj(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ch(n[i],r[i]);if(s)return s}return nt(n.length,r.length)}function uh(t){return BR(t)}function BR(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=BR(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${BR(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function HR(t){return!!t&&"integerValue"in t}function fk(t){return!!t&&"arrayValue"in t}function Jj(t){return!!t&&"nullValue"in t}function eB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kw(t){return!!t&&"mapValue"in t}function SB(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ng(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Kg(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ng(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ng(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Vs=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ng(n)}setAll(e){let n=bi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ng(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Kw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kg(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ng(this.value))}};function xB(t){let e=[];return Kg(t.fields,(n,r)=>{let i=new bi([n]);if(Kw(r)){let s=xB(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ll(e)}var ts=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Se.min(),Se.min(),Se.min(),Vs.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Se.min(),Se.min(),Vs.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Se.min(),Se.min(),Vs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var dh=class{constructor(e,n){this.position=e,this.inclusive=n}};function tB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),n.key):r=ch(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nB(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ws(t.position[n],e.position[n]))return!1;return!0}var hh=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Rde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var iE=class{},In=class t extends iE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $R(e,n,r):n==="array-contains"?new qR(e,r):n==="in"?new QR(e,r):n==="not-in"?new KR(e,r):n==="array-contains-any"?new YR(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zR(e,r):new GR(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ch(n,this.value)):n!==null&&Hc(this.value)===Hc(n)&&this.matchesComparison(ch(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$s=class t extends iE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return RB(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function RB(t){return t.op==="and"}function MB(t){return Mde(t)&&RB(t)}function Mde(t){for(let e of t.filters)if(e instanceof $s)return!1;return!0}function WR(t){if(t instanceof In)return t.field.canonicalString()+t.op.toString()+uh(t.value);if(MB(t))return t.filters.map(e=>WR(e)).join(",");{let e=t.filters.map(n=>WR(n)).join(",");return`${t.op}(${e})`}}function kB(t,e){return t instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.field.isEqual(i.field)&&Ws(r.value,i.value)}(t,e):t instanceof $s?function(r,i){return i instanceof $s&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kB(o,i.filters[a]),!0):!1}(t,e):void Ee()}function NB(t){return t instanceof In?function(n){return`${n.field.canonicalString()} ${n.op} ${uh(n.value)}`}(t):t instanceof $s?function(n){return n.op.toString()+" {"+n.getFilters().map(NB).join(" ,")+"}"}(t):"Filter"}var $R=class extends In{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){let n=me.comparator(e.key,this.key);return this.matchesComparison(n)}},zR=class extends In{constructor(e,n){super(e,"in",n),this.keys=PB("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},GR=class extends In{constructor(e,n){super(e,"not-in",n),this.keys=PB("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function PB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}var qR=class extends In{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return fk(n)&&Vg(n.arrayValue,this.value)}},QR=class extends In{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Vg(this.value.arrayValue,n)}},KR=class extends In{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Vg(this.value.arrayValue,n)}},YR=class extends In{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!fk(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vg(this.value.arrayValue,r))}};var ZR=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function rB(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ZR(t,e,n,r,i,s,o)}function pk(t){let e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WR(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),TE(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uh(r)).join(",")),e.ue=n}return e.ue}function gk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nB(t.startAt,e.startAt)&&nB(t.endAt,e.endAt)}function XR(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var fh=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kde(t,e,n,r,i,s,o,a){return new fh(t,e,n,r,i,s,o,a)}function mk(t){return new fh(t)}function iB(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Nde(t){return t.collectionGroup!==null}function Pg(t){let e=be(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tr(bi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new hh(s,r))}),n.has(bi.keyField().canonicalString())||e.ce.push(new hh(bi.keyField(),r))}return e.ce}function Bs(t){let e=be(t);return e.le||(e.le=Pde(e,Pg(t))),e.le}function Pde(t,e){if(t.limitType==="F")return rB(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new hh(i.field,s)});let n=t.endAt?new dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dh(t.startAt.position,t.startAt.inclusive):null;return rB(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function JR(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function DE(t,e){return gk(Bs(t),Bs(e))&&t.limitType===e.limitType}function OB(t){return`${pk(Bs(t))}|lt:${t.limitType}`}function nh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NB(i)).join(", ")}]`),TE(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uh(i)).join(",")),`Target(${r})`}(Bs(t))}; limitType=${t.limitType})`}function SE(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Pg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let c=tB(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Pg(r),i)||r.endAt&&!function(o,a,l){let c=tB(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Pg(r),i))}(t,e)}function Ode(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FB(t){return(e,n)=>{let r=!1;for(let i of Pg(t)){let s=Fde(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fde(t,e,n){let r=t.field.isKeyField()?me.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ch(l,c):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}var ul=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kg(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Ade(this.inner)}size(){return this.innerSize}};var Lde=new zt(me.comparator);function Yo(){return Lde}var LB=new zt(me.comparator);function kg(...t){let e=LB;for(let n of t)e=e.insert(n.key,n);return e}function VB(t){let e=LB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lc(){return Og()}function UB(){return Og()}function Og(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}var Vde=new zt(me.comparator),Ude=new tr(me.comparator);function He(...t){let e=Ude;for(let n of t)e=e.add(n);return e}var jde=new tr(nt);function Bde(){return jde}function Hde(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eE(e)?"-0":e}}function Wde(t){return{integerValue:""+t}}var ph=class{constructor(){this._=void 0}};function $de(t,e,n){return t instanceof gh?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dk(s)&&(s=hk(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wc?BB(t,e):t instanceof $c?HB(t,e):function(i,s){let o=jB(i,s),a=sB(o)+sB(i.Pe);return HR(o)&&HR(i.Pe)?Wde(a):Hde(i.serializer,a)}(t,e)}function zde(t,e,n){return t instanceof Wc?BB(t,e):t instanceof $c?HB(t,e):n}function jB(t,e){return t instanceof mh?function(r){return HR(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var gh=class extends ph{},Wc=class extends ph{constructor(e){super(),this.elements=e}};function BB(t,e){let n=WB(e);for(let r of t.elements)n.some(i=>Ws(i,r))||n.push(r);return{arrayValue:{values:n}}}var $c=class extends ph{constructor(e){super(),this.elements=e}};function HB(t,e){let n=WB(e);for(let r of t.elements)n=n.filter(i=>!Ws(i,r));return{arrayValue:{values:n}}}var mh=class extends ph{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function sB(t){return xt(t.integerValue||t.doubleValue)}function WB(t){return fk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Gde(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wc&&i instanceof Wc||r instanceof $c&&i instanceof $c?lh(r.elements,i.elements,Ws):r instanceof mh&&i instanceof mh?Ws(r.Pe,i.Pe):r instanceof gh&&i instanceof gh}(t.transform,e.transform)}var eM=class{constructor(e,n){this.version=e,this.transformResults=n}},Uc=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yw(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vh=class{};function $B(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ug(t.key,Uc.none()):new yh(t.key,t.data,Uc.none());{let n=t.data,r=Vs.empty(),i=new tr(bi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dl(t.key,r,new ll(i.toArray()),Uc.none())}}function qde(t,e,n){t instanceof yh?function(i,s,o){let a=i.value.clone(),l=aB(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dl?function(i,s,o){if(!Yw(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=aB(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zB(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fg(t,e,n,r){return t instanceof yh?function(s,o,a,l){if(!Yw(s.precondition,o))return a;let c=s.value.clone(),u=lB(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof dl?function(s,o,a,l){if(!Yw(s.precondition,o))return a;let c=lB(s.fieldTransforms,l,o),u=o.data;return u.setAll(zB(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Yw(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Qde(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=jB(r.transform,i||null);s!=null&&(n===null&&(n=Vs.empty()),n.set(r.field,s))}return n||null}function oB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lh(r,i,(s,o)=>Gde(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var yh=class extends vh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},dl=class extends vh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function zB(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function aB(t,e,n){let r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zde(o,a,n[i]))}return r}function lB(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,$de(s,o,e))}return r}var Ug=class extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},tM=class extends vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var nM=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&qde(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fg(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=UB();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let l=$B(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&lh(this.mutations,e.mutations,(n,r)=>oB(n,r))&&lh(this.baseMutations,e.baseMutations,(n,r)=>oB(n,r))}},rM=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=function(){return Vde}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var iM=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sM=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var cn,Ye;function Kde(t){switch(t){default:return Ee();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function GB(t){if(t===void 0)return Qo("GRPC error has no .code"),Z.UNKNOWN;switch(t){case cn.OK:return Z.OK;case cn.CANCELLED:return Z.CANCELLED;case cn.UNKNOWN:return Z.UNKNOWN;case cn.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case cn.INTERNAL:return Z.INTERNAL;case cn.UNAVAILABLE:return Z.UNAVAILABLE;case cn.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case cn.NOT_FOUND:return Z.NOT_FOUND;case cn.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case cn.ABORTED:return Z.ABORTED;case cn.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case cn.DATA_LOSS:return Z.DATA_LOSS;default:return Ee()}}(Ye=cn||(cn={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";var cB=null;function Yde(){return new TextEncoder}var Zde=new al([4294967295,4294967295],0);function uB(t){let e=Yde().encode(t),n=new ER;return n.update(e),new Uint8Array(n.digest())}function dB(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new al([n,r],0),new al([i,s],0)]}var oM=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=al.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(al.fromNumber(r)));return i.compare(Zde)===1&&(i=new al([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=uB(e),[r,i]=dB(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=uB(e),[r,i]=dB(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Vc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sE=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,jg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Se.min(),i,new zt(nt),Yo(),He())}},jg=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,He(),He(),He())}};var oh=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},oE=class{constructor(e,n){this.targetId=e,this.me=n}},aE=class{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},lE=class{constructor(){this.fe=0,this.ge=fB(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),n=He(),r=He();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new jg(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=fB()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},aM=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yo(),this.qe=hB(),this.Qe=new zt(nt)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(XR(s))if(r===0){let o=new me(s.path);this.Ue(n,o,ts.newNoDocument(o,Se.min()))}else ut(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}cB?.et(function(u,h,f,g,v){var b,_,x,F,W,I;let te={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},B=h.unchangedNames;return B&&(te.bloomFilter={applied:v===0,hashCount:(b=B?.hashCount)!==null&&b!==void 0?b:0,bitmapLength:(F=(x=(_=B?.bits)===null||_===void 0?void 0:_.bitmap)===null||x===void 0?void 0:x.length)!==null&&F!==void 0?F:0,padding:(I=(W=B?.bits)===null||W===void 0?void 0:W.padding)!==null&&I!==void 0?I:0,mightContain:A=>{var E;return(E=g?.mightContain(A))!==null&&E!==void 0&&E}}),te}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=cl(r).toUint8Array()}catch(l){if(l instanceof nE)return ah("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oM(o,i,s)}catch(l){return ah(l instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&XR(a.target)){let l=new me(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ts.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=He();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new sE(e,n,this.Qe,this.ke,r);return this.ke=Yo(),this.qe=hB(),this.Qe=new zt(nt),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(nt),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function hB(){return new zt(me.comparator)}function fB(){return new zt(me.comparator)}var Xde={asc:"ASCENDING",desc:"DESCENDING"},Jde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ehe={and:"AND",or:"OR"},lM=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function cM(t,e){return t.useProto3Json||TE(e)?e:{value:e}}function qB(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function the(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nhe(t,e){return qB(t,e.toTimestamp())}function Hs(t){return ut(!!t),Se.fromTimestamp(function(n){let r=Ko(n);return new qr(r.seconds,r.nanos)}(t))}function QB(t,e){return uM(t,e).canonicalString()}function uM(t,e){let n=function(i){return new dn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KB(t){let e=dn.fromString(t);return ut(e9(e)),e}function dM(t,e){return QB(t.databaseId,e.path)}function SR(t,e){let n=KB(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(ZB(n))}function YB(t,e){return QB(t.databaseId,e)}function rhe(t){let e=KB(t);return e.length===4?dn.emptyPath():ZB(e)}function hM(t){return new dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZB(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pB(t,e,n){return{name:dM(t,e),fields:n.value.mapValue.fields}}function ihe(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ut(u===void 0||typeof u=="string"),nr.fromBase64String(u||"")):(ut(u===void 0||u instanceof Buffer||u instanceof Uint8Array),nr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?Z.UNKNOWN:GB(c.code);return new pe(u,c.message||"")}(o);n=new aE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=SR(t,r.document.name),s=Hs(r.document.updateTime),o=r.document.createTime?Hs(r.document.createTime):Se.min(),a=new Vs({mapValue:{fields:r.document.fields}}),l=ts.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new oh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=SR(t,r.document),s=r.readTime?Hs(r.readTime):Se.min(),o=ts.newNoDocument(i,s),a=r.removedTargetIds||[];n=new oh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=SR(t,r.document),s=r.removedTargetIds||[];n=new oh([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new sM(i,s),a=r.targetId;n=new oE(a,o)}}return n}function she(t,e){let n;if(e instanceof yh)n={update:pB(t,e.key,e.value)};else if(e instanceof Ug)n={delete:dM(t,e.key)};else if(e instanceof dl)n={update:pB(t,e.key,e.data),updateMask:phe(e.fieldMask)};else{if(!(e instanceof tM))return Ee();n={verify:dM(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof gh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $c)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nhe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function ohe(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Hs(i.updateTime):Hs(s);return o.isEqual(Se.min())&&(o=Hs(s)),new eM(o,i.transformResults||[])}(n,e))):[]}function ahe(t,e){return{documents:[YB(t,e.path)]}}function lhe(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YB(t,i);let s=function(c){if(c.length!==0)return JB($s.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:rh(f.field),direction:dhe(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=cM(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function che(t){let e=rhe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ut(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){let f=XB(h);return f instanceof $s&&MB(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new hh(ih(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,TE(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){let f=!!h.before,g=h.values||[];return new dh(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){let f=!h.before,g=h.values||[];return new dh(g,f)}(n.endAt)),kde(e,i,o,s,a,"F",l,c)}function uhe(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XB(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ih(n.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ih(n.unaryFilter.field);return In.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ih(n.unaryFilter.field);return In.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ih(n.unaryFilter.field);return In.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return In.create(ih(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $s.create(n.compositeFilter.filters.map(r=>XB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function dhe(t){return Xde[t]}function hhe(t){return Jde[t]}function fhe(t){return ehe[t]}function rh(t){return{fieldPath:t.canonicalString()}}function ih(t){return bi.fromServerFormat(t.fieldPath)}function JB(t){return t instanceof In?function(n){if(n.op==="=="){if(eB(n.value))return{unaryFilter:{field:rh(n.field),op:"IS_NAN"}};if(Jj(n.value))return{unaryFilter:{field:rh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eB(n.value))return{unaryFilter:{field:rh(n.field),op:"IS_NOT_NAN"}};if(Jj(n.value))return{unaryFilter:{field:rh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(n.field),op:hhe(n.op),value:n.value}}}(t):t instanceof $s?function(n){let r=n.getFilters().map(i=>JB(i));return r.length===1?r[0]:{compositeFilter:{op:fhe(n.op),filters:r}}}(t):Ee()}function phe(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function e9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Bg=class t{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var fM=class{constructor(e){this.ct=e}};function ghe(t){let e=che({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?JR(e,e.limit,"L"):e}var cE=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xt(e.integerValue));else if("doubleValue"in e){let r=xt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),eE(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ko(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(cl(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?AB(e)?this.dt(n,Number.MAX_SAFE_INTEGER):SB(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(xt(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),me.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};cE.vt=new cE;var pM=class{constructor(){this.un=new gM}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Bc.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Bc.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}},gM=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(dn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(dn.comparator)).toArray()}};var n2e=new Uint8Array(0);var Ls=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);var Hg=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var mM=class{constructor(){this.changes=new ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ts.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vM=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var yM=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fg(r.mutation,i,ll.empty(),qr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){let i=Lc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Lc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yo(),o=Og(),a=function(){return Og()}();return n.forEach((l,c)=>{let u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof dl)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Fg(u.mutation,c,u.mutation.getFieldMask(),qr.now())):o.set(c.key,ll.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new vM(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Og(),i=new zt((o,a)=>o-a),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=n.get(l);if(c===null)return;let u=r.get(l)||ll.empty();u=a.applyToLocalView(c,u),r.set(l,u);let h=(i.get(a.batchId)||He()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,h=UB();u.forEach(f=>{if(!s.has(f)){let g=$B(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Nde(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(Lc()),a=-1,l=s;return o.next(c=>ee.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ee.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,He())).next(u=>({batchId:a,changes:VB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let i=kg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=kg();return this.indexManager.getCollectionParents(e,s).next(a=>ee.forEach(a,l=>{let c=function(h,f){return new fh(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,ts.newInvalidDocument(u)))});let a=kg();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&Fg(u.mutation,c,ll.empty(),qr.now()),SE(n,c)&&(a=a.insert(l,c))}),a})}};var _M=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hs(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ghe(i.bundledQuery),readTime:Hs(i.readTime)}}(n)),ee.resolve()}};var wM=class{constructor(){this.overlays=new zt(me.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Lc();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){let i=Lc(),s=n.length+1,o=new me(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new zt((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Lc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=Lc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ee.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iM(n,r));let s=this.Ir.get(n);s===void 0&&(s=He(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var EM=class{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}};var Wg=class{constructor(){this.Tr=new tr(un.Er),this.dr=new tr(un.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new un(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new un(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new me(new dn([])),r=new un(n,e),i=new un(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new me(new dn([])),r=new un(n,e),i=new un(n,e+1),s=He();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new un(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},un=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||nt(e.wr,n.wr)}static Ar(e,n){return nt(e.wr,n.wr)||me.comparator(e.key,n.key)}};var bM=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr(un.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new nM(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new un(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new un(n,0),i=new un(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(nt);return n.forEach(i=>{let s=new un(i,0),o=new un(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;me.isDocumentKey(s)||(s=s.child(""));let o=new un(new me(s),0),a=new tr(nt);return this.br.forEachWhile(l=>{let c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),ee.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{let s=new un(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new un(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var IM=class{constructor(e){this.Mr=e,this.docs=function(){return new zt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():ts.newInvalidDocument(n))}getEntries(e,n){let r=Yo();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ts.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yo(),o=n.path,a=new me(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Ede(wde(u),r)<=0||(i.has(u.key)||SE(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CM(this)}getSize(e){return ee.resolve(this.size)}},CM=class extends mM{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var TM=class{constructor(e){this.persistence=e,this.Nr=new ul(n=>pk(n),gk),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wg,this.targetCount=0,this.kr=Hg.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Hg(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}};var DM=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new DB(0),this.Kr=!1,this.Kr=!0,this.$r=new EM,this.referenceDelegate=e(this),this.Ur=new TM(this),this.indexManager=new pM,this.remoteDocumentCache=function(i){return new IM(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new fM(n),this.Gr=new _M(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);let i=new SM(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},SM=class extends UR{constructor(e){super(),this.currentSequenceNumber=e}},AM=class t{constructor(e){this.persistence=e,this.Jr=new Wg,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{let i=me.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var xM=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=He(),i=He();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var RM=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var MM=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return V4()?8:Ide(Dn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new RM;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Mg()<=Oe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",nh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Mg()<=Oe.DEBUG&&le("QueryEngine","Query:",nh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Mg()<=Oe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",nh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bs(n))):ee.resolve())}Yi(e,n){if(iB(n))return ee.resolve(null);let r=Bs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=JR(n,null,"F"),r=Bs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=He(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,JR(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return iB(n)||i.isEqual(Se.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?ee.resolve(null):(Mg()<=Oe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nh(n)),this.rs(e,o,n,_de(i,-1)).next(a=>a))})}ts(e,n){let r=new tr(FB(e));return n.forEach((i,s)=>{SE(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Mg()<=Oe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",nh(n)),this.Ji.getDocumentsMatchingQuery(e,n,Bc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var kM=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new zt(nt),this._s=new ul(s=>pk(s),gk),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function mhe(t,e,n,r){return new kM(t,e,n,r)}function t9(t,e){return w(this,null,function*(){let n=be(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=He();for(let c of i){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})}function vhe(t,e){let n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let h=c.batch,f=h.keys(),g=ee.resolve();return f.forEach(v=>{g=g.next(()=>u.getEntry(l,v)).next(b=>{let _=c.docVersions.get(v);ut(_!==null),b.version.compareTo(_)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),u.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=He();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function n9(t){let e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yhe(t,e){let n=be(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((u,h)=>{let f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(nr.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),i=i.insert(h,g),function(b,_,x){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,u)&&a.push(n.Ur.updateTargetData(s,g))});let l=Yo(),c=He();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(_he(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Se.min())){let u=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ee.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function _he(t,e,n){let r=He(),i=He();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yo();return n.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function whe(t,e){let n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ehe(t,e){let n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Bg(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function NM(t,e,n){return w(this,null,function*(){let r=be(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Qg(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function gB(t,e,n){let r=be(t),i=Se.min(),s=He();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let h=be(l),f=h._s.get(u);return f!==void 0?ee.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,o,Bs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:He())).next(a=>(bhe(r,Ode(e),a),{documents:a,Ts:s})))}function bhe(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var uE=class{constructor(){this.activeTargetIds=Bde()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var PM=class{constructor(){this.so=new uE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var OM=class{_o(e){}shutdown(){}};var dE=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qw=null;function AR(){return Qw===null?Qw=function(){return 268435456+Math.round(2147483648*Math.random())}():Qw++,"0x"+Qw.toString(16)}var Ihe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var FM=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var er="WebChannelConnection",LM=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=AR(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);let c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(le("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ah("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Ihe[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=AR();return new Promise((o,a)=>{let l=new bR;l.setWithCredentials(!0),l.listenOnce(IR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Rg.NO_ERROR:let u=l.getResponseJson();le(er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Rg.TIMEOUT:le(er,`RPC '${e}' ${s} timed out`),a(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Rg.HTTP_ERROR:let h=l.getStatus();if(le(er,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);let g=f?.error;if(g&&g.status&&g.message){let v=function(_){let x=_.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(x)>=0?x:Z.UNKNOWN}(g.status);a(new pe(v,g.message))}else a(new pe(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(er,`RPC '${e}' ${s} completed.`)}});let c=JSON.stringify(i);le(er,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){let i=AR(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DR(),a=TR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let u=s.join("");le(er,`Creating RPC '${e}' stream ${i}: ${u}`,l);let h=o.createWebChannel(u,l),f=!1,g=!1,v=new FM({Io:_=>{g?le(er,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(le(er,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),le(er,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},To:()=>h.close()}),b=(_,x,F)=>{_.listen(x,W=>{try{F(W)}catch(I){setTimeout(()=>{throw I},0)}})};return b(h,th.EventType.OPEN,()=>{g||(le(er,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(h,th.EventType.CLOSE,()=>{g||(g=!0,le(er,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(h,th.EventType.ERROR,_=>{g||(g=!0,ah(er,`RPC '${e}' stream ${i} transport errored:`,_),v.So(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),b(h,th.EventType.MESSAGE,_=>{var x;if(!g){let F=_.data[0];ut(!!F);let W=F,I=W.error||((x=W[0])===null||x===void 0?void 0:x.error);if(I){le(er,`RPC '${e}' stream ${i} received error:`,I);let te=I.status,B=function(D){let R=cn[D];if(R!==void 0)return GB(R)}(te),A=I.message;B===void 0&&(B=Z.INTERNAL,A="Unknown error status: "+te+" with message "+I.message),g=!0,v.So(new pe(B,A)),h.close()}else le(er,`RPC '${e}' stream ${i} received:`,F),v.bo(F)}}),b(a,CR.STAT_EVENT,_=>{_.stat===Gw.PROXY?le(er,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Gw.NOPROXY&&le(er,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function xR(){return typeof document<"u"?document:null}function r9(t){return new lM(t,!0)}var hE=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var fE=class{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Qo(n.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},VM=class extends fE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=ihe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Hs(o.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=hM(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=XR(l)?{documents:ahe(s,l)}:{query:lhe(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=the(s,o.resumeToken);let c=cM(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=qB(s,o.snapshotVersion.toTimestamp());let c=cM(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let r=uhe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=hM(this.serializer),n.removeTarget=e,this.a_(n)}},UM=class extends fE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=ohe(e.writeResults,e.commitTime),r=Hs(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=hM(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>she(this.serializer,r))};this.a_(n)}};var jM=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,uM(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(Z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,uM(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},BM=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qo(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var HM=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){zc(this)&&(le("RemoteStore","Restarting streams for network reachability change."),yield function(l){return w(this,null,function*(){let c=be(l);c.L_.add(4),yield Yg(c),c.q_.set("Unknown"),c.L_.delete(4),yield AE(c)})}(this))}))}),this.q_=new BM(r,i)}};function AE(t){return w(this,null,function*(){if(zc(t))for(let e of t.B_)yield e(!0)})}function Yg(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function i9(t,e){let n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),wk(n)?_k(n):Eh(n).r_()&&yk(n,e))}function vk(t,e){let n=be(t),r=Eh(n);n.N_.delete(e),r.r_()&&s9(n,e),n.N_.size===0&&(r.r_()?r.o_():zc(n)&&n.q_.set("Unknown"))}function yk(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eh(t).A_(e)}function s9(t,e){t.Q_.xe(e),Eh(t).R_(e)}function _k(t){t.Q_=new aM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eh(t).start(),t.q_.v_()}function wk(t){return zc(t)&&!Eh(t).n_()&&t.N_.size>0}function zc(t){return be(t).L_.size===0}function o9(t){t.Q_=void 0}function Che(t){return w(this,null,function*(){t.q_.set("Online")})}function The(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{yk(t,e)})})}function Dhe(t,e){return w(this,null,function*(){o9(t),wk(t)?(t.q_.M_(e),_k(t)):t.q_.set("Unknown")})}function She(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof aE&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pE(t,r)}else if(e instanceof oh?t.Q_.Ke(e):e instanceof oE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{let r=yield n9(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(nr.EMPTY_BYTE_STRING,u.snapshotVersion)),s9(s,l);let h=new Bg(u.target,l,c,u.sequenceNumber);yk(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){le("RemoteStore","Failed to raise snapshot:",r),yield pE(t,r)}})}function pE(t,e,n){return w(this,null,function*(){if(!Qg(e))throw e;t.L_.add(1),yield Yg(t),t.q_.set("Offline"),n||(n=()=>n9(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){le("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield AE(t)}))})}function a9(t,e){return e().catch(n=>pE(t,n,e))}function xE(t){return w(this,null,function*(){let e=be(t),n=hl(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ahe(e);)try{let i=yield whe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,xhe(e,i)}catch(i){yield pE(e,i)}l9(e)&&c9(e)})}function Ahe(t){return zc(t)&&t.O_.length<10}function xhe(t,e){t.O_.push(e);let n=hl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function l9(t){return zc(t)&&!hl(t).n_()&&t.O_.length>0}function c9(t){hl(t).start()}function Rhe(t){return w(this,null,function*(){hl(t).p_()})}function Mhe(t){return w(this,null,function*(){let e=hl(t);for(let n of t.O_)e.m_(n.mutations)})}function khe(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=rM.from(r,e,n);yield a9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield xE(t)})}function Nhe(t,e){return w(this,null,function*(){e&&hl(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return Kde(o)&&o!==Z.ABORTED}(i.code)){let s=r.O_.shift();hl(r).s_(),yield a9(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield xE(r)}})}(t,e)),l9(t)&&c9(t)})}function mB(t,e){return w(this,null,function*(){let n=be(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");let r=zc(n);n.L_.add(3),yield Yg(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield AE(n)})}function Phe(t,e){return w(this,null,function*(){let n=be(t);e?(n.L_.delete(2),yield AE(n)):e||(n.L_.add(2),yield Yg(n),n.q_.set("Unknown"))})}function Eh(t){return t.K_||(t.K_=function(n,r,i){let s=be(n);return s.w_(),new VM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Che.bind(null,t),Ro:The.bind(null,t),mo:Dhe.bind(null,t),d_:She.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),wk(t)?_k(t):t.q_.set("Unknown")):(yield t.K_.stop(),o9(t))}))),t.K_}function hl(t){return t.U_||(t.U_=function(n,r,i){let s=be(n);return s.w_(),new UM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Rhe.bind(null,t),mo:Nhe.bind(null,t),f_:Mhe.bind(null,t),g_:khe.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield xE(t)):(yield t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var WM=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ek(t,e){if(Qo("AsyncQueue",`${e}: ${t}`),Qg(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}var gE=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=kg(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var mE=class{constructor(){this.W_=new zt(me.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},_h=class t{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,gE.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&DE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var $M=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},zM=class{constructor(){this.queries=vB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=be(n),s=i.queries;i.queries=vB(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}};function vB(){return new ul(t=>OB(t),DE)}function Ohe(t,e){return w(this,null,function*(){let n=be(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new $M,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Ek(o,`Initialization of query '${nh(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&bk(n)})}function Fhe(t,e){return w(this,null,function*(){let n=be(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Lhe(t,e){let n=be(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&bk(n)}function Vhe(t,e,n){let r=be(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function bk(t){t.Y_.forEach(e=>{e.next()})}var GM,yB;(yB=GM||(GM={})).ea="default",yB.Cache="cache";var qM=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _h(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==GM.Cache}};var vE=class{constructor(e){this.key=e}},yE=class{constructor(e){this.key=e}},QM=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=FB(e),this.Ra=new gE(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new mE,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{let f=i.get(u),g=SE(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),_=!1;f&&g?f.data.isEqual(g.data)?v!==b&&(r.track({type:3,doc:g}),_=!0):this.ga(f,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),_=!0):f&&!g&&(r.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),s=b?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((u,h)=>function(g,v){let b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(g)-b(v)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new _h(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=He(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new yE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new vE(r))}),n}ba(e){this.Ta=e.Ts,this.da=He();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _h.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},KM=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},YM=class{constructor(e){this.key=e,this.va=!1}},ZM=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ul(a=>OB(a),DE),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(me.comparator),this.Na=new Map,this.La=new Wg,this.Ba={},this.ka=new Map,this.qa=Hg.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Uhe(t,e,n=!0){return w(this,null,function*(){let r=g9(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield u9(r,e,n,!0),i})}function jhe(t,e){return w(this,null,function*(){let n=g9(t);yield u9(n,e,!0,!1)})}function u9(t,e,n,r){return w(this,null,function*(){let i=yield Ehe(t.localStore,Bs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Bhe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&i9(t.remoteStore,i),a})}function Bhe(t,e,n,r,i){return w(this,null,function*(){t.Ka=(h,f,g)=>function(b,_,x,F){return w(this,null,function*(){let W=_.view.ma(x);W.ns&&(W=yield gB(b.localStore,_.query,!1).then(({documents:A})=>_.view.ma(A,W)));let I=F&&F.targetChanges.get(_.targetId),te=F&&F.targetMismatches.get(_.targetId)!=null,B=_.view.applyChanges(W,b.isPrimaryClient,I,te);return wB(b,_.targetId,B.wa),B.snapshot})}(t,h,f,g);let s=yield gB(t.localStore,e,!0),o=new QM(e,s.Ts),a=o.ma(s.documents),l=jg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);wB(t,n,c.wa);let u=new KM(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot})}function Hhe(t,e,n){return w(this,null,function*(){let r=be(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!DE(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield NM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vk(r.remoteStore,i.targetId),XM(r,i.targetId)}).catch(qg))):(XM(r,i.targetId),yield NM(r.localStore,i.targetId,!0))})}function Whe(t,e){return w(this,null,function*(){let n=be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vk(n.remoteStore,r.targetId))})}function $he(t,e,n){return w(this,null,function*(){let r=Zhe(t);try{let i=yield function(o,a){let l=be(o),c=qr.now(),u=a.reduce((g,v)=>g.add(v.key),He()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Yo(),b=He();return l.cs.getEntries(g,u).next(_=>{v=_,v.forEach((x,F)=>{F.isValidDocument()||(b=b.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(_=>{h=_;let x=[];for(let F of a){let W=Qde(F,h.get(F.key).overlayedDocument);W!=null&&x.push(new dl(F.key,W,xB(W.value.mapValue),Uc.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(_=>{f=_;let x=_.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:f.batchId,changes:VB(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new zt(nt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),yield Zg(r,i.changes),yield xE(r.remoteStore)}catch(i){let s=Ek(i,"Failed to persist write");n.reject(s)}})}function d9(t,e){return w(this,null,function*(){let n=be(t);try{let r=yield yhe(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ut(o.va):i.removedDocuments.size>0&&(ut(o.va),o.va=!1))}),yield Zg(n,r,e)}catch(r){yield qg(r)}})}function _B(t,e,n){let r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=be(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(let f of h.j_)f.Z_(a)&&(c=!0)}),c&&bk(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zhe(t,e,n){return w(this,null,function*(){let r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new zt(me.comparator);o=o.insert(s,ts.newNoDocument(s,Se.min()));let a=He().add(s),l=new sE(Se.min(),new Map,new zt(nt),o,a);yield d9(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ik(r)}else yield NM(r.localStore,e,!1).then(()=>XM(r,e,n)).catch(qg)})}function Ghe(t,e){return w(this,null,function*(){let n=be(t),r=e.batch.batchId;try{let i=yield vhe(n.localStore,e);f9(n,r,null),h9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Zg(n,i)}catch(i){yield qg(i)}})}function qhe(t,e,n){return w(this,null,function*(){let r=be(t);try{let i=yield function(o,a){let l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ut(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);f9(r,e,n),h9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Zg(r,i)}catch(i){yield qg(i)}})}function h9(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function f9(t,e,n){let r=be(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function XM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||p9(t,r)})}function p9(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(vk(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ik(t))}function wB(t,e,n){for(let r of n)r instanceof vE?(t.La.addReference(r.key,e),Qhe(t,r)):r instanceof yE?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||p9(t,r.key)):Ee()}function Qhe(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ik(t))}function Ik(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new me(dn.fromString(e)),r=t.qa.next();t.Na.set(r,new YM(n)),t.Oa=t.Oa.insert(n,r),i9(t.remoteStore,new Bg(Bs(mk(n.path)),r,"TargetPurposeLimboResolution",DB.oe))}}function Zg(t,e,n){return w(this,null,function*(){let r=be(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){let h=c?!c.fromCache:(u=n?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);let h=xM.Wi(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(l,c){return w(this,null,function*(){let u=be(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ee.forEach(c,f=>ee.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>ee.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Qg(h))throw h;le("LocalStore","Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let g=u.os.get(f),v=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(f,b)}}})}(r.localStore,s))})}function Khe(t,e){return w(this,null,function*(){let n=be(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());let r=yield t9(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new pe(Z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zg(n,r.hs)}})}function Yhe(t,e){let n=be(t),r=n.Na.get(e);if(r&&r.va)return He().add(r.key);{let i=He(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function g9(t){let e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zhe.bind(null,e),e.Ca.d_=Lhe.bind(null,e.eventManager),e.Ca.$a=Vhe.bind(null,e.eventManager),e}function Zhe(t){let e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ghe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qhe.bind(null,e),e}var EB=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=r9(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return mhe(this.persistence,new MM,n.initialUser,this.serializer)}Ga(n){return new DM(AM.Zr,this.serializer)}Wa(n){return new PM}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Xhe=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_B(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Khe.bind(null,this.syncEngine),yield Phe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new zM}()}createDatastore(n){let r=r9(n.databaseInfo.databaseId),i=function(o){return new LM(o)}(n.databaseInfo);return function(o,a,l,c){return new jM(o,a,l,c)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,l){return new HM(i,s,o,a,l)}(this.localStore,this.datastore,n.asyncQueue,r=>_B(this.syncEngine,r,0),function(){return dE.D()?new dE:new OM}())}createSyncEngine(n,r){return function(s,o,a,l,c,u,h){let f=new ZM(s,o,a,l,c,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=be(s);le("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Yg(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var JM=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ek=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=Xw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){le("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ek(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function RR(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield t9(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function bB(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Jhe(t);le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mB(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mB(e.remoteStore,i)),t._onlineComponents=e})}function Jhe(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield RR(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ah("Error using user provided cache. Falling back to memory cache: "+n),yield RR(t,new EB)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield RR(t,new EB);return t._offlineComponents})}function m9(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield bB(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield bB(t,new Xhe))),t._onlineComponents})}function efe(t){return m9(t).then(e=>e.syncEngine)}function tfe(t){return w(this,null,function*(){let e=yield m9(t),n=e.eventManager;return n.onListen=Uhe.bind(null,e.syncEngine),n.onUnlisten=Hhe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Whe.bind(null,e.syncEngine),n})}function nfe(t,e,n={}){let r=new Us;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,l,c){let u=new JM({next:f=>{u.Za(),o.enqueueAndForget(()=>Fhe(s,h));let g=f.docs.has(a);!g&&f.fromCache?c.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new qM(mk(a.path),u,{includeMetadataChanges:!0,_a:!0});return Ohe(s,h)}(yield tfe(t),t.asyncQueue,e,n,r)})),r.promise}function v9(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var IB=new Map;function rfe(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ife(t,e,n,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CB(t){if(!me.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sfe(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function _E(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sfe(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var wE=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ife("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$g=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MR;switch(r.type){case"firstParty":return new OR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=IB.get(n);r&&(le("ComponentProvider","Removing Datastore"),IB.delete(n),r.terminate())}(this),Promise.resolve()}};function y9(t,e,n,r={}){var i;let s=(t=_E(t,$g))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ah("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mn.MOCK_USER;else{a=Ju(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(c)}t._authCredentials=new kR(new Zw(a,l))}}var tk=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qo=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zg=class t extends tk{constructor(e,n,r){super(e,n,mk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qo(this.firestore,null,new me(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function RE(t,e,...n){if(t=It(t),arguments.length===1&&(e=Xw.newId()),rfe("doc","path",e),t instanceof $g){let r=dn.fromString(e,...n);return CB(r),new qo(t,null,new me(r))}{if(!(t instanceof qo||t instanceof zg))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(dn.fromString(e,...n));return CB(r),new qo(t.firestore,t instanceof zg?t.converter:null,new me(r))}}var EE=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hE(this,"async_queue_retry"),this.Vu=()=>{let r=xR();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=xR();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=xR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Us;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Qg(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=WM.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var Gg=class extends $g{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EE,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,yield e}})}};function _9(t,e){let n=typeof t=="object"?t:Hr(),r=typeof t=="string"?t:e||"(default)",i=Tr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Xu("firestore");s&&y9(i,...s)}return i}function w9(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ofe(t),t._firestoreClient}function ofe(t){var e,n,r;let i=t._freezeSettings(),s=function(a,l,c,u){return new jR(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,v9(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ek(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}var nk=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nr.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bE=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rk=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}};var ik=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var afe=new RegExp("[~\\*/\\[\\]]");function lfe(t,e,n){if(e.search(afe)>=0)throw TB(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bE(...e.split("."))._internalPath}catch{throw TB(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function TB(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new pe(Z.INVALID_ARGUMENT,a+t+l)}var IE=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(E9("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},sk=class extends IE{data(){return super.data()}};function E9(t,e){return typeof e=="string"?lfe(t,e):e instanceof bE?e._internalPath:e._delegate._internalPath}var ok=class{convertValue(e,n="none"){switch(Hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Kg(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>xt(o.doubleValue));return new ik(s)}convertGeoPoint(e){return new rk(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=hk(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lg(e));default:return null}}convertTimestamp(e){let n=Ko(e);return new qr(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=dn.fromString(e);ut(e9(r));let i=new rE(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(n)||Qo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var ak=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},CE=class extends IE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(E9("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lk=class extends CE{data(e={}){return super.data(e)}};function Ck(t){t=_E(t,qo);let e=_E(t.firestore,Gg);return nfe(w9(e),t._key).then(n=>ufe(e,t,n))}var ck=class extends ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new nk(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,n)}};function b9(t){return cfe(_E(t.firestore,Gg),[new Ug(t._key,Uc.none())])}function cfe(t,e){return function(r,i){let s=new Us;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return $he(yield efe(r),i,s)})),s.promise}(w9(t),e)}function ufe(t,e,n){let r=n.docs.get(e._key),i=new ck(t);return new CE(t,i,e._key,r,new ak(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wh=i})(ci),Sn(new Bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Gg(new NR(r.getProvider("auth-internal")),new LR(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rE(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ve(Kj,"4.7.3",e),Ve(Kj,"4.7.3","esm2017")})();var Zo=class{constructor(e){return e}},I9="firestore",Tk=class{constructor(){return Wi(I9)}};var Dk=new ie("angularfire2.firestore-instances");function dfe(t,e){let n=ys(I9,t,e);return n&&new Zo(n)}function hfe(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}var ffe={provide:Tk,deps:[[new ct,Dk]]},pfe={provide:Zo,useFactory:dfe,deps:[[new ct,Dk],lr]};function C9(t,...e){return Ve("angularfire",Wr.full,"fst"),en([pfe,ffe,{provide:Dk,useFactory:hfe(t),multi:!0,deps:[xe,St,ui,$r,[new ct,xo],[new ct,vs],...e]}])}var T9=Qt(b9,!0);var D9=Qt(RE,!0);var S9=Qt(_9,!0);function gfe(t,e){if(t&1){let n=Je();C(0,"div"),Mu(),C(1,"svg",5),Y("load",function(){Q(n);let i=H();return K(i.highlightMuscles())}),C(2,"g",6),$(3,"path",7)(4,"path",8)(5,"path",9)(6,"path",10)(7,"path",11)(8,"path",12),T(),C(9,"g",13),$(10,"path",14)(11,"path",15)(12,"path",16)(13,"path",17)(14,"path",18)(15,"path",19)(16,"path",20)(17,"path",21)(18,"path",22)(19,"path",23),T(),C(20,"g",24),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"calves"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(21,"path",25)(22,"path",26)(23,"path",27)(24,"path",28),T(),C(25,"g",29),$(26,"path",30)(27,"path",31),T(),C(28,"g",32),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"hamstrings"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(29,"path",33)(30,"path",34)(31,"path",35)(32,"path",36)(33,"path",37)(34,"path",38),T(),C(35,"g",39),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"quadriceps"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(36,"path",40)(37,"path",41)(38,"path",42)(39,"path",43)(40,"path",44)(41,"path",45),T(),C(42,"g",46),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"adductors"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(43,"path",47)(44,"path",48)(45,"path",49)(46,"path",50)(47,"path",51)(48,"path",52)(49,"path",53)(50,"path",54),T(),C(51,"g",55),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"abductors"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(52,"path",56)(53,"path",57),T(),C(54,"g",58),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"glutes"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(55,"path",59)(56,"path",60),T(),C(57,"g",61),$(58,"path",62)(59,"path",63)(60,"path",64)(61,"path",65),T(),C(62,"g",66),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"abdominals"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(63,"path",67)(64,"path",68)(65,"path",69)(66,"path",70)(67,"path",71)(68,"path",72)(69,"path",73)(70,"path",74)(71,"path",75)(72,"path",76)(73,"path",77)(74,"path",78)(75,"path",79)(76,"path",80)(77,"path",81)(78,"path",82)(79,"path",83)(80,"path",84),T(),C(81,"g",85),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"middleBack"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(82,"path",86)(83,"path",87)(84,"path",88)(85,"path",89),T(),C(86,"g",90),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"middleBack "))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(87,"path",91)(88,"path",92),T(),C(89,"g",93),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"forearms"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(90,"path",94)(91,"path",95)(92,"path",96)(93,"path",97)(94,"path",98)(95,"path",99)(96,"path",100)(97,"path",101)(98,"path",102)(99,"path",103)(100,"path",104)(101,"path",105)(102,"path",106)(103,"path",107),T(),C(104,"g",108),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"lats"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(105,"path",109)(106,"path",110)(107,"path",111)(108,"path",112),T(),C(109,"g",113),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"triceps"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(110,"path",114)(111,"path",115)(112,"path",116)(113,"path",117)(114,"path",118)(115,"path",119)(116,"path",120)(117,"path",121),T(),C(118,"g",122),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"biceps"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(119,"path",123)(120,"path",124),T(),C(121,"g",125),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"traps"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(122,"path",126)(123,"path",127)(124,"path",128)(125,"path",129)(126,"path",130),T(),C(127,"g",131),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"chest"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(128,"path",132)(129,"path",133),T(),C(130,"g",134),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"shoulders"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(131,"path",135)(132,"path",136)(133,"path",137)(134,"path",138)(135,"path",139)(136,"path",140)(137,"path",141)(138,"path",142),T(),C(139,"g",143),Y("mouseover",function(i){Q(n);let s=H();return K(s.showTooltip(i,"neck"))})("mouseout",function(){Q(n);let i=H();return K(i.hideTooltip())}),$(140,"path",144)(141,"path",145)(142,"path",146)(143,"path",147)(144,"path",148)(145,"path",149)(146,"path",150),T(),C(147,"g",151),$(148,"path",152)(149,"path",153),T()()()}}function mfe(t,e){t&1&&$(0,"div")}var ME=class t{constructor(e,n,r,i,s,o,a,l,c){this.auth=e;this.firestore=n;this.router=r;this.userService=i;this.workoutService=s;this.toastr=o;this.renderer=a;this.elRef=l;this.datePipe=c}userId=null;userGender=null;profileData={firstName:"",dob:"",height:null,weight:null,gender:null,profilePicture:null};musclesWorked={};isSVGReady=!1;musclesHighlighted=!1;tooltipVisible=!1;tooltipContent="";tooltipPosition={left:0,top:0};tooltipTimeout=null;ngOnInit(){return w(this,null,function*(){this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,this.userId?(yield this.fetchProfileData(),yield this.fetchMusclesWorkedLast7Days()):this.router.navigate(["/login"])})}ngAfterViewChecked(){!this.musclesHighlighted&&this.isSVGLoaded()&&this.highlightMuscles()}fetchProfileData(){return w(this,null,function*(){let e=RE(this.firestore,`users/${this.userId}`);Ck(e).then(n=>{n.exists()?(this.profileData=n.data(),this.userGender=this.profileData.gender!==void 0?this.profileData.gender:null):this.toastr.error("No profile data found. You can create a new profile.")}).catch(n=>{console.error("Error fetching profile data",n)})})}fetchMusclesWorkedLast7Days(){return w(this,null,function*(){this.userId&&(this.musclesWorked=yield this.workoutService.getMusclesWorkedLast7Days(this.userId),this.highlightMuscles())})}isSVGLoaded(){return!!this.elRef.nativeElement.querySelector("svg")}highlightMuscles(){let e=this.elRef.nativeElement.querySelector("svg");e&&this.musclesWorked&&(Object.keys(this.musclesWorked).forEach(r=>{let i=e.querySelector(`#${r}`);i&&(this.renderer.removeClass(i,"healed"),this.renderer.removeClass(i,"healing"),this.renderer.removeClass(i,"highlighted"),this.isMuscleHealed(r)?this.renderer.addClass(i,"healed"):this.isMuscleHealing(r)?this.renderer.addClass(i,"healing"):this.renderer.addClass(i,"highlighted"))}),this.musclesHighlighted=!0)}isMuscleWorked(e){return e in this.musclesWorked}isMuscleHealed(e){let n=this.musclesWorked[e];return n?(new Date().getTime()-new Date(n.lastWorked).getTime())/(1e3*3600*24)>=3:!1}isMuscleHealing(e){let n=this.musclesWorked[e];if(!n)return!1;let r=(new Date().getTime()-new Date(n.lastWorked).getTime())/(1e3*3600*24);return r>=1.5&&r<3}getMuscleState(e){return this.isMuscleHealed(e)?"Healed Recently":this.isMuscleHealing(e)?"Healing":this.isMuscleWorked(e)?"Worked Recently":"Not Worked Recently"}showTooltip(e,n){let r=this.elRef.nativeElement.querySelector(".tooltip"),i=this.getMuscleState(n),s=this.musclesWorked[n]?.lastWorked,o=this.calculateDaysToHeal(n),a=this.router.createUrlTree(["/exercises"],{queryParams:{muscle:n}}).toString(),l=`
      <strong>Muscle: ${n.charAt(0).toUpperCase()+n.slice(1)}</strong><br>
      State: ${i}<br>
      Last Worked: ${s?this.datePipe.transform(s,"MMM d, y"):"N/A"}<br>
      Days to Heal: ${o?`${o.toFixed(0)} day(s)`:"Healed"}<br>
      <a href="${a}" class="text-green-600" target="_blank">View Exercises</a>
    `;r.innerHTML=l,r.style.display="block",r.style.left=e.pageX+10+"px",r.style.top=e.pageY+10+"px",clearTimeout(this.tooltipTimeout),r.addEventListener("mouseenter",()=>clearTimeout(this.tooltipTimeout)),r.addEventListener("mouseleave",()=>this.hideTooltip())}hideTooltip(){this.tooltipTimeout=setTimeout(()=>{let e=this.elRef.nativeElement.querySelector(".tooltip");e.style.display="none"},500)}calculateDaysToHeal(e){let n=this.musclesWorked[e];if(!n)return null;let r=(new Date().getTime()-new Date(n.lastWorked).getTime())/(1e3*3600*24);return r<3?Math.max(3-r,0):null}static \u0275fac=function(n){return new(n||t)(U(ze),U(Zo),U(rn),U(on),U(an),U(Wt),U(Ir),U(jt),U(Fa))};static \u0275cmp=ve({type:t,selectors:[["app-body-stats"]],standalone:!0,features:[Li([Fa]),Ce],decls:7,vars:2,consts:[[1,"body","p-4","bg-gray-800","text-white","rounded-xl","shadow-lg","hover:bg-gray-700","transition-all","lg:col-span-1","h-full"],[1,"text-xl","font-semibold","text-center","mb-2"],[1,"body-figure"],[4,"ngIf"],[1,"body-tooltip","tooltip","absolut","text-white","p-2","rounded","z-50","max-w-xs",2,"display","none","pointer-events","auto"],["id","bodyMale","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 15000 16000",1,"w-full","h-auto",3,"load"],["id","feet",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","p1BOkpx8sd","d","M10400 13478 c-36 -6 -69 -15 -73 -22 -8 -12 -2 -73 13 -121 32 -101 76 -228 89 -253 5 -9 17 -37 26 -62 25 -65 38 -91 43 -86 2 3 -4 60 -14 128 -16 116 -16 127 0 198 18 79 38 113 73 124 27 9 52 -27 75 -104 40 -133 46 -159 53 -222 3 -37 10 -70 14 -73 9 -5 41 86 41 115 0 10 7 46 16 80 20 78 24 251 6 272 -28 35 -216 48 -362 26z"],["id","pqgRRSuyJ","d","M11372 13476 c-29 -7 -56 -16 -59 -20 -24 -23 -17 -174 14 -316 39 -184 46 -192 63 -77 16 110 59 260 88 305 11 16 21 21 36 16 69 -19 96 -130 76 -317 -7 -65 -10 -120 -7 -123 2 -2 10 10 17 28 7 18 18 47 25 63 7 17 21 50 30 75 10 25 21 54 26 65 34 80 71 225 67 260 -2 24 -9 31 -38 37 -69 16 -282 18 -338 4z"],["id","p4pfFFPpJ","d","M3250 13459 c-106 -16 -125 -23 -128 -48 -3 -20 39 -95 83 -148 21 -26 33 -41 93 -120 56 -74 92 -102 92 -73 0 6 6 10 14 10 8 0 16 4 18 8 6 15 154 132 167 132 18 0 60 50 82 97 23 50 25 116 4 133 -18 15 -342 22 -425 9z"],["id","pwvuRgK7j","d","M4312 13462 c-26 -4 -37 -23 -47 -75 -6 -32 -2 -44 29 -91 23 -35 50 -61 78 -76 24 -12 63 -41 88 -64 111 -105 154 -118 181 -54 7 18 15 35 18 38 17 15 81 100 81 107 0 4 10 18 23 29 12 12 37 47 56 78 41 68 36 76 -54 96 -56 13 -397 22 -453 12z"],["id","p11v0u4Shs","d","M3698 13289 c-9 -5 -39 -40 -66 -77 -59 -82 -92 -117 -157 -168 -27 -21 -58 -48 -67 -58 -22 -24 -23 -71 -2 -111 8 -16 19 -75 24 -130 13 -146 24 -177 60 -168 11 3 20 9 20 14 0 5 7 9 15 9 8 0 15 3 15 8 0 4 10 18 23 32 28 30 127 231 127 257 0 6 7 25 16 43 20 39 28 175 17 282 -7 68 -10 76 -25 67z"],["id","p19fVWIzGP","d","M4243 13287 c-4 -7 -9 -71 -11 -143 -4 -116 -2 -139 18 -198 13 -37 27 -69 31 -72 5 -3 9 -12 9 -21 0 -35 92 -203 131 -237 73 -66 98 -42 109 108 5 56 15 125 24 155 14 49 14 56 -1 82 -9 15 -28 33 -41 41 -32 17 -134 134 -192 220 -47 71 -64 85 -77 65z"],["id","shin",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","pJTOHBBMu","d","M10577 12822 c-13 -14 -17 -38 -17 -98 0 -153 -38 -487 -76 -669 -26 -123 -95 -355 -121 -405 -7 -14 -13 -33 -13 -42 0 -9 -6 -29 -14 -45 -21 -43 -38 -100 -52 -183 -11 -60 -11 -90 -2 -147 10 -63 15 -73 36 -78 13 -3 32 -3 42 0 21 7 50 62 50 95 0 12 4 29 10 39 5 10 14 43 19 72 15 87 31 169 46 239 42 192 64 310 75 410 41 363 54 522 55 679 0 149 -6 169 -38 133z"],["id","p9fip3tm5","d","M11440 12830 c-14 -9 -14 -18 20 -499 5 -68 14 -158 20 -200 5 -42 17 -128 26 -191 15 -112 30 -193 58 -315 8 -33 22 -100 31 -150 43 -233 72 -321 111 -331 46 -12 74 46 74 153 0 79 -23 169 -95 368 -52 146 -90 274 -106 364 -5 30 -12 58 -15 63 -15 24 -45 296 -69 623 -3 44 -8 87 -11 97 -6 20 -27 29 -44 18z"],["id","p1HcdFktbt","d","M10692 12792 c-13 -23 -13 -34 18 -522 5 -85 14 -186 19 -225 6 -38 13 -200 17 -360 5 -234 10 -307 26 -380 11 -49 23 -102 25 -117 3 -15 11 -32 18 -38 10 -8 15 7 25 75 12 85 7 180 -21 365 -30 202 -40 275 -49 365 -6 55 -14 132 -20 170 -5 39 -15 167 -21 285 -22 404 -22 408 -37 382z"],["id","pP0rUIsYn","d","M11340 12698 c0 -239 -58 -857 -101 -1073 -31 -155 -34 -475 -5 -475 12 0 46 100 46 137 0 12 5 34 12 50 7 18 14 137 19 333 3 168 12 364 18 435 6 72 16 184 22 250 16 182 17 447 2 452 -10 4 -13 -22 -13 -109z"],["id","p22uE53WE","d","M3583 12338 c-6 -7 -13 -26 -16 -43 -29 -163 -67 -364 -111 -590 -8 -38 -21 -110 -30 -158 -9 -49 -18 -92 -21 -96 -4 -8 -11 -42 -39 -200 -9 -51 -23 -96 -36 -113 -13 -18 -25 -54 -30 -96 -5 -37 -15 -92 -23 -122 -22 -82 -65 -229 -81 -280 -23 -71 -44 -168 -58 -265 -14 -99 -18 -363 -5 -409 8 -28 9 -28 22 -9 24 34 101 265 159 478 9 33 21 74 26 90 5 17 18 71 29 120 12 50 26 110 32 135 10 44 27 166 34 245 2 22 9 72 15 110 6 39 15 113 21 165 5 52 14 133 20 180 5 47 14 141 19 210 10 124 23 200 55 315 69 247 80 336 44 343 -9 1 -20 -3 -26 -10z"],["id","pKF97fnnk","d","M4342 12338 c-19 -19 -15 -61 23 -198 12 -44 26 -100 59 -225 16 -60 29 -167 47 -390 5 -66 14 -144 19 -174 6 -30 10 -73 10 -95 0 -22 7 -83 15 -136 7 -52 19 -131 25 -175 27 -188 27 -189 67 -345 7 -30 20 -76 28 -101 8 -26 15 -54 15 -63 0 -9 11 -42 24 -74 13 -31 27 -77 31 -102 4 -25 13 -58 20 -75 7 -16 21 -61 31 -100 9 -38 23 -77 29 -85 7 -8 15 -23 18 -32 4 -10 10 -18 15 -18 11 0 35 87 27 100 -4 6 -9 84 -11 173 -4 170 -22 286 -67 427 -13 41 -32 104 -42 140 -9 36 -23 85 -30 110 -7 25 -20 72 -28 105 -9 33 -21 80 -28 105 -6 25 -17 70 -24 100 -7 30 -21 87 -30 125 -16 68 -28 128 -59 285 -8 41 -22 113 -31 160 -30 156 -45 234 -55 300 -6 36 -14 79 -19 95 -5 17 -12 51 -15 76 -10 83 -35 116 -64 87z"],["id","pijntktIZ","d","M3502 12268 c-15 -20 -52 -109 -52 -127 0 -9 -4 -21 -9 -26 -4 -6 -16 -35 -26 -65 -20 -63 -23 -74 -64 -230 -16 -63 -37 -142 -46 -175 -10 -33 -21 -85 -26 -115 -5 -30 -24 -100 -44 -154 -19 -55 -35 -109 -35 -120 0 -12 -12 -55 -25 -96 -14 -41 -25 -84 -25 -95 0 -12 -4 -25 -9 -30 -25 -27 -43 -150 -51 -345 -13 -311 -15 -395 -5 -365 1 6 10 37 19 70 10 33 23 83 31 110 7 28 21 77 30 110 9 33 23 80 30 105 7 25 21 74 30 110 10 36 23 85 30 110 7 25 19 70 25 100 6 30 20 91 30 135 19 83 38 190 71 405 51 335 64 409 83 460 28 75 46 137 52 188 7 53 4 61 -14 40z"],["id","pDodP5AGl","d","M4440 12245 c0 -18 18 -89 40 -157 22 -68 45 -154 51 -193 5 -38 14 -95 19 -125 5 -30 16 -95 24 -145 64 -398 76 -461 92 -527 22 -90 45 -179 59 -228 7 -25 21 -72 30 -105 9 -33 23 -82 30 -110 8 -27 21 -77 30 -110 9 -33 23 -81 31 -107 8 -26 14 -55 14 -65 0 -10 8 -27 16 -38 14 -18 15 -8 10 120 -12 271 -27 451 -41 500 -8 28 -21 77 -31 110 -9 33 -22 80 -29 105 -8 25 -21 74 -30 110 -10 36 -23 85 -30 110 -20 68 -41 147 -60 220 -10 36 -23 88 -30 115 -7 28 -21 79 -30 115 -21 82 -100 331 -123 387 -22 55 -42 64 -42 18z"],["id","p2EyJCAMx","d","M3630 12143 c0 -10 -6 -47 -14 -83 -21 -95 -35 -199 -46 -335 -5 -66 -14 -174 -20 -240 -22 -235 -17 -561 11 -790 16 -130 68 -374 88 -413 5 -9 14 -29 20 -44 15 -40 29 -35 41 15 5 23 17 65 25 93 8 28 15 59 15 70 0 10 7 37 15 59 8 22 14 61 15 86 0 26 7 63 15 82 8 20 15 51 15 70 0 18 5 38 12 45 20 20 23 276 4 405 -29 196 -59 370 -92 537 -8 41 -21 107 -28 145 -8 39 -21 106 -30 150 -8 44 -18 97 -21 117 -6 39 -25 63 -25 31z"],["id","p1BqOWmR9U","d","M4301 12083 c-7 -43 -19 -107 -26 -143 -34 -163 -70 -351 -89 -460 -8 -47 -20 -114 -26 -150 -6 -35 -16 -100 -21 -145 -5 -44 -14 -116 -19 -160 -15 -114 2 -251 61 -495 27 -113 57 -231 66 -263 17 -56 34 -69 42 -32 2 10 9 24 16 32 14 13 35 97 35 136 0 12 7 34 14 49 8 16 18 49 21 75 4 27 13 86 21 132 31 183 27 794 -6 1081 -29 252 -53 397 -68 412 -5 5 -14 -22 -21 -69z"],["id","calves","id","calves",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1ExEI98c8","d","M10745 11133 c-16 -9 -35 -21 -41 -27 -6 -6 -22 -20 -35 -31 -25 -22 -58 -62 -87 -106 -9 -15 -26 -39 -36 -54 -16 -22 -21 -53 -28 -164 -4 -75 -11 -167 -16 -206 -5 -38 -14 -137 -21 -220 -7 -82 -17 -202 -22 -265 -6 -63 -13 -260 -16 -437 -7 -400 -5 -402 110 -143 56 124 170 423 186 486 5 18 12 37 16 44 4 7 11 26 15 44 4 17 19 74 33 126 14 54 28 140 31 200 4 58 12 125 17 150 18 78 22 199 10 329 -17 182 -30 249 -54 272 -25 23 -24 23 -62 2z"],["id","pwzBReq6k","d","M11266 11131 c-32 -35 -46 -144 -46 -361 0 -113 5 -223 10 -245 5 -22 12 -96 15 -165 7 -163 31 -260 125 -500 12 -30 25 -66 30 -80 26 -81 131 -327 175 -414 61 -119 70 -82 61 243 -6 249 -20 486 -36 661 -6 58 -15 170 -21 250 -5 80 -14 172 -19 205 -6 33 -10 80 -10 105 0 34 -9 61 -37 109 -47 79 -139 175 -189 196 -44 18 -38 19 -58 -4z"],["id","pYqvZDrXi","d","M10338 11063 c-40 -48 -81 -127 -178 -348 -5 -11 -18 -47 -30 -80 -25 -73 -27 -222 -6 -365 8 -52 22 -149 31 -215 31 -229 48 -343 91 -615 40 -255 38 -249 80 -229 45 22 74 73 66 117 -4 20 -7 215 -7 432 0 470 13 665 53 785 25 74 27 92 27 250 0 149 -2 175 -20 210 -34 69 -77 92 -107 58z"],["id","psI3ZmLDT","d","M11656 11011 c-52 -68 -53 -76 -32 -221 26 -170 46 -382 62 -655 13 -218 15 -603 4 -721 -11 -121 -11 -134 5 -158 21 -31 66 -58 82 -48 11 7 31 97 57 262 9 52 18 111 21 130 3 19 10 71 16 115 5 44 17 112 26 150 9 39 17 95 18 125 1 30 7 93 14 140 47 319 50 387 25 471 -23 77 -78 211 -114 280 -4 8 -20 40 -36 70 -36 71 -72 119 -89 119 -8 0 -34 -27 -59 -59z"],["id","knees",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","pXWlJcK90","d","M3498 10370 c-11 -37 -10 -183 3 -259 14 -87 34 -167 85 -341 30 -105 45 -170 55 -250 6 -47 12 -86 14 -88 8 -9 29 178 29 268 0 157 -37 317 -113 484 -37 81 -59 144 -63 181 -3 30 -3 30 -10 5z"],["id","pyN5MHrJR","d","M4422 10343 c-5 -10 -10 -34 -10 -54 -1 -20 -13 -67 -27 -105 -69 -183 -87 -251 -97 -364 -14 -144 -3 -366 18 -374 11 -4 14 7 14 54 0 33 7 88 16 123 22 86 74 277 85 307 12 34 38 170 38 195 0 11 4 54 9 95 5 41 6 88 2 105 -7 34 -34 45 -48 18z"],["id","hamstrings","id","hamstrings",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pkA61EG8P","d","M10662 9572 c-15 -5 -17 -795 -2 -997 6 -71 13 -177 17 -234 8 -129 19 -109 33 57 5 65 14 162 19 217 35 356 39 538 16 705 -21 152 -57 261 -83 252z"],["id","pry06AAC","d","M11390 9561 c-6 -12 -18 -43 -26 -69 -60 -194 -64 -476 -12 -947 6 -55 14 -142 17 -194 9 -146 28 -129 34 31 3 73 10 219 17 323 14 242 10 849 -7 866 -8 8 -14 6 -23 -10z"],["id","pN5jb2j8e","d","M11910 9507 c0 -68 -42 -252 -91 -399 -32 -95 -35 -122 -18 -165 6 -15 20 -75 30 -133 24 -138 26 -489 4 -670 -27 -214 -65 -416 -91 -478 -8 -18 -14 -39 -14 -46 0 -8 -13 -44 -30 -81 -38 -85 -39 -99 -2 -90 15 3 29 11 30 16 2 5 9 9 15 9 12 0 123 110 168 168 36 44 58 124 99 352 18 97 24 477 10 590 -6 52 -15 129 -20 170 -4 41 -13 102 -19 135 -37 210 -44 274 -50 449 -4 108 -11 199 -14 203 -4 3 -7 -10 -7 -30z"],["id","p4UlE7kI5","d","M10158 9520 c-4 -8 -9 -91 -12 -183 -3 -93 -13 -210 -21 -260 -9 -51 -22 -132 -30 -182 -7 -49 -19 -121 -25 -160 -17 -100 -25 -614 -11 -701 7 -38 16 -98 22 -134 5 -36 14 -78 19 -95 5 -16 15 -52 21 -79 8 -33 31 -72 69 -121 56 -69 169 -165 195 -165 22 0 28 19 12 43 -29 46 -96 269 -121 407 -42 233 -49 323 -49 590 1 226 4 279 21 360 11 52 26 109 32 125 11 26 9 41 -15 110 -51 150 -84 287 -94 390 -4 39 -10 63 -13 55z"],["id","p14RKs8TsZ","d","M10551 9408 c-35 -62 -141 -285 -141 -297 0 -5 -7 -22 -15 -37 -8 -16 -15 -36 -15 -45 0 -8 -4 -19 -9 -25 -7 -8 -31 -104 -61 -254 -17 -83 -24 -352 -11 -455 6 -49 15 -130 21 -180 6 -49 15 -106 19 -125 5 -19 17 -71 26 -115 21 -103 55 -237 90 -355 8 -25 21 -73 31 -107 18 -67 29 -72 39 -20 3 17 13 61 20 97 13 62 29 187 56 435 16 153 23 765 11 900 -6 61 -18 180 -28 265 -15 139 -15 166 -2 263 8 59 11 107 7 107 -4 0 -21 -24 -38 -52z"],["id","pQuMFfCkM","d","M11487 9419 c13 -74 9 -328 -7 -419 -12 -67 -15 -181 -15 -535 0 -430 7 -585 36 -790 5 -38 14 -101 19 -140 6 -38 14 -83 19 -100 5 -16 12 -42 15 -57 7 -33 26 -38 26 -7 0 11 7 44 15 72 9 29 22 72 29 97 8 25 21 74 31 110 9 36 23 88 30 115 60 230 95 489 95 711 0 172 -10 271 -42 404 -34 144 -66 225 -165 427 -74 150 -98 182 -86 112z"],["id","quadriceps","id","quadriceps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1BEmZ3BWk","d","M3568 9348 c-22 -31 -23 -42 -23 -193 0 -149 4 -196 37 -410 14 -94 14 -116 4 -430 -8 -234 -2 -306 23 -291 11 7 37 88 46 141 4 22 11 55 17 73 5 18 13 56 18 85 4 29 13 79 19 112 39 227 43 278 38 478 -6 271 -33 399 -93 446 -37 29 -59 26 -86 -11z"],["id","ppZJRTcix","d","M4304 9353 c-41 -37 -62 -103 -80 -243 -29 -244 -15 -475 53 -810 42 -212 70 -296 90 -276 5 4 8 170 8 369 1 308 3 376 19 457 13 68 18 148 20 282 1 175 0 188 -20 215 -28 38 -53 39 -90 6z"],["id","p1GJFmPWKF","d","M3231 9322 c-10 -20 -76 -178 -98 -237 -8 -22 -21 -52 -29 -67 -8 -14 -14 -35 -14 -45 0 -10 -4 -23 -9 -28 -14 -16 -111 -325 -111 -354 0 -15 -4 -31 -9 -37 -9 -9 -23 -65 -41 -169 -36 -211 -46 -445 -30 -700 7 -104 16 -241 19 -304 4 -78 10 -116 19 -119 8 -2 12 7 12 30 0 18 6 62 15 98 8 36 22 101 31 145 9 44 20 96 25 115 5 19 14 55 19 80 14 65 35 158 49 210 7 25 19 71 27 103 8 31 21 84 29 117 8 33 22 87 30 120 8 33 21 86 29 118 26 102 47 186 57 222 36 126 54 601 27 676 -14 39 -34 50 -47 26z"],["id","pv8t8PFGA","d","M4683 9303 c-5 -16 -7 -145 -6 -289 1 -260 5 -293 45 -439 6 -22 16 -65 23 -95 11 -49 142 -574 164 -660 9 -33 20 -81 55 -233 8 -34 21 -98 30 -142 9 -44 21 -107 28 -140 l12 -60 13 95 c19 133 29 798 14 910 -19 142 -29 197 -39 232 -6 18 -18 62 -27 98 -24 98 -45 167 -76 255 -15 44 -31 92 -35 108 -3 15 -10 30 -15 33 -5 3 -9 12 -9 21 0 8 -6 29 -14 46 -7 18 -21 52 -31 77 -19 51 -32 82 -66 158 -27 59 -54 69 -66 25z"],["id","pza3WkQKS","d","M3381 9281 c-11 -7 -14 -64 -17 -302 -3 -305 -5 -325 -53 -434 -5 -11 -15 -38 -24 -60 -35 -94 -50 -132 -63 -163 -8 -18 -14 -39 -14 -47 0 -7 -6 -26 -14 -42 -14 -29 -31 -76 -46 -128 -5 -16 -16 -52 -24 -80 -46 -158 -54 -192 -91 -350 -96 -421 -114 -843 -53 -1215 6 -36 13 -84 15 -107 5 -47 33 -62 33 -19 0 14 4 27 9 31 5 3 12 20 16 38 4 17 17 64 30 102 12 39 33 104 45 145 13 41 28 93 35 115 7 22 21 67 31 100 9 33 30 98 44 145 15 47 36 112 45 145 10 33 24 74 32 92 7 17 13 40 13 50 0 10 4 23 8 29 4 5 18 36 31 69 13 33 29 74 36 90 27 63 61 192 85 325 47 261 52 867 9 1235 -24 199 -27 216 -46 230 -21 16 -52 19 -72 6z"],["id","p1DvDMRKzW","d","M4506 9272 c-16 -19 -22 -48 -46 -227 -22 -172 -34 -625 -22 -868 16 -319 34 -427 114 -682 28 -88 68 -201 90 -252 23 -56 38 -108 38 -133 0 -39 23 -109 57 -175 14 -28 41 -108 77 -230 8 -27 28 -93 44 -145 16 -52 33 -110 37 -127 3 -18 11 -35 16 -38 5 -4 9 -16 9 -28 1 -12 7 -33 14 -46 13 -24 14 -21 29 50 36 172 42 256 42 544 0 284 -5 348 -41 560 -26 155 -68 336 -109 475 -9 30 -20 71 -24 90 -4 19 -13 45 -19 57 -7 12 -12 30 -12 40 0 10 -7 31 -15 47 -8 15 -15 34 -15 42 0 7 -7 28 -14 46 -8 18 -29 71 -47 118 -17 47 -44 118 -60 157 -46 114 -52 159 -58 458 l-6 280 -31 3 c-20 2 -36 -4 -48 -16z"],["id","adductors","id","adductors",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pRWjwwf8U","d","M10770 8664 c0 -128 -53 -531 -104 -789 -62 -308 -71 -382 -67 -527 1 -40 6 -52 39 -84 42 -41 162 -124 179 -124 6 0 13 -5 15 -10 2 -6 20 -13 40 -16 l36 -6 7 58 c4 33 12 77 17 99 18 68 20 499 4 580 -8 39 -17 88 -21 110 -3 22 -10 54 -15 70 -11 34 -62 255 -84 360 -8 39 -20 124 -26 190 -12 123 -20 159 -20 89z"],["id","psgSoYMAf","d","M11298 8670 c-5 -14 -10 -56 -13 -95 -6 -73 -27 -198 -51 -300 -7 -33 -27 -118 -44 -190 -17 -71 -35 -150 -41 -174 -31 -137 -36 -471 -8 -627 6 -32 14 -84 17 -114 6 -43 11 -56 26 -58 45 -9 251 130 281 189 29 55 16 211 -42 499 -8 41 -18 99 -23 128 -5 29 -13 74 -19 100 -24 111 -61 407 -70 562 -4 70 -9 97 -13 80z"],["id","pyw2OSkKG","d","M3757 8342 c-33 -150 -100 -371 -143 -469 -8 -17 -14 -36 -14 -42 0 -6 -6 -25 -14 -43 -8 -18 -28 -71 -46 -118 -17 -47 -37 -101 -45 -120 -7 -19 -28 -75 -46 -125 -17 -49 -38 -104 -45 -122 -8 -17 -14 -37 -14 -45 0 -8 -4 -18 -9 -23 -5 -6 -14 -26 -19 -45 -6 -19 -26 -81 -46 -137 -103 -289 -159 -515 -170 -685 -5 -95 4 -113 23 -45 24 84 65 166 163 327 40 67 84 142 98 168 14 26 27 49 30 52 12 12 80 151 80 164 0 8 3 16 8 18 4 2 18 30 30 63 13 33 28 69 33 80 8 18 36 106 59 180 39 132 74 321 94 520 8 77 20 169 26 205 8 48 8 99 0 190 -6 68 -12 126 -14 127 -1 1 -10 -32 -19 -75z"],["id","pI10Sh332","d","M4171 8352 c1 -218 32 -579 60 -711 12 -53 25 -120 30 -150 5 -29 14 -62 19 -72 6 -10 10 -28 10 -41 0 -13 7 -36 15 -52 8 -15 15 -36 15 -45 0 -9 7 -29 15 -45 8 -15 15 -33 15 -38 0 -9 6 -24 45 -113 24 -57 115 -236 138 -273 13 -20 27 -44 31 -52 8 -17 19 -35 57 -95 14 -22 29 -47 32 -55 4 -8 16 -28 26 -45 25 -39 91 -169 91 -179 0 -4 6 -22 14 -39 8 -18 17 -43 19 -57 3 -25 3 -25 12 4 13 48 -16 244 -62 416 -36 134 -158 500 -188 565 -7 17 -20 53 -29 80 -30 99 -126 357 -172 463 -8 18 -14 37 -14 43 0 6 -6 25 -14 42 -15 33 -60 171 -89 267 -9 30 -23 78 -31 107 -9 28 -16 67 -16 86 0 22 -6 37 -15 41 -12 4 -15 -5 -14 -52z"],["id","p34rwjwLE","d","M3777 7764 c-3 -4 -4 -25 -1 -48 9 -67 -11 -228 -33 -277 -33 -70 -43 -99 -43 -119 0 -17 37 -99 141 -317 21 -44 39 -86 39 -92 0 -6 5 -11 10 -11 6 0 10 -6 10 -13 0 -7 7 -22 15 -33 15 -17 16 -3 12 156 -6 210 -35 469 -68 605 -6 22 -15 60 -21 85 -14 61 -38 86 -61 64z"],["id","p4dpFFpb0","d","M4133 7703 c-24 -58 -37 -110 -64 -268 -26 -157 -50 -585 -31 -585 9 0 40 59 97 185 15 33 50 106 77 162 58 117 58 132 11 229 -25 52 -29 73 -33 184 -4 109 -7 125 -23 128 -12 3 -22 -8 -34 -35z"],["id","p1BTvYa875","d","M3643 7178 c-11 -14 -18 -43 -39 -168 -11 -70 -27 -111 -86 -230 -40 -80 -75 -147 -78 -150 -3 -3 -18 -30 -33 -60 -16 -30 -36 -68 -46 -85 -53 -91 -92 -168 -87 -172 8 -8 134 88 217 167 20 19 68 64 105 99 229 212 251 239 225 289 -5 9 -17 37 -26 62 -29 78 -106 227 -124 244 -15 13 -20 14 -28 4z"],["id","pQDbJNPZD","d","M4282 7166 c-37 -47 -136 -263 -146 -318 -6 -33 -3 -42 31 -80 21 -24 45 -48 53 -54 8 -7 38 -34 66 -60 190 -183 281 -264 295 -264 5 0 9 -4 9 -8 0 -12 86 -72 93 -66 6 6 -8 34 -70 144 -14 25 -43 79 -65 120 -167 311 -191 368 -202 485 -6 66 -23 125 -36 125 -5 0 -17 -11 -28 -24z"],["id","abductors","id","abductors",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pNRKj7TLQ","d","M9973 8034 c-13 -48 -10 -811 4 -825 8 -8 14 -6 23 10 15 29 39 105 50 161 12 61 28 125 48 187 17 56 14 82 -22 203 -9 30 -21 73 -27 95 -5 21 -14 44 -18 50 -4 5 -13 35 -20 65 -16 76 -27 92 -38 54z"],["id","p11QW2sARU","d","M12071 8013 c-6 -26 -24 -88 -40 -138 -56 -178 -61 -198 -61 -239 0 -22 5 -57 11 -76 13 -43 37 -142 48 -195 7 -38 24 -94 42 -142 5 -13 13 -23 18 -23 16 0 21 43 27 255 6 218 -8 581 -24 597 -6 6 -14 -10 -21 -39z"],["id","glutes","id","glutes",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pHeVFaXg1","d","M10116 7468 c-9 -20 -21 -58 -27 -85 -6 -26 -15 -64 -20 -83 -4 -19 -13 -78 -19 -130 -6 -52 -15 -122 -20 -155 -6 -33 -10 -116 -10 -183 0 -125 2 -136 48 -232 20 -42 155 -180 176 -180 8 0 16 -4 18 -9 4 -12 142 -75 208 -96 99 -31 114 -34 185 -46 98 -16 297 -22 315 -10 13 9 15 52 15 290 l0 279 -40 59 c-21 32 -62 81 -90 108 -77 77 -93 87 -235 156 -58 28 -117 57 -132 65 -14 8 -31 14 -38 14 -6 0 -54 21 -106 47 -89 43 -173 110 -175 137 0 6 -9 29 -19 51 l-18 40 -16 -37z"],["id","pTsfHEZR1","d","M11898 7494 c-3 -5 -8 -25 -12 -45 -10 -55 -78 -117 -190 -172 -52 -26 -98 -47 -101 -47 -23 0 -265 -120 -320 -158 -73 -51 -157 -144 -191 -209 l-29 -58 0 -263 c0 -321 -13 -296 155 -288 125 6 217 17 271 34 19 5 61 18 94 28 33 10 76 26 95 36 19 10 40 18 47 18 6 0 13 3 15 8 2 4 21 16 43 27 50 25 176 148 199 195 42 83 51 125 50 220 -1 91 -13 216 -36 365 -6 39 -14 93 -18 120 -16 103 -58 214 -72 189z"],["id","hands",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","p1121Q3oxm","d","M1250 7267 c-48 -23 -78 -48 -84 -71 -6 -25 -49 -71 -120 -129 -25 -21 -46 -45 -46 -53 0 -21 47 -119 82 -170 15 -23 28 -47 28 -53 0 -6 4 -11 9 -11 5 0 12 -8 15 -18 3 -9 19 -32 36 -50 16 -18 42 -49 57 -68 36 -48 58 -55 140 -43 97 13 103 22 103 164 0 111 -29 286 -51 310 -5 5 -9 15 -9 22 0 26 -64 145 -88 164 -28 21 -37 22 -72 6z"],["id","pDy1fx2dH","d","M6650 7267 c-26 -20 -70 -83 -80 -113 -5 -16 -16 -48 -24 -71 -41 -113 -56 -193 -56 -305 0 -70 5 -122 13 -137 14 -28 48 -40 130 -43 64 -3 55 -10 142 98 17 20 35 42 40 48 10 10 90 143 128 213 28 51 22 66 -58 138 -41 37 -75 72 -75 79 0 19 -60 76 -98 92 -41 17 -43 17 -62 1z"],["id","pkBqMdHtg","d","M8285 7233 c-36 -19 -70 -54 -89 -91 -8 -15 -44 -53 -80 -85 -36 -32 -66 -66 -66 -74 0 -39 136 -264 199 -330 17 -18 31 -36 31 -41 0 -5 8 -16 18 -25 36 -33 191 -16 212 23 17 31 12 260 -6 321 -69 226 -118 320 -168 319 -12 -1 -34 -8 -51 -17z"],["id","pcspC028A","d","M13691 7223 c-13 -15 -28 -39 -35 -53 -6 -14 -13 -27 -16 -30 -8 -6 -43 -107 -63 -180 -21 -73 -29 -188 -21 -281 8 -92 17 -100 122 -107 82 -5 82 -5 157 96 21 28 43 52 47 52 4 0 8 4 8 9 0 5 17 36 39 68 43 66 91 162 91 185 0 18 -30 52 -80 90 -19 15 -51 51 -70 80 -36 53 -97 98 -135 98 -11 0 -31 -13 -44 -27z"],["id","abdominals","id","abdominals",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pMKdVzRbR","d","M3749 6643 c-69 -43 -129 -189 -193 -473 -8 -36 -20 -88 -26 -117 -6 -29 -15 -76 -20 -105 -10 -66 -27 -159 -41 -217 -5 -25 -13 -80 -16 -123 -8 -106 2 -118 105 -118 57 0 85 5 118 22 24 12 44 25 44 30 0 4 5 8 10 8 10 0 62 33 86 55 6 6 20 27 30 45 16 32 19 79 28 476 10 488 10 490 -49 518 -40 20 -44 19 -76 -1z"],["id","p1AW0lSIiM","d","M4143 6644 c-61 -30 -65 -56 -59 -327 11 -403 26 -649 43 -675 20 -32 51 -62 63 -62 6 0 10 -4 10 -8 0 -5 10 -14 23 -20 12 -7 40 -23 62 -37 34 -20 53 -24 122 -25 78 0 84 1 99 26 15 23 16 35 4 127 -6 56 -18 129 -25 162 -7 33 -21 101 -30 150 -27 147 -46 237 -61 284 -8 25 -14 52 -14 61 0 26 -59 196 -86 248 -29 57 -41 73 -74 95 -30 21 -36 21 -77 1z"],["id","p1HoGpNKzU","d","M3290 6184 c-74 -20 -134 -57 -143 -89 -11 -38 7 -923 19 -935 9 -9 19 -8 42 4 37 19 111 102 116 130 8 40 48 699 50 820 1 75 -16 89 -84 70z"],["id","p11chYmtbr","d","M4598 6178 c-16 -16 -18 -28 -13 -91 13 -166 26 -395 35 -582 6 -147 12 -208 24 -230 22 -44 97 -114 126 -117 24 -3 25 -1 31 82 4 47 10 258 14 470 l7 385 -29 25 c-39 35 -68 50 -125 65 -46 12 -52 11 -70 -7z"],["id","pCaISzMTu","d","M3840 5441 c-67 -37 -101 -45 -240 -52 -80 -3 -146 -7 -147 -8 -28 -19 -33 -38 -33 -136 0 -97 2 -105 26 -135 15 -17 43 -38 63 -46 148 -64 319 -61 368 5 29 40 23 374 -7 378 -8 1 -22 -2 -30 -6z"],["id","pPx1E5p4h","d","M4087 5443 c-4 -3 -7 -88 -7 -188 0 -210 -2 -204 94 -229 68 -18 143 -11 246 24 70 23 95 41 115 80 30 60 25 205 -9 238 -14 14 -44 18 -159 22 -117 5 -150 9 -187 27 -58 27 -85 35 -93 26z"],["id","pvv434iUB","d","M3184 5018 c-16 -12 -48 -41 -72 -64 -37 -36 -45 -53 -61 -121 -46 -188 -48 -225 -10 -182 10 12 19 26 19 30 0 15 119 129 135 129 8 0 15 5 15 10 0 6 9 10 20 10 13 0 24 10 30 26 11 28 14 143 4 168 -9 23 -46 20 -80 -6z"],["id","p1FJtDfnPl","d","M4708 5003 c-3 -21 -3 -66 0 -100 5 -62 5 -63 47 -83 53 -26 101 -70 151 -140 l39 -55 3 40 c3 39 -18 143 -44 221 -20 56 -129 154 -173 154 -14 0 -20 -9 -23 -37z"],["id","pZ930H41F","d","M3442 4898 c-8 -24 -16 -66 -19 -95 -6 -58 7 -84 82 -158 99 -99 219 -140 350 -120 l48 7 -6 131 c-4 73 -13 155 -20 182 l-14 50 -169 5 c-131 5 -177 10 -203 23 -19 9 -35 17 -35 17 -1 0 -7 -19 -14 -42z"],["id","p13U4Bs7kM","d","M4475 4922 c-22 -12 -75 -17 -198 -20 -195 -5 -183 2 -197 -120 -30 -245 -30 -245 41 -262 112 -27 278 40 366 148 60 73 64 89 49 177 -7 42 -17 80 -22 84 -5 4 -22 1 -39 -7z"],["id","p1Aol7YuXY","d","M3193 4676 c-39 -42 -114 -150 -136 -195 -19 -38 -22 -67 -7 -76 11 -7 130 45 130 57 0 4 6 8 13 8 29 0 45 36 52 117 7 79 2 123 -14 123 -4 0 -22 -15 -38 -34z"],["id","pkXZDatll","d","M4723 4695 c-11 -30 3 -173 20 -198 13 -21 147 -97 170 -97 4 0 7 17 7 38 0 40 -60 143 -135 230 -39 45 -52 51 -62 27z"],["id","pwTALyX5B","d","M3424 4478 c13 -133 23 -162 74 -215 85 -89 152 -121 272 -130 123 -8 130 -3 130 95 0 73 -10 132 -28 159 -4 7 -44 17 -87 23 -190 24 -292 59 -323 112 -9 15 -23 28 -30 28 -12 0 -13 -13 -8 -72z"],["id","p16Wql9oiz","d","M4509 4528 c-28 -54 -137 -94 -314 -117 -89 -12 -104 -18 -109 -45 -2 -11 -9 -45 -15 -74 -15 -72 -13 -113 5 -137 13 -18 26 -20 107 -19 73 1 102 5 142 23 120 55 205 149 205 228 1 21 4 56 8 78 9 46 5 85 -8 85 -5 0 -15 -10 -21 -22z"],["id","p4LFfbvXc","d","M3223 4410 c-31 -13 -135 -119 -158 -163 -37 -69 1 -86 112 -52 73 23 108 58 117 118 13 87 -12 121 -71 97z"],["id","pmklQXGx7","d","M4693 4413 c-9 -3 -13 -29 -13 -78 0 -72 1 -75 33 -98 41 -31 160 -70 187 -62 29 9 25 45 -11 94 -38 53 -129 141 -145 141 -7 0 -18 2 -26 4 -7 3 -19 2 -25 -1z"],["id","p6ZYafXRF","d","M3205 4121 c-83 -52 -165 -123 -165 -146 0 -7 7 -18 15 -25 16 -13 70 -4 175 31 138 45 154 56 144 99 -9 40 -47 90 -69 90 -11 0 -56 -23 -100 -49z"],["id","p1FBW4ssAp","d","M4632 4158 c-19 -25 -42 -77 -42 -98 0 -22 40 -43 150 -80 148 -49 200 -47 180 6 -14 37 -36 56 -140 123 -94 61 -129 72 -148 49z"],["id","lowerBack","id","middleBack",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","ptD6tZH3H","d","M10098 6470 c-11 -33 36 -298 62 -349 4 -9 19 -40 31 -68 13 -29 27 -53 31 -53 5 0 8 -5 8 -11 0 -5 17 -25 37 -44 42 -39 101 -51 186 -40 94 13 215 86 261 157 l18 27 -53 15 c-29 9 -59 16 -67 16 -25 0 -192 61 -250 92 -114 61 -194 136 -238 227 -12 23 -23 38 -26 31z"],["id","p6F6yOgF3","d","M11916 6432 c-17 -38 -126 -162 -143 -162 -3 0 -14 -6 -22 -14 -48 -42 -233 -117 -361 -146 -77 -18 -86 -23 -66 -43 9 -8 16 -18 16 -22 0 -16 81 -78 135 -104 114 -55 241 -54 297 2 55 54 74 87 122 215 27 71 47 187 44 252 l-3 65 -19 -43z"],["id","pUpTDFFw","d","M10890 6172 c0 -4 -10 -18 -23 -32 -13 -14 -56 -63 -96 -110 -40 -47 -83 -96 -95 -110 -45 -50 -146 -192 -146 -206 0 -8 -4 -14 -10 -14 -22 0 -10 -61 18 -88 15 -15 43 -48 61 -74 19 -27 38 -48 43 -48 4 0 8 -4 8 -10 0 -5 7 -18 15 -27 8 -10 37 -49 64 -88 28 -38 55 -75 61 -82 5 -7 10 -15 10 -18 0 -8 44 -69 53 -73 4 -2 7 -9 7 -15 1 -15 35 -57 47 -57 30 0 44 544 22 845 -13 183 -17 215 -29 215 -6 0 -10 -3 -10 -8z"],["id","pRsRnZxXf","d","M11119 6063 c-20 -164 -20 -802 0 -891 11 -50 16 -60 27 -51 8 6 14 17 14 24 0 8 3 15 8 17 10 5 52 66 52 77 0 5 4 11 9 13 4 2 34 41 67 88 32 47 62 87 66 88 4 2 8 10 8 17 0 7 3 15 8 17 4 2 32 35 62 73 30 39 60 75 65 80 36 34 37 43 10 96 -25 51 -134 197 -185 250 -14 15 -34 37 -45 50 -116 138 -139 164 -145 167 -4 1 -13 -50 -21 -115z"],["id","middleBack","id","middleBack ",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pVuuf4LhF","d","M10243 5548 c-16 -320 0 -395 58 -270 12 26 25 55 30 64 5 10 18 46 29 80 75 232 76 244 10 288 -12 8 -32 23 -44 32 -13 9 -34 20 -48 23 l-24 6 -11 -223z"],["id","pA8V2zXD6","d","M11750 5763 c-8 -3 -41 -26 -72 -50 -66 -50 -67 -55 -37 -158 11 -38 24 -83 29 -100 26 -93 87 -226 106 -232 20 -7 25 79 18 314 -7 235 -8 239 -44 226z"],["id","forearms","id","forearms",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pKApvSems","d","M13508 6542 c-19 -4 -25 -17 -38 -89 -5 -26 -16 -77 -24 -113 -8 -36 -21 -94 -29 -130 -15 -69 -30 -125 -53 -204 -8 -26 -14 -56 -14 -64 0 -9 -6 -34 -14 -57 -8 -22 -22 -67 -31 -100 -56 -203 -160 -518 -205 -620 -39 -88 -43 -120 -9 -79 17 20 79 163 79 181 0 7 4 13 9 13 5 0 12 12 16 28 3 15 12 41 19 57 15 33 41 101 62 158 8 20 20 54 28 75 8 20 21 55 29 77 9 22 30 81 47 130 38 108 57 159 76 203 8 18 14 39 14 47 0 9 4 23 10 33 9 16 86 236 116 335 14 43 13 50 -3 77 -18 30 -55 49 -85 42z"],["id","pyXffQJxZ","d","M8500 6513 c-18 -23 -20 -35 -15 -73 4 -24 13 -56 20 -70 7 -14 16 -40 20 -57 3 -18 11 -35 16 -38 5 -4 9 -15 9 -27 0 -11 6 -34 14 -51 8 -18 16 -41 19 -52 3 -11 22 -65 42 -120 21 -55 41 -116 47 -135 5 -19 14 -39 19 -44 5 -6 9 -16 9 -24 0 -8 6 -28 14 -45 7 -18 28 -72 45 -122 18 -49 38 -103 45 -120 8 -16 24 -59 37 -95 12 -36 26 -69 31 -75 4 -5 8 -15 8 -22 0 -28 119 -273 132 -273 6 0 7 8 3 18 -4 9 -12 31 -17 47 -6 17 -15 34 -19 40 -5 5 -9 16 -9 25 0 8 -7 28 -15 44 -8 15 -15 33 -15 38 0 6 -6 24 -13 41 -21 50 -38 99 -48 140 -5 21 -13 45 -18 55 -5 9 -16 44 -26 77 -10 33 -23 80 -31 105 -18 62 -38 133 -59 210 -9 36 -23 86 -31 112 -8 26 -14 53 -14 61 0 8 -6 37 -14 63 -24 83 -56 222 -76 326 -12 63 -15 68 -55 68 -25 0 -39 -7 -55 -27z"],["id","pkhuZDGbT","d","M1585 6407 c122 -110 335 -324 335 -336 0 -6 4 -11 8 -11 4 0 25 -24 47 -52 22 -29 47 -61 57 -71 10 -10 26 -30 36 -45 19 -29 47 -65 75 -94 9 -10 17 -21 17 -24 0 -6 60 -83 93 -119 10 -11 26 -33 35 -50 12 -23 17 -26 20 -13 7 33 -125 262 -211 365 -84 102 -348 352 -428 406 -35 24 -57 41 -114 90 -18 15 -37 27 -41 27 -5 -1 27 -33 71 -73z"],["id","p10BTVHOFP","d","M6427 6465 c-9 -8 -20 -15 -26 -15 -6 0 -11 -4 -11 -9 0 -4 -19 -21 -42 -37 -24 -16 -45 -31 -48 -34 -3 -3 -39 -32 -80 -65 -91 -72 -312 -293 -379 -378 -65 -83 -100 -138 -150 -236 -37 -72 -51 -110 -38 -105 15 7 77 91 77 104 0 6 4 10 8 10 5 0 28 27 52 60 24 33 47 60 52 60 4 0 8 6 8 14 0 8 4 16 9 18 5 2 39 44 77 93 37 50 73 95 79 101 5 6 37 42 70 79 33 38 71 78 84 89 13 12 42 39 65 62 22 22 73 67 111 99 98 83 109 94 103 100 -3 3 -13 -1 -21 -10z"],["id","pur9xweGh","d","M6462 6436 c-12 -18 -35 -47 -51 -65 -16 -18 -45 -51 -64 -74 -19 -23 -43 -52 -54 -63 -10 -12 -38 -45 -63 -74 -25 -29 -58 -67 -75 -84 -59 -64 -99 -113 -201 -249 -57 -76 -104 -142 -104 -147 0 -4 -3 -10 -7 -12 -18 -7 -52 -67 -41 -70 14 -5 78 23 78 34 0 4 5 8 11 8 11 0 153 139 199 195 54 66 90 116 90 125 0 6 4 10 8 10 5 0 51 64 103 142 110 167 104 156 177 290 34 62 30 86 -6 34z"],["id","ptL06coDE","d","M1490 6408 c17 -29 35 -65 41 -80 6 -16 15 -28 20 -28 5 0 9 -5 9 -11 0 -10 178 -286 205 -316 16 -20 28 -34 80 -103 54 -73 184 -205 230 -236 51 -34 85 -46 85 -29 0 7 -7 20 -15 29 -8 8 -15 17 -15 21 0 4 -19 32 -43 63 -23 31 -50 68 -59 82 -9 14 -26 36 -38 50 -12 14 -33 41 -45 60 -13 19 -40 53 -60 75 -20 22 -55 62 -78 89 -52 60 -59 68 -124 142 -55 64 -105 122 -167 197 -22 26 -43 47 -47 47 -5 0 5 -24 21 -52z"],["id","p4vBaUEId","d","M1397 6434 c-4 -5 15 -68 32 -102 4 -9 15 -33 24 -52 42 -95 73 -163 109 -240 50 -108 49 -105 88 -230 42 -135 87 -267 104 -305 8 -16 24 -55 36 -85 28 -70 110 -224 121 -228 5 -2 9 -8 9 -14 0 -12 86 -125 116 -153 60 -56 128 -105 145 -105 9 0 10 19 6 68 -13 129 -47 258 -86 323 -12 19 -28 50 -37 69 -36 82 -99 200 -106 200 -4 0 -8 5 -8 11 0 6 -13 28 -30 49 -16 21 -30 41 -30 44 0 3 -6 14 -14 23 -8 10 -58 77 -110 148 -52 72 -100 136 -106 142 -6 7 -20 30 -32 50 -12 21 -25 40 -28 43 -3 3 -25 43 -49 90 -110 214 -142 266 -154 254z"],["id","pqJbcWJuS","d","M6529 6407 c-8 -12 -44 -80 -80 -152 -35 -71 -66 -132 -69 -135 -3 -3 -15 -22 -27 -42 -12 -20 -56 -82 -97 -138 -42 -55 -76 -105 -76 -110 0 -6 -4 -10 -9 -10 -5 0 -23 -21 -39 -47 -43 -67 -86 -127 -94 -131 -5 -2 -8 -10 -8 -17 0 -7 -3 -15 -7 -17 -10 -4 -74 -111 -97 -163 -19 -40 -28 -59 -74 -149 -14 -28 -29 -64 -33 -80 -44 -170 -61 -296 -40 -296 26 0 221 172 221 196 0 3 8 14 18 25 11 10 25 32 33 47 8 15 17 29 20 32 6 5 98 193 125 255 19 44 67 185 104 305 18 58 39 119 46 137 8 17 14 34 14 37 0 3 18 45 41 93 22 49 50 108 61 133 12 25 32 67 45 95 39 80 63 155 50 155 -7 0 -19 -11 -28 -23z"],["id","pfqH59RR5","d","M8703 6243 c5 -78 15 -131 44 -233 22 -76 52 -171 62 -195 5 -11 20 -47 32 -80 13 -33 27 -64 31 -69 4 -6 8 -16 8 -23 0 -7 13 -41 29 -75 16 -35 41 -90 56 -123 15 -33 35 -79 46 -102 10 -24 28 -64 40 -90 11 -27 24 -56 30 -65 5 -10 9 -25 9 -33 0 -8 5 -15 10 -15 13 0 13 92 -1 199 -20 161 -71 396 -90 415 -5 6 -9 18 -9 27 0 16 -19 65 -66 167 -13 29 -24 55 -24 57 0 2 -20 39 -45 81 -25 41 -45 78 -45 80 0 8 -112 154 -118 154 -3 0 -2 -35 1 -77z"],["id","pxlBJP3x7","d","M13363 6309 c-7 -7 -13 -19 -13 -26 0 -7 -4 -13 -9 -13 -8 0 -27 -27 -86 -122 -5 -9 -21 -38 -35 -65 -14 -26 -28 -50 -31 -53 -4 -3 -10 -16 -14 -30 -4 -14 -11 -27 -14 -30 -3 -3 -17 -32 -29 -65 -13 -33 -28 -69 -33 -80 -9 -20 -33 -97 -63 -194 -9 -29 -16 -63 -16 -76 0 -12 -5 -35 -10 -51 -14 -40 -39 -335 -31 -352 7 -12 16 4 51 93 5 11 25 56 45 100 20 44 42 94 49 110 7 17 20 46 29 65 9 19 30 65 46 103 17 37 31 73 31 80 0 7 4 17 8 23 5 5 19 38 31 74 13 36 26 72 31 81 7 15 32 103 51 179 4 19 13 56 19 81 15 63 10 185 -7 168z"],["id","p8j4MzjUs","d","M13199 6273 c-32 -22 -93 -87 -132 -140 -17 -24 -34 -43 -39 -43 -4 0 -8 -7 -8 -15 0 -8 -4 -15 -9 -15 -5 0 -24 -23 -42 -51 -18 -28 -37 -56 -43 -63 -32 -35 -176 -252 -176 -265 0 -6 -4 -11 -8 -11 -5 0 -14 -10 -21 -22 -6 -13 -20 -36 -31 -53 -11 -16 -23 -37 -26 -45 -4 -8 -13 -22 -19 -30 -28 -34 -135 -238 -135 -257 0 -20 23 -16 82 14 33 17 75 28 111 31 54 4 61 8 93 46 18 22 45 61 59 86 44 78 143 288 180 380 10 25 31 73 47 108 15 34 28 67 28 72 0 6 4 18 10 28 19 35 80 186 80 199 0 7 4 13 9 13 8 0 23 41 18 47 -2 1 -14 -5 -28 -14z"],["id","pXEEGOhdr","d","M8880 6223 c15 -32 44 -98 64 -148 20 -49 41 -98 46 -107 6 -10 10 -22 10 -28 0 -5 13 -38 29 -72 15 -35 45 -102 65 -150 43 -104 134 -282 167 -329 44 -63 67 -79 112 -79 40 0 126 -26 137 -41 3 -4 18 -11 33 -14 21 -6 27 -4 27 9 0 26 -64 152 -128 251 -6 11 -15 27 -19 35 -4 8 -26 43 -50 78 -24 35 -43 65 -43 67 0 9 -162 241 -244 349 -97 130 -196 236 -219 236 -12 0 -9 -13 13 -57z"],["id","pAdhIKha2","d","M2052 5568 c-7 -7 -12 -18 -12 -25 0 -18 100 -173 111 -173 5 0 9 -7 9 -15 0 -8 4 -15 8 -15 4 0 25 -22 45 -49 52 -68 171 -191 185 -191 25 0 33 42 30 166 l-3 125 -50 22 c-27 11 -94 47 -147 79 -124 75 -161 91 -176 76z"],["id","pP7Rqdois","d","M5845 5556 c-51 -27 -138 -78 -145 -86 -7 -7 -96 -50 -105 -50 -4 0 -20 -9 -36 -21 l-29 -20 0 -122 c1 -116 10 -157 34 -157 9 0 136 127 136 135 0 3 10 16 23 28 57 56 184 234 187 264 6 51 -10 58 -65 29z"],["id","lats","id","lats",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pRLm2N7HV","d","M10440 5506 c0 -50 -78 -277 -116 -338 -45 -73 -78 -142 -88 -180 -5 -23 -23 -55 -86 -158 -105 -169 -232 -416 -246 -475 -4 -16 -10 -34 -14 -40 -9 -12 -44 -155 -59 -245 -11 -65 -19 -246 -10 -254 2 -2 24 0 49 5 25 5 106 16 180 24 235 25 284 33 320 49 38 17 70 40 70 49 0 9 90 97 146 142 77 62 96 79 116 98 10 9 21 17 24 17 3 0 11 6 18 13 7 6 31 26 52 42 108 84 139 113 145 135 4 14 7 88 8 165 1 117 -3 157 -24 245 -14 58 -34 123 -44 145 -10 22 -26 58 -36 80 -33 77 -60 130 -67 133 -5 2 -8 9 -8 15 0 14 -66 112 -113 171 -72 89 -183 186 -211 186 -3 0 -6 -11 -6 -24z"],["id","p1CAXsFUVc","d","M11529 5488 c-30 -23 -76 -68 -104 -100 -27 -33 -60 -71 -73 -86 -67 -80 -166 -278 -206 -417 -10 -33 -22 -74 -27 -91 -25 -83 -36 -280 -22 -392 l6 -53 81 -55 c133 -89 196 -140 357 -287 43 -38 92 -78 110 -89 19 -11 36 -24 39 -29 10 -15 205 -47 325 -54 66 -3 138 -10 160 -15 22 -5 41 -7 43 -6 17 18 -4 281 -31 387 -17 64 -43 143 -58 179 -6 14 -17 39 -24 55 -7 17 -30 64 -51 105 -21 41 -45 90 -53 108 -8 17 -19 32 -23 32 -4 0 -8 5 -8 11 0 13 -72 133 -82 137 -5 2 -8 8 -8 13 0 6 -26 54 -57 107 -119 200 -192 376 -210 507 -8 55 -13 75 -22 75 -4 0 -32 -19 -62 -42z"],["id","pUuzU4NHO","d","M2937 4567 c-56 -85 -76 -196 -86 -472 -5 -126 -11 -234 -13 -240 -1 -5 1 -12 7 -14 13 -5 46 63 88 179 61 168 62 173 60 351 -3 204 -17 255 -56 196z"],["id","pdQu3NlZ1","d","M4986 4568 c-3 -13 -6 -105 -6 -205 0 -177 1 -185 31 -275 29 -90 39 -113 81 -205 36 -79 41 -66 34 103 -10 237 -26 402 -46 469 -33 112 -79 167 -94 113z"],["id","triceps","id","triceps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p10HypOIr2","d","M2265 4999 c-8 -11 27 -45 56 -54 11 -4 19 -11 19 -16 0 -5 5 -9 11 -9 14 0 169 -156 169 -170 0 -6 3 -10 8 -10 4 0 20 -20 35 -45 16 -25 33 -45 38 -45 5 0 9 -5 9 -10 0 -22 96 -139 113 -140 17 0 18 5 12 53 -10 67 -13 77 -53 125 -101 123 -220 242 -242 242 -5 0 -10 4 -10 9 0 14 -114 81 -138 81 -12 0 -24 -5 -27 -11z"],["id","p18hQaX6uH","d","M5574 4963 c-69 -47 -137 -105 -178 -152 -12 -13 -32 -35 -46 -50 -32 -33 -91 -109 -107 -138 -7 -12 -15 -44 -19 -72 -6 -47 -5 -51 13 -51 13 0 31 16 48 42 15 23 32 47 37 52 5 6 40 53 78 105 85 114 166 196 243 245 60 39 68 59 26 64 -15 1 -49 -15 -95 -45z"],["id","pHib0UuN5","d","M9552 4908 c14 -62 0 -272 -32 -478 -17 -113 -12 -364 9 -450 21 -88 62 -179 105 -235 30 -40 100 -115 107 -115 2 0 5 44 5 98 1 53 8 131 17 172 42 201 47 244 47 408 0 132 -4 182 -19 238 -35 132 -118 281 -202 365 -22 22 -41 39 -43 39 -2 0 1 -19 6 -42z"],["id","paFEJzNx","d","M12475 4897 c-62 -66 -104 -131 -155 -237 -4 -8 -18 -49 -31 -90 -21 -68 -24 -92 -23 -265 0 -141 5 -212 17 -275 10 -47 25 -119 33 -160 10 -45 15 -108 12 -158 -1 -45 -1 -82 2 -82 22 0 123 126 160 200 12 25 27 53 32 63 5 10 13 39 18 65 6 26 15 72 21 102 13 62 7 311 -10 400 -37 207 -49 410 -26 463 13 30 -9 19 -50 -26z"],["id","p1GXODajM7","d","M9256 4809 c-23 -119 7 -437 60 -611 8 -26 14 -52 14 -58 0 -7 6 -26 14 -43 7 -18 28 -66 45 -107 32 -74 67 -128 77 -118 3 3 -6 41 -20 84 -14 43 -26 84 -26 91 0 7 -6 32 -13 55 -32 100 -79 342 -123 628 -9 58 -17 106 -19 108 -1 1 -5 -12 -9 -29z"],["id","p6EzJdSIu","d","M9404 4832 c-18 -12 -34 -72 -34 -129 0 -75 38 -333 63 -428 11 -40 11 -40 23 50 17 121 16 429 0 475 -13 35 -31 47 -52 32z"],["id","p4rLzEklK","d","M12623 4808 c-15 -28 -18 -59 -18 -213 0 -196 12 -358 25 -350 5 3 13 29 19 58 5 28 18 90 27 137 22 110 25 359 5 383 -20 25 -39 21 -58 -15z"],["id","p9CdZt8WF","d","M12791 4742 c-25 -193 -86 -509 -125 -652 -8 -30 -20 -75 -27 -100 -6 -25 -18 -60 -26 -79 -7 -18 -11 -36 -8 -39 17 -17 85 106 123 224 38 116 52 167 52 189 0 13 5 36 10 51 31 80 47 473 20 489 -4 3 -13 -34 -19 -83z"],["id","biceps","id","biceps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pWfQXx0vm","d","M2208 4833 c-23 -6 -48 -64 -48 -111 0 -22 7 -76 15 -119 9 -44 15 -136 15 -213 1 -74 5 -155 10 -180 6 -25 14 -65 19 -90 37 -186 154 -335 291 -370 19 -5 53 -14 75 -19 65 -17 140 -14 157 7 38 44 53 142 39 252 -18 136 -29 196 -44 241 -15 43 -76 169 -88 179 -3 3 -9 12 -13 20 -19 40 -72 120 -103 155 -7 7 -13 16 -13 19 0 20 -193 214 -224 226 -28 10 -57 11 -88 3z"],["id","pLKZK53J2","d","M5662 4830 c-31 -13 -159 -142 -214 -215 -62 -83 -108 -154 -108 -166 0 -5 -4 -9 -8 -9 -15 0 -109 -203 -126 -270 -19 -81 -31 -268 -22 -343 5 -36 15 -65 31 -83 22 -26 26 -27 97 -21 70 6 88 10 187 46 43 16 141 99 141 120 0 6 4 11 8 11 14 0 71 131 91 210 18 69 25 139 50 503 8 123 3 189 -17 209 -14 14 -84 19 -110 8z"],["id","traps","id","traps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pohKVtK2e","d","M10892 4219 c-185 -106 -345 -316 -462 -609 -12 -30 -28 -68 -35 -85 -7 -16 -21 -50 -31 -75 -33 -86 -117 -265 -159 -340 -29 -51 -124 -146 -173 -173 -28 -15 -80 -33 -114 -39 l-63 -12 45 -14 c60 -20 356 -22 460 -4 148 26 334 75 354 93 6 5 16 9 23 9 20 0 144 60 179 87 57 43 59 64 59 608 0 453 -5 585 -23 585 -4 0 -31 -14 -60 -31z"],["id","pcwahUdfG","d","M11109 4224 c-10 -12 -13 -120 -13 -517 -1 -537 4 -597 47 -638 36 -33 164 -92 277 -128 165 -52 170 -53 229 -62 31 -4 92 -13 136 -19 99 -15 334 -7 389 13 l40 14 -63 12 c-115 23 -194 82 -276 207 -57 87 -67 106 -159 334 -26 63 -54 128 -62 143 -8 16 -14 33 -14 38 0 16 -96 211 -124 252 -14 21 -26 40 -26 43 0 18 -179 224 -195 224 -2 0 -15 10 -29 23 -21 19 -125 77 -139 77 -3 0 -10 -7 -18 -16z"],["id","pgK5lmqAa","d","M10925 2943 c-11 -3 -29 -12 -40 -19 -11 -8 -26 -14 -33 -14 -8 0 -28 -6 -45 -13 -18 -8 -59 -22 -92 -32 -33 -9 -73 -21 -90 -26 -47 -15 -214 -47 -281 -54 -58 -6 -111 -24 -72 -25 9 0 18 -3 20 -8 2 -4 35 -26 74 -50 38 -23 79 -50 90 -60 10 -10 37 -31 59 -47 70 -53 87 -68 206 -185 64 -63 127 -133 140 -155 50 -82 85 -235 98 -427 1 -9 62 1 74 11 4 4 1 54 -7 112 -17 120 -33 339 -46 654 -11 249 -19 346 -28 344 -4 -1 -16 -4 -27 -6z"],["id","p91hrYD7C","d","M11160 2883 c1 -169 -54 -953 -70 -1005 -10 -30 0 -43 41 -50 24 -4 27 -1 33 31 3 20 12 79 21 131 15 95 31 160 53 213 7 16 12 32 12 37 0 5 3 10 8 12 4 2 27 28 52 58 70 86 74 90 82 90 5 0 8 -7 8 -15 0 -8 -3 -15 -8 -15 -15 0 -81 -146 -92 -205 -16 -83 -25 -295 -13 -295 11 0 68 77 96 128 24 45 47 364 28 394 -10 17 -9 23 11 42 95 91 291 246 358 282 52 28 82 52 72 57 -4 3 -37 8 -72 12 -102 10 -312 58 -415 95 -33 12 -69 24 -80 27 -11 3 -38 14 -61 24 -62 29 -64 27 -64 -48z"],["id","pjfbF5zap","d","M10712 2230 c3 -167 5 -178 31 -232 15 -31 43 -74 62 -95 53 -60 54 -51 25 217 -7 67 -18 111 -37 150 -24 48 -65 115 -80 130 -3 3 -3 -74 -1 -170z"],["id","chest",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1ALVT6SDd","d","M3555 4051 c-55 -9 -217 -61 -280 -90 -22 -10 -68 -30 -102 -45 -34 -14 -77 -34 -95 -44 -18 -10 -69 -38 -113 -62 -44 -24 -81 -47 -83 -52 -2 -4 -10 -8 -18 -8 -28 0 -15 -67 35 -185 29 -68 116 -235 123 -235 4 0 8 -6 8 -13 0 -12 9 -26 50 -74 5 -7 10 -15 10 -19 0 -20 161 -162 210 -185 111 -54 229 -71 327 -48 109 26 262 118 285 173 10 24 13 120 13 401 0 427 5 404 -98 454 -69 34 -180 46 -272 32z"],["id","pImZBe7mv","d","M4210 4050 c-60 -11 -145 -56 -167 -89 -16 -24 -18 -57 -18 -396 0 -281 3 -377 13 -401 23 -55 176 -147 285 -173 98 -23 217 -6 326 48 49 23 211 166 211 185 0 4 9 17 21 29 46 50 154 260 199 389 28 81 29 108 5 108 -7 0 -15 4 -17 8 -6 16 -219 128 -358 187 -214 93 -381 128 -500 105z"],["id","shoulders","id","shoulders",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1Em2FavwG","d","M10226 3779 c-55 -4 -113 -13 -129 -19 -17 -5 -44 -10 -61 -10 -63 0 -243 -52 -258 -74 -21 -31 56 -170 175 -321 51 -63 166 -175 180 -175 32 0 95 89 137 191 12 30 26 63 31 74 8 19 27 73 63 180 9 28 17 75 19 105 2 55 2 55 -28 56 -16 1 -75 -2 -129 -7z"],["id","pDVrQ8FOR","d","M11702 3782 c-18 -12 -17 -67 3 -132 9 -30 20 -68 25 -85 36 -123 115 -292 163 -351 31 -37 48 -42 71 -19 8 8 18 15 21 15 4 0 21 16 38 36 18 20 43 48 57 63 43 44 100 119 100 129 0 6 3 12 8 14 11 5 52 66 52 78 0 5 3 10 8 10 13 0 54 97 50 120 -5 34 -88 62 -304 100 -52 9 -237 29 -269 30 -5 0 -16 -4 -23 -8z"],["id","pLtWInZ2t","d","M9464 3752 c-17 -11 -34 -71 -50 -177 -13 -81 -13 -115 -4 -185 11 -79 45 -199 61 -210 3 -3 9 -14 13 -26 9 -30 64 -88 112 -117 90 -56 243 -72 365 -38 72 19 134 51 134 68 0 5 -16 30 -35 53 -115 143 -143 175 -151 178 -5 2 -9 10 -9 17 0 7 -4 15 -9 17 -5 2 -40 40 -79 85 -91 106 -130 148 -226 245 -85 85 -106 100 -122 90z"],["id","pJX9v6Uhz","d","M12471 3642 c-114 -117 -212 -224 -268 -292 -26 -32 -64 -77 -88 -104 -6 -6 -35 -42 -65 -81 -30 -38 -60 -76 -67 -83 -18 -18 -11 -26 44 -52 106 -50 240 -63 355 -34 35 9 65 19 68 23 3 3 18 12 33 19 16 7 31 21 34 31 3 10 15 24 27 30 29 16 67 81 96 166 42 126 29 415 -23 483 -5 6 -14 12 -20 12 -6 0 -63 -53 -126 -118z"],["id","pThJeuJcT","d","M2440 3658 c0 -23 13 -70 39 -133 19 -50 82 -159 93 -163 4 -2 8 -8 8 -13 0 -8 15 -29 45 -63 6 -6 26 -31 45 -56 70 -89 169 -179 270 -244 66 -42 166 -83 177 -72 8 8 -29 171 -46 204 -6 9 -20 40 -33 67 -13 28 -26 52 -30 53 -5 2 -8 10 -8 17 0 7 -28 51 -62 96 -125 169 -269 280 -408 315 -78 19 -90 18 -90 -8z"],["id","pzJ65nzaj","d","M5445 3669 c-16 -6 -39 -14 -50 -19 -11 -5 -40 -17 -65 -28 -87 -36 -243 -183 -326 -307 -92 -137 -152 -300 -145 -393 4 -47 232 92 360 219 65 65 171 199 200 254 12 22 26 48 32 58 5 9 14 25 19 35 6 9 13 24 16 32 3 8 12 31 19 50 8 19 16 51 17 70 3 31 0 35 -22 37 -14 1 -38 -3 -55 -8z"],["id","pNOX1j2to","d","M2356 3572 c-10 -60 -7 -241 5 -306 24 -138 67 -235 121 -274 9 -7 23 -18 30 -25 14 -14 73 -47 128 -70 19 -8 80 -18 135 -22 l100 -7 -40 33 c-104 89 -181 176 -254 288 -73 111 -73 113 -116 201 -53 110 -62 131 -75 172 -16 51 -26 55 -34 10z"],["id","p18DmkkyXv","d","M5593 3599 c-7 -7 -13 -23 -13 -36 0 -13 -4 -23 -9 -23 -5 0 -13 -15 -16 -32 -4 -18 -20 -58 -36 -88 -16 -30 -29 -58 -29 -62 0 -15 -96 -166 -153 -242 -53 -70 -121 -141 -212 -221 l-30 -26 90 6 c85 5 215 40 215 57 0 5 5 8 10 8 6 0 33 17 60 37 90 67 134 192 143 408 7 152 -1 233 -20 214z"],["id","neck","id","neck",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pbyoP6RcA","d","M4039 3043 c-14 -37 -17 -212 -4 -221 6 -4 65 -118 133 -254 68 -136 130 -252 137 -258 12 -10 17 -7 26 16 8 22 8 57 0 137 -12 106 -13 110 -90 260 -43 84 -95 181 -114 217 -20 36 -43 80 -51 98 -18 39 -23 40 -37 5z"],["id","p80pIYUZC","d","M3857 3002 c-16 -31 -44 -86 -64 -122 -19 -36 -63 -120 -98 -188 -60 -115 -64 -128 -71 -215 -9 -102 -8 -142 5 -165 7 -12 14 -7 35 24 14 21 26 44 26 50 0 7 4 14 8 16 10 4 172 329 172 345 0 6 3 13 8 15 4 2 18 25 31 52 21 43 23 57 18 125 -12 140 -26 153 -70 63z"],["id","pO5VSAATM","d","M3546 2894 c-11 -10 -14 -24 -10 -37 10 -32 68 -117 79 -117 6 0 18 19 29 43 10 23 23 52 28 63 20 44 7 59 -53 62 -42 2 -61 -1 -73 -14z"],["id","pMi573gZh","d","M4253 2899 c-12 -12 -10 -20 31 -111 11 -27 24 -48 28 -48 8 0 48 52 73 97 18 31 18 33 0 53 -14 15 -30 20 -70 20 -28 0 -56 -5 -62 -11z"],["id","pFmMA3nA8","d","M3194 2855 c-102 -12 -124 -19 -124 -35 0 -11 96 -75 155 -105 22 -11 42 -23 45 -26 12 -15 219 -108 252 -114 43 -8 55 6 43 53 -12 49 -231 248 -264 241 -3 -1 -52 -7 -107 -14z"],["id","pZ71lUFDj","d","M4577 2846 c-63 -43 -172 -146 -200 -189 -10 -16 -17 -40 -15 -55 3 -25 6 -27 42 -25 40 3 306 128 306 145 0 4 5 8 12 8 16 0 138 80 138 91 0 15 -40 26 -125 33 -44 4 -89 10 -100 12 -12 3 -36 -5 -58 -20z"],["id","pS7WBUaDq","d","M3957 2771 c-15 -38 -27 -73 -27 -79 0 -6 -6 -26 -14 -44 -25 -60 -45 -132 -52 -187 l-7 -54 69 6 c38 4 95 3 126 -1 65 -10 70 -5 61 55 -7 51 -103 345 -118 361 -9 10 -17 -3 -38 -57z"],["id","head",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","p17sYKloCT","d","M3838 2340 c-106 -29 -203 -74 -284 -132 -35 -25 -45 -40 -58 -88 -9 -32 -19 -87 -22 -122 -4 -43 -12 -68 -24 -78 -21 -18 -48 -81 -85 -204 -31 -99 -29 -110 23 -135 35 -18 36 -23 21 -126 -22 -150 31 -384 114 -505 75 -109 145 -174 240 -223 59 -31 68 -32 195 -35 109 -3 143 0 185 15 51 17 109 50 115 66 2 4 8 7 12 7 12 0 110 98 110 110 0 4 4 10 9 12 13 4 81 107 81 122 0 7 4 16 9 21 18 20 50 152 56 235 9 104 9 148 0 221 l-7 57 41 18 c44 19 49 33 31 88 -62 192 -74 223 -96 243 -18 17 -25 35 -29 90 -11 112 -32 174 -72 210 -20 18 -46 36 -57 39 -12 4 -23 9 -26 13 -23 28 -293 112 -352 110 -13 0 -71 -14 -130 -29z"],["id","p116KsVsP3","d","M10601 2150 c-6 -25 -17 -65 -25 -90 -8 -25 -22 -80 -32 -123 -12 -51 -22 -76 -30 -73 -22 9 -35 -22 -114 -270 -6 -17 -8 -38 -4 -47 8 -21 48 -47 74 -47 11 0 20 -6 20 -12 0 -7 2 -87 4 -178 5 -164 15 -218 58 -315 42 -94 146 -212 221 -250 91 -46 149 -59 277 -59 74 0 141 6 165 13 65 21 155 63 155 72 0 5 5 9 10 9 14 0 110 96 110 110 0 5 4 10 8 10 13 0 70 121 93 197 18 56 22 95 22 224 l1 157 33 11 c69 25 74 49 36 166 -47 146 -73 205 -89 205 -7 0 -19 30 -29 68 -17 68 -32 127 -58 217 l-14 50 -18 -60 c-10 -33 -24 -74 -31 -92 -8 -17 -14 -35 -14 -41 0 -17 -42 -105 -76 -157 -73 -115 -138 -154 -270 -162 -170 -11 -280 54 -365 217 -13 25 -42 101 -65 170 l-41 125 -12 -45z"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h3",1),O(2,"Body state"),T(),C(3,"div",2),de(4,gfe,150,0,"div",3)(5,mfe,1,0,"div",3),$(6,"div",4),T()()),n&2&&(P(4),G("ngIf",r.userGender==="male"),P(),G("ngIf",r.userGender==="female"))},dependencies:[$e,ot],styles:[".body-figure[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{cursor:pointer}.body-figure[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{fill:#ef4444!important}.body-figure[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]:hover{fill:#fca5a5!important}.body-figure[_ngcontent-%COMP%]   .healed[_ngcontent-%COMP%]{fill:#16a34a!important}.body-figure[_ngcontent-%COMP%]   .healed[_ngcontent-%COMP%]:hover{fill:#86efac!important}.body-figure[_ngcontent-%COMP%]   .healing[_ngcontent-%COMP%]{fill:#fbbf24!important}.body-figure[_ngcontent-%COMP%]   .healing[_ngcontent-%COMP%]:hover{fill:#fde68a!important}.body-tooltip[_ngcontent-%COMP%]{background-color:#1f2937cc!important;color:#fff!important;border-radius:4px;padding:10px;border:1px solid white;box-shadow:2px 2px 6px -4px #999;cursor:default;font-size:14px;left:62px;top:20px;display:flex;flex-direction:column;overflow:hidden;white-space:nowrap;z-index:12;transition:.15s ease all}"]})};var kE=class t{constructor(e,n,r){this.userService=e;this.gfitService=n;this.toastr=r}isMetric=!0;profileData={weight:null};userWeight;weightGoal=null;ngOnInit(){this.fetchWeightAndHeight(),this.loadWeightGoal(),this.userService.loadUnitPreference().then(()=>{this.isMetric=this.userService.isMetric})}fetchWeightAndHeight(){this.userService.getUserWeight().then(e=>{this.profileData.weight=e}).catch(e=>{console.error("Error fetching weight:",e),this.toastr.error("Could not fetch weight.")})}loadWeightGoal(){this.userService.getUserGoals().then(e=>{this.weightGoal=e?.weightGoal||null}).catch(e=>{console.error("Error fetching weight goal:",e),this.toastr.error("Could not fetch weight goal.")})}get displayWeight(){return this.profileData.weight?this.isMetric?`${this.profileData.weight} kg`:`${Math.round(this.profileData.weight*2.20462)} lbs`:"N/A"}get displayWeightGoal(){return this.weightGoal?this.isMetric?`${this.weightGoal} kg`:`${Math.round(this.weightGoal*2.20462)} lbs`:"N/A"}static \u0275fac=function(n){return new(n||t)(U(on),U(mi),U(Wt))};static \u0275cmp=ve({type:t,selectors:[["app-weight-tracker"]],inputs:{isMetric:"isMetric"},standalone:!0,features:[Ce],decls:9,vars:2,consts:[[1,"weight","h-full","flex","flex-col","justify-center","items-center","bg-gray-800","text-white","rounded-xl","p-4","text-center","shadow-lg","hover:bg-gray-700","transition-all"],[1,"text-green-600","fa-solid","fa-weight-scale","text-4xl","mb-4"],[1,"text-center"],[1,"font-bold","text-2xl","md:text-3xl","lg:text-4xl","mb-2"],[1,"text-sm","text-gray-400","mb-4"]],template:function(n,r){n&1&&(C(0,"div",0),$(1,"i",1),C(2,"div",2)(3,"p",3),O(4),T(),C(5,"p",4),O(6,"Current Weight"),T(),C(7,"p",4),O(8),T()()()),n&2&&(P(4),Pe(r.displayWeight),P(4),_e("Weight goal: ",r.displayWeightGoal,""))},dependencies:[$e]})};var NE=class t{constructor(e){this.gfitService=e}isMetric=!0;steps=0;stepGoal=null;stepProgress=0;ngOnInit(){this.loadSteps()}ngOnChanges(e){(e.stepGoal||e.steps)&&this.calculateProgress()}loadSteps(){this.gfitService.getSteps().subscribe(e=>{this.steps=e,this.calculateProgress()})}calculateProgress(){this.stepGoal&&this.steps?this.stepProgress=Math.min(this.steps/this.stepGoal*100,100):this.stepProgress=0}static \u0275fac=function(n){return new(n||t)(U(mi))};static \u0275cmp=ve({type:t,selectors:[["app-steps-tracker"]],inputs:{isMetric:"isMetric",steps:"steps",stepGoal:"stepGoal"},standalone:!0,features:[tn,Ce],decls:15,vars:3,consts:[[1,"steps","flex","flex-col","justify-center","items-center","bg-gray-800","text-white","rounded-xl","p-4","text-center","shadow-lg","hover:bg-gray-700","transition-all"],[1,"relative","w-32","h-32"],["viewBox","0 0 36 36",1,"absolute","inset-0","w-full","h-full"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke","currentColor",1,"text-gray-600"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke-linecap","round","stroke","currentColor",1,"text-green-600"],[1,"absolute","inset-0","flex","items-center","justify-center","text-xl","font-bold"],[1,"flex","flex-col","items-center"],[1,"text-green-600","fa-solid","fa-shoe-prints","text-3xl","mb-2"],[1,"text-center","mt-4"],[1,"font-bold","text-2xl","md:text-3xl","lg:text-4xl","mb-2"],[1,"text-sm","text-gray-400"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),Mu(),C(2,"svg",2),$(3,"path",3)(4,"path",4),T(),jv(),C(5,"div",5)(6,"div",6),$(7,"i",7),C(8,"p"),O(9),T()()()(),C(10,"div",8)(11,"p",9),O(12),T(),C(13,"p",10),O(14,"Steps Today"),T()()()),n&2&&(P(4),Cr("stroke-dasharray",r.stepProgress+", 100"),P(5),_e("",r.stepProgress.toFixed(0),"%"),P(3),Pe(r.steps))}})};var PE=class t{caloriesGoal=null;caloriesBurnedToday=null;caloriesProgress=0;ngOnInit(){this.calculateProgress()}ngOnChanges(e){(e.caloriesGoal||e.caloriesBurnedToday)&&this.calculateProgress()}calculateProgress(){this.caloriesGoal&&this.caloriesBurnedToday?this.caloriesProgress=Math.min(this.caloriesBurnedToday/this.caloriesGoal*100,100):this.caloriesProgress=0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ve({type:t,selectors:[["app-calories-tracker"]],inputs:{caloriesGoal:"caloriesGoal",caloriesBurnedToday:"caloriesBurnedToday",caloriesProgress:"caloriesProgress"},standalone:!0,features:[tn,Ce],decls:15,vars:3,consts:[[1,"calories","flex","flex-col","justify-center","items-center","bg-gray-800","text-white","rounded-xl","p-4","text-center","shadow-lg","hover:bg-gray-700","transition-all"],[1,"relative","w-32","h-32"],["viewBox","0 0 36 36",1,"absolute","inset-0","w-full","h-full"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke","currentColor",1,"text-gray-600"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke-linecap","round","stroke","currentColor",1,"text-red-500"],[1,"absolute","inset-0","flex","items-center","justify-center","text-xl","font-bold"],[1,"flex","flex-col","items-center"],[1,"text-red-500","fa-solid","fa-fire","text-3xl","mb-2"],[1,"text-center","mt-4"],[1,"font-bold","text-2xl","md:text-3xl","lg:text-4xl","mb-2"],[1,"text-sm","text-gray-400"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),Mu(),C(2,"svg",2),$(3,"path",3)(4,"path",4),T(),jv(),C(5,"div",5)(6,"div",6),$(7,"i",7),C(8,"p"),O(9),T()()()(),C(10,"div",8)(11,"p",9),O(12),T(),C(13,"p",10),O(14,"Calories Burned Today"),T()()()),n&2&&(P(4),Cr("stroke-dasharray",r.caloriesProgress+", 100"),P(5),_e("",r.caloriesProgress.toFixed(0),"%"),P(3),Pe(r.caloriesBurnedToday.toFixed(0)))}})};var OE=class t{formatTime(e){let n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60);return`${n.toString().padStart(2,"0")}h ${r.toString().padStart(2,"0")}m ${i.toString().padStart(2,"0")}s`}calculateDaysDifference(e,n){let r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))}getDaysAgo(e){let r=new Date().getTime()-e.getTime(),i=Math.floor(r/(1e3*3600*24));return i===0?"Today":i>0?`${i} day${i>1?"s":""} ago`:"Invalid date"}getInDays(e){let n=new Date,i=new Date(e).getTime()-n.getTime(),s=Math.floor(i/(1e3*3600*24));return s===0?"Today":s>0?`${s} day${s>1?"s":""} from now`:"Invalid date"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};function yfe(t,e){if(t&1&&(C(0,"div",23)(1,"p",24)(2,"small",7),O(3,"Level:"),T(),O(4),T()()),t&2){let n=H();P(4),_e(" ",n.currentAchievement.name," ")}}function _fe(t,e){t&1&&(C(0,"div")(1,"p",25),O(2,"No achievements unlocked yet."),T()())}function wfe(t,e){if(t&1&&$(0,"img",26),t&2){let n=H();Xv("alt","",n.currentAchievement.name," Badge"),G("src",n.currentAchievement.badgeUrl,Fr)}}var FE=class t{constructor(e,n,r,i,s,o,a){this.auth=e;this.userService=n;this.workoutService=r;this.toastr=i;this.timeService=s;this.router=o;this.gfitService=a}userId=null;profileData={weight:null};points=0;achievements=[];currentAchievement={name:"",badgeUrl:""};userWeight;weightDifference=null;errorMessage=null;totalTimeSpent="00:00:00";numberOfWorkoutsDone=0;mostRecentWorkout=null;nextScheduledWorkout=null;isMetric=!0;caloriesBurnedToday=0;steps=0;stepGoal=null;stepProgress=0;caloriesGoal=null;caloriesProgress=0;ngOnInit(){return w(this,null,function*(){if(this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,!this.userId){this.router.navigate(["/login"]);return}yield this.fetchProfileData(),yield this.loadDashboardData(),yield this.loadGoogleFitData(),yield this.fetchUserPoints(),yield this.fetchCurrentAchievement(),yield this.loadUserGoals()})}loadUserGoals(){this.userService.getUserGoals().then(e=>{this.stepGoal=e.stepGoal,this.caloriesGoal=e.caloriesGoal,this.calculateProgress()}).catch(e=>{console.error("Error fetching user goals:",e),this.toastr.error("Could not fetch user goals.")})}loadGoogleFitData(){this.gfitService.getSteps().subscribe(e=>{this.steps=e||0,this.calculateCaloriesFromSteps(),this.calculateProgress()})}calculateCaloriesFromSteps(){let n=this.steps*.05;this.caloriesBurnedToday+=n}calculateProgress(){this.stepGoal&&this.steps&&(this.stepProgress=Math.min(this.steps/this.stepGoal*100,100)),this.caloriesGoal&&this.caloriesBurnedToday&&(this.caloriesProgress=Math.min(this.caloriesBurnedToday/this.caloriesGoal*100,100))}fetchProfileData(){this.userService.getGoogleFitProfileData().then(e=>{e?(this.profileData=e,this.fetchWeightAndHeight()):this.errorMessage="No profile data found."}).catch(e=>{console.error("Error fetching profile data:",e),this.errorMessage="Error fetching profile data"})}fetchWeightAndHeight(){this.userService.getUserWeight().then(e=>{this.profileData.weight=e}).catch(e=>{console.error("Error fetching weight:",e),this.toastr.error("Could not fetch weight.")}),this.userService.getUserHeight().then(e=>{this.profileData.height=e}).catch(e=>{console.error("Error fetching height:",e),this.toastr.error("Could not fetch height.")})}get age(){return this.userService.calculateAge(this.profileData.dob)}getDaysAgo(e){return this.timeService.getDaysAgo(e)}getInDays(e){return this.timeService.getInDays(e)}fetchUserPoints(){return w(this,null,function*(){this.userService.getUserTotalPoints().then(e=>{this.points=e,this.currentAchievement=Md(e)}).catch(e=>{console.error("Error fetching user points:",e),this.toastr.error("Could not fetch user points.")})})}fetchCurrentAchievement(){return w(this,null,function*(){let e=yield this.userService.getUserTotalPoints();this.currentAchievement=Md(e)||{name:"No achievement",badgeUrl:""}})}loadDashboardData(){return w(this,null,function*(){if(this.userId)try{let e=yield this.workoutService.getFinishedWorkouts(this.userId);if(this.numberOfWorkoutsDone=e.length,e.length>0){this.mostRecentWorkout=e.reduce((o,a)=>o.completedAt>a.completedAt?o:a);let i=e.reduce((o,a)=>o+a.timeSpent,0);this.totalTimeSpent=this.timeService.formatTime(i);let s=new Date;s.setHours(0,0,0,0),this.caloriesBurnedToday=e.filter(o=>o.completedAt>=s).reduce((o,a)=>o+a.totalCalories,0)||0,this.calculateCaloriesFromSteps()}let n=yield this.workoutService.getScheduledWorkouts(this.userId);n.length>0&&(this.nextScheduledWorkout=n.reduce((i,s)=>new Date(i.scheduledDate)<new Date(s.scheduledDate)?i:s)),yield this.fetchUserPoints();let r=yield this.userService.getUserTotalPoints();this.currentAchievement=Md(r)}catch(e){console.error("Error loading dashboard data:",e)}})}onChartReady(){}static \u0275fac=function(n){return new(n||t)(U(ze),U(on),U(an),U(Wt),U(OE),U(rn),U(mi))};static \u0275cmp=ve({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[Ce],decls:34,vars:12,consts:[[1,"container","mx-auto","px-4","py-4","mb-10","lg:mb-0"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","mt-1","mb-4"],[1,"user-info","relative","flex","col-span-12","lg:col-span-2","justify-between","items-center","bg-gray-800","hover:bg-gray-700","text-white","rounded-xl","shadow-lg","p-4","gap-4"],[1,"w-full","flex","flex-col","justify-center","items-start","text-left"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-3"],[1,"font-bold","text-xl","mb-2","text-gray-100"],[1,"font-medium","text-sm","text-gray-400"],["class","flex justify-between align-center",4,"ngIf"],[4,"ngIf"],["class","w-10 h-10 md:w-14 md:h-14 absolute right-0 top-0 m-4 rounded-full shadow-md bg-gray-700 border border-gray-600",3,"src","alt",4,"ngIf"],[1,"col-span-6","lg:col-span-1","flex","flex-col","justify-center","items-center","bg-gray-800","hover:bg-gray-700","text-white","rounded-xl","shadow-lg","p-4"],[1,"text-green-600","fa-regular","fa-clock","text-3xl","mb-2"],[1,"text-center"],[1,"font-bold","text-xl","md:text-2xl","mb-1","text-gray-100"],[1,"text-sm","text-gray-400"],[1,"text-green-600","fa-solid","fa-dumbbell","text-3xl","mb-2"],[1,"trackers","grid","grid-cols-auto","lg:grid-cols-3","gap-2","gap-4","mt-2","mb-4"],[3,"isMetric"],[3,"isMetric","stepGoal"],[3,"caloriesGoal","caloriesBurnedToday"],[1,"stats","grid","grid-cols-auto","lg:grid-cols-3","gap-4","mt-2","mb-4"],[1,"lg:col-span-2",3,"chartReady","userId"],[1,"flex","justify-between","align-center"],[1,"font-bold","text-lg","mb-2","text-gray-100"],[1,"text-gray-400"],[1,"w-10","h-10","md:w-14","md:h-14","absolute","right-0","top-0","m-4","rounded-full","shadow-md","bg-gray-700","border","border-gray-600",3,"src","alt"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6)(7,"small",7),O(8,"Points:"),T(),O(9),T(),de(10,yfe,5,1,"div",8)(11,_fe,3,0,"div",9),T()()(),de(12,wfe,1,3,"img",10),T(),C(13,"div",11),$(14,"i",12),C(15,"div",13)(16,"p",14),O(17),T(),C(18,"p",15),O(19,"Total Time"),T()()(),C(20,"div",11),$(21,"i",16),C(22,"div",13)(23,"p",14),O(24),T(),C(25,"p",15),O(26,"Workouts done"),T()()()(),C(27,"div",17),$(28,"app-weight-tracker",18)(29,"app-steps-tracker",19)(30,"app-calories-tracker",20),T(),C(31,"div",21)(32,"app-charts",22),Y("chartReady",function(){return r.onChartReady()}),T(),$(33,"app-body-stats"),T()()),n&2&&(P(9),_e(" ",r.points.toFixed(0)," "),P(),G("ngIf",r.currentAchievement),P(),G("ngIf",!r.currentAchievement),P(),G("ngIf",r.currentAchievement.badgeUrl),P(5),Pe(r.totalTimeSpent),P(7),Pe(r.numberOfWorkoutsDone),P(4),G("isMetric",r.isMetric),P(),G("isMetric",r.isMetric)("stepGoal",r.stepGoal),P(),G("caloriesGoal",r.caloriesGoal)("caloriesBurnedToday",r.caloriesBurnedToday),P(2),G("userId",r.userId))},dependencies:[$e,ot,An,$w,ME,kE,NE,PE],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}"]})};var fl=class t{constructor(e,n){this.auth=e;this.router=n}canActivate(){return XL(this.auth).pipe(Ri(1),ue(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(n){return new(n||t)(se(ze),se(rn))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};var P9="firebasestorage.googleapis.com",Efe="storageBucket",bfe=2*60*1e3,Ife=10*60*1e3;var zs=class t extends jn{constructor(e,n,r=0){super(Sk(e),`Firebase Storage: ${n} (${Sk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Jo=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Jo||{});function Sk(t){return"storage/"+t}function Cfe(){let t="An unknown error occurred, please check the error payload for server response.";return new zs(Jo.UNKNOWN,t)}function Tfe(){return new zs(Jo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dfe(){return new zs(Jo.CANCELED,"User canceled the upload/download.")}function Sfe(t){return new zs(Jo.INVALID_URL,"Invalid URL '"+t+"'.")}function Afe(t){return new zs(Jo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x9(t){return new zs(Jo.INVALID_ARGUMENT,t)}function O9(){return new zs(Jo.APP_DELETED,"The Firebase app was deleted.")}function xfe(t){return new zs(Jo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Xo=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Afe(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}let u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},b=n===P9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",x=new RegExp(`^https?://${b}/${i}/${_}`,"i"),W=[{regex:a,indices:l,postModify:s},{regex:g,indices:v,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<W.length;I++){let te=W[I],B=te.regex.exec(e);if(B){let A=B[te.indices.bucket],E=B[te.indices.path];E||(E=""),r=new t(A,E),te.postModify(r);break}}if(r==null)throw Sfe(e);return r}},Ak=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Rfe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(g,l())},_)}function f(){s&&clearTimeout(s)}function g(_,...x){if(c){f();return}if(_){f(),u.call(null,_,...x);return}if(l()||o){f(),u.call(null,_,...x);return}r<64&&(r*=2);let W;a===1?(a=2,W=0):W=(r+Math.random())*1e3,h(W)}let v=!1;function b(_){v||(v=!0,f(),!c&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function Mfe(t){t(!1)}function kfe(t){return t!==void 0}function R9(t,e,n,r){if(r<e)throw x9(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw x9(`Invalid value for '${t}'. Expected ${n} or less.`)}function Nfe(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var xk=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(xk||{});function Pfe(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Rk=class{constructor(e,n,r,i,s,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new bh(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===xk.NO_ERROR,l=s.getStatus();if(!a||Pfe(l,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===xk.ABORT;r(!1,new bh(!1,null,u));return}let c=this.successCodes_.indexOf(l)!==-1;r(!0,new bh(c,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());kfe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=Cfe();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){let l=this.appDelete_?O9():Dfe();o(l)}else{let l=Tfe();o(l)}};this.canceled_?n(!1,new bh(!1,null,!0)):this.backoffId_=Rfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},bh=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Ofe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ffe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Lfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ufe(t,e,n,r,i,s,o=!0){let a=Nfe(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Lfe(c,e),Ofe(c,n),Ffe(c,s),Vfe(c,r),new Rk(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function jfe(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Bfe(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var XNe=256*1024;var Mk=class t{constructor(e,n){this._service=e,n instanceof Xo?this._location=n:this._location=Xo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Xo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bfe(this._location.path)}get storage(){return this._service}get parent(){let e=jfe(this._location.path);if(e===null)return null;let n=new Xo(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xfe(e)}};function M9(t,e){let n=e?.[Efe];return n==null?null:Xo.makeFromBucketSpec(n,t)}function Hfe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ju(i,t.app.options.projectId))}var kk=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=P9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bfe,this._maxUploadRetryTime=Ife,this._requests=new Set,i!=null?this._bucket=Xo.makeFromBucketSpec(i,this._host):this._bucket=M9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xo.makeFromBucketSpec(this._url,e):this._bucket=M9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R9("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R9("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return w(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return w(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mk(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Ak(O9());{let o=Ufe(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return w(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},k9="@firebase/storage",N9="0.13.2";var F9="storage";function L9(t=Hr(),e){t=It(t);let r=Tr(t,F9).getImmediate({identifier:e}),i=Xu("storage");return i&&V9(r,...i),r}function V9(t,e,n,r={}){Hfe(t,e,n,r)}function Wfe(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kk(n,r,i,e,ci)}function $fe(){Sn(new Bt(F9,Wfe,"PUBLIC").setMultipleInstances(!0)),Ve(k9,N9,""),Ve(k9,N9,"esm2017")}$fe();var Gc=class{constructor(e){return e}},U9="storage",Nk=class{constructor(){return Wi(U9)}};var Pk=new ie("angularfire2.storage-instances");function zfe(t,e){let n=ys(U9,t,e);return n&&new Gc(n)}function Gfe(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gc(r)}}var qfe={provide:Nk,deps:[[new ct,Pk]]},Qfe={provide:Gc,useFactory:zfe,deps:[[new ct,Pk],lr]};function j9(t,...e){return Ve("angularfire",Wr.full,"gcs"),en([Qfe,qfe,{provide:Pk,useFactory:Gfe(t),multi:!0,deps:[xe,St,ui,$r,[new ct,xo],[new ct,vs],...e]}])}var B9=Qt(L9,!0);function Yfe(t,e){if(t&1&&$(0,"img",30),t&2){let n=H();G("src",n.profileData.profilePicture,Fr)}}function Zfe(t,e){t&1&&(C(0,"div",31),$(1,"i",32),T())}function Xfe(t,e){if(t&1&&(C(0,"div",9)(1,"strong"),O(2,"Age: "),T(),O(3),T()),t&2){let n=H();P(3),_e(" ",n.age,"")}}function Jfe(t,e){if(t&1&&(C(0,"div",9)(1,"strong"),O(2,"Achievements:"),T(),O(3),nf(4,"date"),T()),t&2){let n=e.$implicit;P(3),Pa(" ",n.id," - Unlocked on ",rf(4,2,n.dateUnlocked.toDate(),"dd.MM.yyyy")," ")}}var LE=class t{constructor(e,n,r,i,s,o,a){this.auth=e;this.firestore=n;this.storage=r;this.userService=i;this.router=s;this.gfitService=o;this.toastr=a;this.isMetric=this.userService.isMetric}userId=null;profileData={dob:"",gender:null,profilePicture:null};points=0;achievements=[];errorMessage=null;height;weight;isMetric=!0;stepGoal=null;caloriesGoal=null;weightGoal=null;inputWeightGoal=null;ngOnInit(){this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,this.userId?(this.fetchProfileData(),this.fetchUserPoints(),this.fetchUserAchievements(),this.loadUserGoals(),this.userService.loadUnitPreference().then(()=>{this.isMetric=this.userService.isMetric,this.updateInputWeightGoal()})):this.router.navigate(["/login"])}fetchProfileData(){this.userService.getGoogleFitProfileData().then(e=>{e?(this.profileData=e,this.fetchWeightAndHeight()):this.errorMessage="No profile data found."}).catch(e=>{this.errorMessage="Error fetching profile data",console.error("Error fetching profile data:",e)})}fetchWeightAndHeight(){Promise.all([this.userService.getUserWeight(),this.userService.getUserHeight()]).then(([e,n])=>{this.profileData.weight=e,this.profileData.height=n,this.updateInputWeightGoal()}).catch(e=>{console.error("Error fetching weight and height:",e),this.toastr.error("Could not fetch weight and height.")})}toggleUnits(){this.isMetric=!this.isMetric,this.userService.saveUnitPreference(this.isMetric),this.updateInputWeightGoal()}get displayHeight(){if(!this.profileData.height)return"N/A";if(this.isMetric)return`${this.profileData.height} cm`;{let e=Math.floor(this.profileData.height/30.48),n=Math.round(this.profileData.height/2.54%12);return`${e}ft ${n}in`}}get displayWeight(){return this.profileData.weight?this.isMetric?`${this.profileData.weight} kg`:`${Math.round(this.profileData.weight*2.20462)} lbs`:"N/A"}get displayWeightGoal(){return this.weightGoal?this.isMetric?`${this.weightGoal} kg`:`${Math.round(this.weightGoal*2.20462)} lbs`:"N/A"}updateInputWeightGoal(){this.weightGoal!==null?this.inputWeightGoal=this.isMetric?this.weightGoal:Math.round(this.weightGoal*2.20462):this.inputWeightGoal=null}fetchUserPoints(){this.userService.getUserTotalPoints().then(e=>{this.points=e}).catch(e=>{console.error("Error fetching user points:",e),this.toastr.error("Could not fetch user points.")})}fetchUserAchievements(){this.userService.getUserAchievements().then(e=>{this.achievements=e}).catch(e=>{console.error("Error fetching user achievements:",e),this.toastr.error("Could not fetch user achievements.")})}loadUserGoals(){this.userService.getUserGoals().then(e=>{this.stepGoal=e?.stepGoal||null,this.caloriesGoal=e?.caloriesGoal||null,this.weightGoal=e?.weightGoal||null}).catch(e=>{console.error("Error loading goals:",e)})}saveGoals(){let e=this.stepGoal||0,n=this.caloriesGoal||0,r=this.inputWeightGoal;r!==null&&(r=this.isMetric?r:Math.round(r/2.20462)),this.userService.saveUserGoals({stepGoal:e,caloriesGoal:n,weightGoal:r}).then(()=>{this.toastr.success("Goals saved successfully!")}).catch(i=>{this.toastr.error("Error saving goals"),console.error("Error saving goals:",i)})}deleteAccount(){let e=this.auth.currentUser;confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(e?JL(e).then(()=>{let n=D9(this.firestore,`users/${e.uid}`);return T9(n)}).then(()=>{this.toastr.success("Account and user data deleted successfully"),this.router.navigate(["/login"])}).catch(n=>{console.error("Error deleting account",n),this.toastr.error("Failed to delete account. Please try again later.")}):this.toastr.warning("User not authenticated."))}get age(){return this.userService.calculateAge(this.profileData.dob)}static \u0275fac=function(n){return new(n||t)(U(ze),U(Zo),U(Gc),U(on),U(rn),U(mi),U(Wt))};static \u0275cmp=ve({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[Ce],decls:59,vars:14,consts:[["cameraIcon",""],[1,"container"],[1,"flex","flex-col","items-center","flex-1","h-full","justify-center","m-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","w-full"],[1,"bg-gray-800","text-white","p-4","rounded-xl","shadow-lg","grid","grid-cols-2"],[1,"text-lg","font-bold","mb-4","col-span-3"],[1,"col-span-1","img-wrapper","rounded-full","w-32","h-32","lg:w-44","lg:h-44","overflow-hidden","relative","border-4","border-gray-700","mt-4"],["class","w-full h-full object-cover","alt","Profile Picture",3,"src",4,"ngIf","ngIfElse"],[1,"col-span-1"],[1,"text-lg","mt-2"],["class","text-lg mt-2",4,"ngIf"],[1,"text-lg","mt-2","capitalize"],[1,"pr-2"],[1,"mt-2"],[1,"bg-green-600","hover:bg-green-700","text-sm","font-semibold","py-2","px-4","rounded-full","transition","duration-200",3,"click"],[1,"col-span-2"],["class","text-lg mt-2",4,"ngFor","ngForOf"],[1,"bg-gray-800","text-white","p-4","rounded-xl","shadow-lg"],[1,"text-lg","font-bold","mb-4"],[3,"ngSubmit"],[1,"mb-4"],["for","stepGoal",1,"block","text-gray-400","mb-2"],["id","stepGoal","name","stepGoal","type","number",1,"w-full","p-2","rounded-xl","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring","focus:ring-green-600","transition","duration-200",3,"ngModelChange","ngModel"],["for","caloriesGoal",1,"block","text-gray-400","mb-2"],["id","caloriesGoal","name","caloriesGoal","type","number",1,"w-full","p-2","rounded-xl","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring","focus:ring-green-600","transition","duration-200",3,"ngModelChange","ngModel"],["for","weightGoal",1,"block","text-gray-400","mb-2"],["id","weightGoal","name","weightGoal","type","number",1,"w-full","p-2","rounded-xl","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring","focus:ring-green-600","transition","duration-200",3,"ngModelChange","ngModel"],["type","submit",1,"bg-green-600","hover:bg-green-700","text-sm","font-semibold","py-2","px-4","rounded-full","transition","duration-200"],[1,"flex","flex-col","mt-4","gap-4","w-full"],[1,"bg-red-600","hover:bg-red-700","text-white","text-sm","font-semibold","py-2","px-4","rounded-full","transition","duration-200",3,"click"],["alt","Profile Picture",1,"w-full","h-full","object-cover",3,"src"],[1,"flex","justify-center","items-center","w-full","h-full","bg-gray-200"],[1,"fas","fa-camera","text-gray-500","text-2xl"]],template:function(n,r){if(n&1){let i=Je();C(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),O(5,"Profile Information"),T(),C(6,"div",6),de(7,Yfe,1,1,"img",7)(8,Zfe,2,0,"ng-template",null,0,ey),T(),C(10,"div",8)(11,"div",9)(12,"strong"),O(13,"Name: "),T(),O(14),T(),de(15,Xfe,4,1,"div",10),C(16,"div",11)(17,"strong"),O(18,"Gender:"),T(),O(19),T(),C(20,"div",9)(21,"strong",12),O(22,"Height:"),T(),O(23),T(),C(24,"div",9)(25,"strong",12),O(26,"Weight:"),T(),O(27),T(),C(28,"div",13)(29,"button",14),Y("click",function(){return Q(i),K(r.toggleUnits())}),O(30),T()()(),$(31,"hr"),C(32,"div",15)(33,"div",9)(34,"strong"),O(35,"Points:"),T(),O(36),T(),de(37,Jfe,5,5,"div",16),T()(),C(38,"div",17)(39,"h2",18),O(40,"Set Your Fitness Goals"),T(),C(41,"form",19),Y("ngSubmit",function(){return Q(i),K(r.saveGoals())}),C(42,"div",20)(43,"label",21),O(44,"Daily Step Goal"),T(),C(45,"input",22),Vn("ngModelChange",function(o){return Q(i),Zn(r.stepGoal,o)||(r.stepGoal=o),K(o)}),T()(),C(46,"div",20)(47,"label",23),O(48,"Daily Calories Goal"),T(),C(49,"input",24),Vn("ngModelChange",function(o){return Q(i),Zn(r.caloriesGoal,o)||(r.caloriesGoal=o),K(o)}),T()(),C(50,"div",20)(51,"label",25),O(52),T(),C(53,"input",26),Vn("ngModelChange",function(o){return Q(i),Zn(r.inputWeightGoal,o)||(r.inputWeightGoal=o),K(o)}),T()(),C(54,"button",27),O(55," Save Goals "),T()()()(),C(56,"div",28)(57,"button",29),Y("click",function(){return Q(i),K(r.deleteAccount())}),O(58," Delete Profile "),T()()()()}if(n&2){let i=zI(9);P(7),G("ngIf",r.profileData.profilePicture)("ngIfElse",i),P(7),Pe(r.profileData.name),P(),G("ngIf",r.profileData.dob),P(4),_e(" ",r.profileData.gender,""),P(4),_e(" ",r.displayHeight," "),P(4),_e(" ",r.displayWeight," "),P(3),_e(" Switch to ",r.isMetric?"Imperial":"Metric"," "),P(6),_e(" ",r.points.toFixed(0),""),P(),G("ngForOf",r.achievements),P(8),Ln("ngModel",r.stepGoal),P(4),Ln("ngModel",r.caloriesGoal),P(3),_e(" Weight Goal (",r.isMetric?"kg":"lbs",") "),P(),Ln("ngModel",r.inputWeightGoal)}},dependencies:[$e,Xn,ot,Fa,An,E6,vi,Lp,Cs,g6,qi,JS]})};var H9=[{path:"login",component:Id},{path:"profile",component:LE,canActivate:[fl]},{path:"dashboard",component:FE,canActivate:[fl]},{path:"exercises",component:m0,canActivate:[fl]},{path:"workouts",component:_0,canActivate:[fl]},{path:"calendar",component:Ww,canActivate:[fl]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}];var z9="@firebase/installations",Vk="0.6.9";var G9=1e4,q9=`w:${Vk}`,Q9="FIS_v2",epe="https://firebaseinstallations.googleapis.com/v1",tpe=60*60*1e3,npe="installations",rpe="Installations";var ipe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qc=new Br(npe,rpe,ipe);function K9(t){return t instanceof jn&&t.code.includes("request-failed")}function Y9({projectId:t}){return`${epe}/projects/${t}/installations`}function Z9(t){return{token:t.token,requestStatus:2,expiresIn:ope(t.expiresIn),creationTime:Date.now()}}function X9(t,e){return w(this,null,function*(){let r=(yield e.json()).error;return Qc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function J9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function spe(t,{refreshToken:e}){let n=J9(t);return n.append("Authorization",ape(e)),n}function e7(t){return w(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function ope(t){return Number(t.replace("s","000"))}function ape(t){return`${Q9} ${t}`}function lpe(r,i){return w(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=Y9(t),o=J9(t),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={fid:n,authVersion:Q9,appId:t.appId,sdkVersion:q9},c={method:"POST",headers:o,body:JSON.stringify(l)},u=yield e7(()=>fetch(s,c));if(u.ok){let h=yield u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:Z9(h.authToken)}}else throw yield X9("Create Installation",u)})}function t7(t){return new Promise(e=>{setTimeout(e,t)})}function cpe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var upe=/^[cdef][\w-]{21}$/,Lk="";function dpe(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=hpe(t);return upe.test(n)?n:Lk}catch{return Lk}}function hpe(t){return cpe(t).substr(0,22)}function UE(t){return`${t.appName}!${t.appId}`}var n7=new Map;function r7(t,e){let n=UE(t);i7(n,e),fpe(n,e)}function i7(t,e){let n=n7.get(t);if(n)for(let r of n)r(e)}function fpe(t,e){let n=ppe();n&&n.postMessage({key:t,fid:e}),gpe()}var qc=null;function ppe(){return!qc&&"BroadcastChannel"in self&&(qc=new BroadcastChannel("[Firebase] FID Change"),qc.onmessage=t=>{i7(t.data.key,t.data.fid)}),qc}function gpe(){n7.size===0&&qc&&(qc.close(),qc=null)}var mpe="firebase-installations-database",vpe=1,Kc="firebase-installations-store",Ok=null;function Uk(){return Ok||(Ok=tc(mpe,vpe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kc)}}})),Ok}function VE(t,e){return w(this,null,function*(){let n=UE(t),i=(yield Uk()).transaction(Kc,"readwrite"),s=i.objectStore(Kc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&r7(t,e.fid),e})}function s7(t){return w(this,null,function*(){let e=UE(t),r=(yield Uk()).transaction(Kc,"readwrite");yield r.objectStore(Kc).delete(e),yield r.done})}function jE(t,e){return w(this,null,function*(){let n=UE(t),i=(yield Uk()).transaction(Kc,"readwrite"),s=i.objectStore(Kc),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&r7(t,a.fid),a})}function jk(t){return w(this,null,function*(){let e,n=yield jE(t.appConfig,r=>{let i=ype(r),s=_pe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Lk?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function ype(t){let e=t||{fid:dpe(),registrationStatus:0};return o7(e)}function _pe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Qc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wpe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Epe(t)}:{installationEntry:e}}function wpe(t,e){return w(this,null,function*(){try{let n=yield lpe(t,e);return VE(t.appConfig,n)}catch(n){throw K9(n)&&n.customData.serverCode===409?yield s7(t.appConfig):yield VE(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function Epe(t){return w(this,null,function*(){let e=yield W9(t.appConfig);for(;e.registrationStatus===1;)yield t7(100),e=yield W9(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield jk(t);return r||n}return e})}function W9(t){return jE(t,e=>{if(!e)throw Qc.create("installation-not-found");return o7(e)})}function o7(t){return bpe(t)?{fid:t.fid,registrationStatus:0}:t}function bpe(t){return t.registrationStatus===1&&t.registrationTime+G9<Date.now()}function Ipe(r,i){return w(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=Cpe(t,n),o=spe(t,n),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={installation:{sdkVersion:q9,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},u=yield e7(()=>fetch(s,c));if(u.ok){let h=yield u.json();return Z9(h)}else throw yield X9("Generate Auth Token",u)})}function Cpe(t,{fid:e}){return`${Y9(t)}/${e}/authTokens:generate`}function Bk(t,e=!1){return w(this,null,function*(){let n,r=yield jE(t.appConfig,s=>{if(!a7(s))throw Qc.create("not-registered");let o=s.authToken;if(!e&&Spe(o))return s;if(o.requestStatus===1)return n=Tpe(t,e),s;{if(!navigator.onLine)throw Qc.create("app-offline");let a=xpe(s);return n=Dpe(t,a),a}});return n?yield n:r.authToken})}function Tpe(t,e){return w(this,null,function*(){let n=yield $9(t.appConfig);for(;n.authToken.requestStatus===1;)yield t7(100),n=yield $9(t.appConfig);let r=n.authToken;return r.requestStatus===0?Bk(t,e):r})}function $9(t){return jE(t,e=>{if(!a7(e))throw Qc.create("not-registered");let n=e.authToken;return Rpe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Dpe(t,e){return w(this,null,function*(){try{let n=yield Ipe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield VE(t.appConfig,r),n}catch(n){if(K9(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield s7(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield VE(t.appConfig,r)}throw n}})}function a7(t){return t!==void 0&&t.registrationStatus===2}function Spe(t){return t.requestStatus===2&&!Ape(t)}function Ape(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tpe}function xpe(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Rpe(t){return t.requestStatus===1&&t.requestTime+G9<Date.now()}function Mpe(t){return w(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield jk(e);return r?r.catch(console.error):Bk(e).catch(console.error),n.fid})}function kpe(t,e=!1){return w(this,null,function*(){let n=t;return yield Npe(n),(yield Bk(n,e)).token})}function Npe(t){return w(this,null,function*(){let{registrationPromise:e}=yield jk(t);e&&(yield e)})}function Ppe(t){if(!t||!t.options)throw Fk("App Configuration");if(!t.name)throw Fk("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Fk(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fk(t){return Qc.create("missing-app-config-values",{valueName:t})}var l7="installations",Ope="installations-internal",Fpe=t=>{let e=t.getProvider("app").getImmediate(),n=Ppe(e),r=Tr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Lpe=t=>{let e=t.getProvider("app").getImmediate(),n=Tr(e,l7).getImmediate();return{getId:()=>Mpe(n),getToken:i=>kpe(n,i)}};function Vpe(){Sn(new Bt(l7,Fpe,"PUBLIC")),Sn(new Bt(Ope,Lpe,"PRIVATE"))}Vpe();Ve(z9,Vk);Ve(z9,Vk,"esm2017");var Upe="/firebase-messaging-sw.js",jpe="/firebase-cloud-messaging-push-scope",p7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bpe="https://fcmregistrations.googleapis.com/v1",g7="google.c.a.c_id",Hpe="google.c.a.c_l",Wpe="google.c.a.ts",$pe="google.c.a.e";var BE=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(BE||{});function ea(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zpe(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var Hk="fcm_token_details_db",Gpe=5,c7="fcm_token_object_Store";function qpe(t){return w(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Hk))return null;let e=null;return(yield tc(Hk,Gpe,{upgrade:(r,i,s,o)=>w(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(c7))return;let l=o.objectStore(c7),c=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!c){if(i===2){let u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:ea(u.vapidKey)}}}else if(i===3){let u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ea(u.auth),p256dh:ea(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ea(u.vapidKey)}}}else if(i===4){let u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ea(u.auth),p256dh:ea(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ea(u.vapidKey)}}}}})})).close(),yield Qy(Hk),yield Qy("fcm_vapid_details_db"),yield Qy("undefined"),Qpe(e)?e:null})}function Qpe(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var Kpe="firebase-messaging-database",Ype=1,Xg="firebase-messaging-store",Wk=null;function m7(){return Wk||(Wk=tc(Kpe,Ype,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xg)}}})),Wk}function Zpe(t){return w(this,null,function*(){let e=v7(t),r=yield(yield m7()).transaction(Xg).objectStore(Xg).get(e);if(r)return r;{let i=yield qpe(t.appConfig.senderId);if(i)return yield Gk(t,i),i}})}function Gk(t,e){return w(this,null,function*(){let n=v7(t),i=(yield m7()).transaction(Xg,"readwrite");return yield i.objectStore(Xg).put(e,n),yield i.done,e})}function v7({appConfig:t}){return t.appId}var Xpe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},gr=new Br("messaging","Messaging",Xpe);function Jpe(t,e){return w(this,null,function*(){let n=yield Qk(t),r=y7(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(qk(t.appConfig),i)).json()}catch(o){throw gr.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw gr.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw gr.create("token-subscribe-no-token");return s.token})}function ege(t,e){return w(this,null,function*(){let n=yield Qk(t),r=y7(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${qk(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw gr.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw gr.create("token-update-failed",{errorInfo:o})}if(!s.token)throw gr.create("token-update-no-token");return s.token})}function tge(t,e){return w(this,null,function*(){let r={method:"DELETE",headers:yield Qk(t)};try{let s=yield(yield fetch(`${qk(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw gr.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw gr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function qk({projectId:t}){return`${Bpe}/projects/${t}/registrations`}function Qk(n){return w(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function y7({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==p7&&(i.web.applicationPubKey=r),i}var nge=7*24*60*60*1e3;function rge(t){return w(this,null,function*(){let e=yield sge(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ea(e.getKey("auth")),p256dh:ea(e.getKey("p256dh"))},r=yield Zpe(t.firebaseDependencies);if(r){if(oge(r.subscriptionOptions,n))return Date.now()>=r.createTime+nge?ige(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield tge(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return u7(t.firebaseDependencies,n)}else return u7(t.firebaseDependencies,n)})}function ige(t,e){return w(this,null,function*(){try{let n=yield ege(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Gk(t.firebaseDependencies,r),n}catch(n){throw n}})}function u7(t,e){return w(this,null,function*(){let r={token:yield Jpe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Gk(t,r),r.token})}function sge(t,e){return w(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zpe(e)})})}function oge(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function d7(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return age(e,t),lge(e,t),cge(e,t),e}function age(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function lge(t,e){e.data&&(t.data=e.data)}function cge(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function uge(t){return typeof t=="object"&&!!t&&g7 in t}dge("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function dge(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function hge(t){if(!t||!t.options)throw $k("App Configuration Object");if(!t.name)throw $k("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw $k(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function $k(t){return gr.create("missing-app-config-values",{valueName:t})}var zk=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=hge(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function fge(t){return w(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(Upe,{scope:jpe}),t.swRegistration.update().catch(()=>{})}catch(e){throw gr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function pge(t,e){return w(this,null,function*(){if(!e&&!t.swRegistration&&(yield fge(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw gr.create("invalid-sw-registration");t.swRegistration=e}})}function gge(t,e){return w(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=p7)})}function mge(t,e){return w(this,null,function*(){if(!navigator)throw gr.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw gr.create("permission-blocked");return yield gge(t,e?.vapidKey),yield pge(t,e?.serviceWorkerRegistration),rge(t)})}function vge(t,e,n){return w(this,null,function*(){let r=yge(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[g7],message_name:n[Hpe],message_time:n[Wpe],message_device_time:Math.floor(Date.now()/1e3)})})}function yge(t){switch(t){case BE.NOTIFICATION_CLICKED:return"notification_open";case BE.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _ge(t,e){return w(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===BE.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(d7(n)):t.onMessageHandler.next(d7(n)));let r=n.data;uge(r)&&r[$pe]==="1"&&(yield vge(t,n.messageType,r))})}var h7="@firebase/messaging",f7="0.12.12";var wge=t=>{let e=new zk(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>_ge(e,n)),e},Ege=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>mge(e,r)}};function bge(){Sn(new Bt("messaging",wge,"PUBLIC")),Sn(new Bt("messaging-internal",Ege,"PRIVATE")),Ve(h7,f7),Ve(h7,f7,"esm2017")}function Kk(){return w(this,null,function*(){try{yield zy()}catch{return!1}return typeof window<"u"&&Lf()&&U4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function _7(t=Hr()){return Kk().then(e=>{if(!e)throw gr.create("unsupported-browser")},e=>{throw gr.create("indexed-db-unsupported")}),Tr(It(t),"messaging").getImmediate()}bge();var Jg=class{constructor(e){return e}},w7="messaging",Yk=class{constructor(){return Wi(w7)}};var E7="__angularfire_symbol__messagingIsSupported",Zk="__angularfire_symbol__messagingIsSupportedValue";globalThis[E7]||=Kk().then(t=>globalThis[Zk]=t).catch(()=>globalThis[Zk]=!1);var HE={async:()=>globalThis[E7],sync:()=>{let t=globalThis[Zk];if(t===void 0)throw new Error(iL("Messaging"));return t}},Xk=new ie("angularfire2.messaging-instances");function Ige(t,e){if(!HE.sync())return null;let n=ys(w7,t,e);return n&&new Jg(n)}function Cge(t){return(e,n)=>{if(!HE.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new Jg(r)}}var Tge={provide:Yk,deps:[[new ct,Xk]]},Dge={provide:Jg,useFactory:Ige,deps:[[new ct,Xk],lr]};function b7(t,...e){return Ve("angularfire",Wr.full,"fcm"),en([Dge,Tge,{provide:ny,useValue:HE.async,multi:!0},{provide:Xk,useFactory:Cge(t),multi:!0,deps:[xe,St,ui,$r,...e]}])}var gOe=HE.async;var I7=Qt(_7,!0);var C7={providers:[sF({eventCoalescing:!0}),R4(H9),FF(),iI(X5.forRoot({timeOut:5e3,closeButton:!0,positionClass:"toast-bottom-right",preventDuplicates:!0}),Nw),sL(()=>oL(Y_.firebaseConfig)),C9(()=>S9()),ZL(()=>eV()),j9(()=>B9()),b7(()=>I7()),$5(()=>G5())]};zF(e0,C7).catch(t=>console.error(t));
