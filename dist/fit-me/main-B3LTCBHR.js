import{a as j,b as he,c as lh,e as bs,f as y}from"./chunk-25N2FLV6.js";function qC(t,e){return Object.is(t,e)}var Wt=null,ch=!1,uh=1,Pi=Symbol("SIGNAL");function We(t){let e=Wt;return Wt=t,e}function GC(){return Wt}var Vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function my(t){if(ch)throw new Error("");if(Wt===null)return;Wt.consumerOnSignalRead(t);let e=Wt.nextProducerIndex++;if(ph(Wt),e<Wt.producerNode.length&&Wt.producerNode[e]!==t&&Fc(Wt)){let n=Wt.producerNode[e];fh(n,Wt.producerIndexOfThis[e])}Wt.producerNode[e]!==t&&(Wt.producerNode[e]=t,Wt.producerIndexOfThis[e]=Fc(Wt)?XC(t,Wt,e):0),Wt.producerLastReadVersion[e]=t.version}function Q4(){uh++}function KC(t){if(!(Fc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===uh)){if(!t.producerMustRecompute(t)&&!vy(t)){t.dirty=!1,t.lastCleanEpoch=uh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=uh}}function YC(t){if(t.liveConsumerNode===void 0)return;let e=ch;ch=!0;try{for(let n of t.liveConsumerNode)n.dirty||X4(n)}finally{ch=e}}function QC(){return Wt?.consumerAllowSignalWrites!==!1}function X4(t){t.dirty=!0,YC(t),t.consumerMarkedDirty?.(t)}function hh(t){return t&&(t.nextProducerIndex=0),We(t)}function gy(t,e){if(We(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vy(t){ph(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KC(n),r!==n.version))return!0}return!1}function yy(t){if(ph(t),Fc(t))for(let e=0;e<t.producerNode.length;e++)fh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function XC(t,e,n){if(ZC(t),t.liveConsumerNode.length===0&&JC(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=XC(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function fh(t,e){if(ZC(t),t.liveConsumerNode.length===1&&JC(t))for(let r=0;r<t.producerNode.length;r++)fh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ph(i),i.producerIndexOfThis[r]=e}}function Fc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ph(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ZC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function JC(t){return t.producerNode!==void 0}function eT(t){let e=Object.create(Z4);e.computation=t;let n=()=>{if(KC(e),my(e),e.value===dh)throw e.error;return e.value};return n[Pi]=e,n}var fy=Symbol("UNSET"),py=Symbol("COMPUTING"),dh=Symbol("ERRORED"),Z4=he(j({},Vc),{value:fy,dirty:!0,error:null,equal:qC,producerMustRecompute(t){return t.value===fy||t.value===py},producerRecomputeValue(t){if(t.value===py)throw new Error("Detected cycle in computations.");let e=t.value;t.value=py;let n=hh(t),r;try{r=t.computation()}catch(i){r=dh,t.error=i}finally{gy(t,n)}if(e!==fy&&e!==dh&&r!==dh&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function J4(){throw new Error}var tT=J4;function nT(){tT()}function rT(t){tT=t}var eF=null;function iT(t){let e=Object.create(oT);e.value=t;let n=()=>(my(e),e.value);return n[Pi]=e,n}function _y(t,e){QC()||nT(),t.equal(t.value,e)||(t.value=e,tF(t))}function sT(t,e){QC()||nT(),_y(t,e(t.value))}var oT=he(j({},Vc),{equal:qC,value:void 0});function tF(t){t.version++,Q4(),YC(t),eF?.()}function be(t){return typeof t=="function"}function La(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mh=La(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var St=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(be(r))try{r()}catch(s){e=s instanceof mh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{aT(s)}catch(o){e=e??[],o instanceof mh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new mh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)aT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yo(n,e)}remove(e){let{_finalizers:n}=this;n&&yo(n,e),e instanceof t&&e._removeParent(this)}};St.EMPTY=(()=>{let t=new St;return t.closed=!0,t})();var wy=St.EMPTY;function gh(t){return t instanceof St||t&&"closed"in t&&be(t.remove)&&be(t.add)&&be(t.unsubscribe)}function aT(t){be(t)?t():t.unsubscribe()}var Er={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ua={setTimeout(t,e,...n){let{delegate:r}=Ua;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ua;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vh(t){Ua.setTimeout(()=>{let{onUnhandledError:e}=Er;if(e)e(t);else throw t})}function Lc(){}var lT=Ey("C",void 0,void 0);function cT(t){return Ey("E",void 0,t)}function uT(t){return Ey("N",t,void 0)}function Ey(t,e,n){return{kind:t,value:e,error:n}}var _o=null;function ja(t){if(Er.useDeprecatedSynchronousErrorHandling){let e=!_o;if(e&&(_o={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=_o;if(_o=null,n)throw r}}else t()}function dT(t){Er.useDeprecatedSynchronousErrorHandling&&_o&&(_o.errorThrown=!0,_o.error=t)}var wo=class extends St{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gh(e)&&e.add(this)):this.destination=iF}static create(e,n,r){return new Ba(e,n,r)}next(e){this.isStopped?Iy(uT(e),this):this._next(e)}error(e){this.isStopped?Iy(cT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Iy(lT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nF=Function.prototype.bind;function by(t,e){return nF.call(t,e)}var Dy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yh(r)}else yh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yh(n)}}},Ba=class extends wo{constructor(e,n,r){super();let i;if(be(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Er.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&by(e.next,s),error:e.error&&by(e.error,s),complete:e.complete&&by(e.complete,s)}):i=e}this.destination=new Dy(i)}};function yh(t){Er.useDeprecatedSynchronousErrorHandling?dT(t):vh(t)}function rF(t){throw t}function Iy(t,e){let{onStoppedNotification:n}=Er;n&&Ua.setTimeout(()=>n(t,e))}var iF={closed:!0,next:Lc,error:rF,complete:Lc};var $a=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bn(t){return t}function _h(...t){return Cy(t)}function Cy(t){return t.length===0?Bn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oF(n)?n:new Ba(n,r,i);return ja(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hT(r),new r((i,s)=>{let o=new Ba({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$a](){return this}pipe(...n){return Cy(n)(this)}toPromise(n){return n=hT(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hT(t){var e;return(e=t??Er.Promise)!==null&&e!==void 0?e:Promise}function sF(t){return t&&be(t.next)&&be(t.error)&&be(t.complete)}function oF(t){return t&&t instanceof wo||sF(t)&&gh(t)}function Ty(t){return be(t?.lift)}function Be(t){return e=>{if(Ty(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fe(t,e,n,r,i){return new Sy(t,e,n,r,i)}var Sy=class extends wo{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wa(){return Be((t,e)=>{let n=null;t._refCount++;let r=Fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var za=class extends Ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ty(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new St;let n=this.getSubject();e.add(this.source.subscribe(Fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=St.EMPTY)}return e}refCount(){return Wa()(this)}};var fT=La(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fT}next(n){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?wy:(this.currentObservers=null,s.push(n),new St(()=>{this.currentObservers=null,yo(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new wh(e,n),t})(),wh=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:wy}};var Zt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xy={now(){return(xy.delegate||Date).now()},delegate:void 0};var Eh=class extends St{constructor(e,n){super()}schedule(e,n=0){return this}};var Uc={setInterval(t,e,...n){let{delegate:r}=Uc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Uc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Is=class extends Eh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Uc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Uc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,yo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var aF=1,Ay,My={};function pT(t){return t in My?(delete My[t],!0):!1}var mT={setImmediate(t){let e=aF++;return My[e]=!0,Ay||(Ay=Promise.resolve()),Ay.then(()=>pT(e)&&t()),e},clearImmediate(t){pT(t)}};var{setImmediate:lF,clearImmediate:cF}=mT,jc={setImmediate(...t){let{delegate:e}=jc;return(e?.setImmediate||lF)(...t)},clearImmediate(t){let{delegate:e}=jc;return(e?.clearImmediate||cF)(t)},delegate:void 0};var bh=class extends Is{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=jc.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(jc.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var Ha=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ha.now=xy.now;var Ds=class extends Ha{constructor(e,n=Ha.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ih=class extends Ds{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var ky=new Ih(bh);var Ry=new Ds(Is);var Dh=class extends Is{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ch=class extends Ds{};var Py=new Ch(Dh);var $n=new Ie(t=>t.complete());function gT(t){return t&&be(t.schedule)}function vT(t){return t[t.length-1]}function Th(t){return be(vT(t))?t.pop():void 0}function Cs(t){return gT(vT(t))?t.pop():void 0}var Bc=function(){return Bc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bc.apply(this,arguments)};function Sh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _T(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function yT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Eo(t){return this instanceof Eo?(this.v=t,this):new Eo(t)}function wT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(b){return Promise.resolve(b).then(g,f)}}function a(g,b){r[g]&&(i[g]=function(A){return new Promise(function(S,N){s.push([g,A,S,N])>1||l(g,A)})},b&&(i[g]=b(i[g])))}function l(g,b){try{u(r[g](b))}catch(A){m(s[0][3],A)}}function u(g){g.value instanceof Eo?Promise.resolve(g.value.v).then(d,f):m(s[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function m(g,b){g(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ET(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yT=="function"?yT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var xh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ah(t){return be(t?.then)}function Mh(t){return be(t[$a])}function kh(t){return Symbol.asyncIterator&&be(t?.[Symbol.asyncIterator])}function Rh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ph=uF();function Nh(t){return be(t?.[Ph])}function Oh(t){return wT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Eo(n.read());if(i)return yield Eo(void 0);yield yield Eo(r)}}finally{n.releaseLock()}})}function Fh(t){return be(t?.getReader)}function Pt(t){if(t instanceof Ie)return t;if(t!=null){if(Mh(t))return dF(t);if(xh(t))return hF(t);if(Ah(t))return fF(t);if(kh(t))return bT(t);if(Nh(t))return pF(t);if(Fh(t))return mF(t)}throw Rh(t)}function dF(t){return new Ie(e=>{let n=t[$a]();if(be(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hF(t){return new Ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function fF(t){return new Ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vh)})}function pF(t){return new Ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function bT(t){return new Ie(e=>{gF(t,e).catch(n=>e.error(n))})}function mF(t){return bT(Oh(t))}function gF(t,e){var n,r,i,s;return _T(this,void 0,void 0,function*(){try{for(n=ET(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function kn(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ts(t,e=0){return Be((n,r)=>{n.subscribe(Fe(r,i=>kn(r,t,()=>r.next(i),e),()=>kn(r,t,()=>r.complete(),e),i=>kn(r,t,()=>r.error(i),e)))})}function Ss(t,e=0){return Be((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function IT(t,e){return Pt(t).pipe(Ss(e),Ts(e))}function DT(t,e){return Pt(t).pipe(Ss(e),Ts(e))}function CT(t,e){return new Ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function TT(t,e){return new Ie(n=>{let r;return kn(n,e,()=>{r=t[Ph](),kn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}function Vh(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{kn(n,e,()=>{let r=t[Symbol.asyncIterator]();kn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ST(t,e){return Vh(Oh(t),e)}function xT(t,e){if(t!=null){if(Mh(t))return IT(t,e);if(xh(t))return CT(t,e);if(Ah(t))return DT(t,e);if(kh(t))return Vh(t,e);if(Nh(t))return TT(t,e);if(Fh(t))return ST(t,e)}throw Rh(t)}function tt(t,e){return e?xT(t,e):Pt(t)}function fe(...t){let e=Cs(t);return tt(t,e)}function qa(t,e){let n=be(t)?t:()=>t,r=i=>i.error(n());return new Ie(e?i=>e.schedule(r,0,i):r)}function Ny(t){return!!t&&(t instanceof Ie||be(t.lift)&&be(t.subscribe))}var Ni=La(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return Be((n,r)=>{let i=0;n.subscribe(Fe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:vF}=Array;function yF(t,e){return vF(e)?t(...e):t(e)}function Lh(t){return le(e=>yF(t,e))}var{isArray:_F}=Array,{getPrototypeOf:wF,prototype:EF,keys:bF}=Object;function Uh(t){if(t.length===1){let e=t[0];if(_F(e))return{args:e,keys:null};if(IF(e)){let n=bF(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IF(t){return t&&typeof t=="object"&&wF(t)===EF}function jh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bh(...t){let e=Cs(t),n=Th(t),{args:r,keys:i}=Uh(t);if(r.length===0)return tt([],e);let s=new Ie(DF(r,e,i?o=>jh(i,o):Bn));return n?s.pipe(Lh(n)):s}function DF(t,e,n=Bn){return r=>{AT(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)AT(e,()=>{let u=tt(t[l],e),d=!1;u.subscribe(Fe(r,f=>{s[l]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function AT(t,e,n){t?kn(n,t,e):e()}function MT(t,e,n,r,i,s,o,a){let l=[],u=0,d=0,f=!1,m=()=>{f&&!l.length&&!u&&e.complete()},g=A=>u<r?b(A):l.push(A),b=A=>{s&&e.next(A),u++;let S=!1;Pt(n(A,d++)).subscribe(Fe(e,N=>{i?.(N),s?g(N):e.next(N)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;l.length&&u<r;){let N=l.shift();o?kn(e,o,()=>b(N)):b(N)}m()}catch(N){e.error(N)}}))};return t.subscribe(Fe(e,g,()=>{f=!0,m()})),()=>{a?.()}}function zt(t,e,n=1/0){return be(e)?zt((r,i)=>le((s,o)=>e(r,s,i,o))(Pt(t(r,i))),n):(typeof e=="number"&&(n=e),Be((r,i)=>MT(r,i,t,n)))}function Ga(t=1/0){return zt(Bn,t)}function kT(){return Ga(1)}function Ka(...t){return kT()(tt(t,Cs(t)))}function $h(t){return new Ie(e=>{Pt(t()).subscribe(e)})}function Oy(...t){let e=Th(t),{args:n,keys:r}=Uh(t),i=new Ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let f=!1;Pt(n[d]).subscribe(Fe(s,m=>{f||(f=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(u||s.next(r?jh(r,a):a),s.complete())}))}});return e?i.pipe(Lh(e)):i}function Rn(t,e){return Be((n,r)=>{let i=0;n.subscribe(Fe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Wn(t){return Be((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Fe(n,void 0,void 0,o=>{s=Pt(t(o,Wn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function RT(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Fe(o,d=>{let f=u++;l=a?t(l,d,f):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function xs(t,e){return be(e)?zt(t,e,1):zt(t,1)}function As(t){return Be((e,n)=>{let r=!1;e.subscribe(Fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function br(t){return t<=0?()=>$n:Be((e,n)=>{let r=0;e.subscribe(Fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fy(t){return le(()=>t)}function Wh(t=CF){return Be((e,n)=>{let r=!1;e.subscribe(Fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function CF(){return new Ni}function bo(t){return Be((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rn((i,s)=>t(i,s,r)):Bn,br(1),n?As(e):Wh(()=>new Ni))}function Ya(t){return t<=0?()=>$n:Be((e,n)=>{let r=[];e.subscribe(Fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rn((i,s)=>t(i,s,r)):Bn,Ya(1),n?As(e):Wh(()=>new Ni))}function zh(t,e){return Be(RT(t,e,arguments.length>=2,!0))}function Hh(...t){let e=Cs(t);return Be((n,r)=>{(e?Ka(t,n,e):Ka(t,n)).subscribe(r)})}function Jt(t,e){return Be((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Fe(r,l=>{i?.unsubscribe();let u=0,d=s++;Pt(t(l,d)).subscribe(i=Fe(r,f=>r.next(e?e(l,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ly(t){return Be((e,n)=>{Pt(t).subscribe(Fe(n,()=>n.complete(),Lc)),!n.closed&&e.subscribe(n)})}function wt(t,e,n){let r=be(t)||e||n?{next:t,error:e,complete:n}:t;return r?Be((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Fe(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Bn}var IS="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(kf(e,n)),this.code=e}};function kf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Zc(t){return{toString:t}.toString()}var qh="__parameters__";function TF(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function DS(t,e,n){return Zc(()=>{let r=TF(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,u,d){let f=l.hasOwnProperty(qh)?l[qh]:Object.defineProperty(l,qh,{value:[]})[qh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Oi=globalThis;function at(t){for(let e in t)if(t[e]===at)return e;throw Error("Could not find renamed property on target object.")}function SF(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Jy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xF=at({__forward_ref__:at});function $i(t){return t.__forward_ref__=$i,t.toString=function(){return Dn(this())},t}function In(t){return CS(t)?t():t}function CS(t){return typeof t=="function"&&t.hasOwnProperty(xF)&&t.__forward_ref__===$i}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rf(t){return PT(t,SS)||PT(t,xS)}function TS(t){return Rf(t)!==null}function PT(t,e){return t.hasOwnProperty(e)?t[e]:null}function AF(t){let e=t&&(t[SS]||t[xS]);return e||null}function NT(t){return t&&(t.hasOwnProperty(OT)||t.hasOwnProperty(MF))?t[OT]:null}var SS=at({\u0275prov:at}),OT=at({\u0275inj:at}),xS=at({ngInjectableDef:at}),MF=at({ngInjectorDef:at}),te=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AS(t){return t&&!!t.\u0275providers}var kF=at({\u0275cmp:at}),RF=at({\u0275dir:at}),PF=at({\u0275pipe:at}),NF=at({\u0275mod:at}),of=at({\u0275fac:at}),zc=at({__NG_ELEMENT_ID__:at}),FT=at({__NG_ENV_ID__:at});function Cr(t){return typeof t=="string"?t:t==null?"":String(t)}function OF(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cr(t)}function FF(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function i_(t,e){throw new K(-201,!1)}var ke=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ke||{}),e0;function MS(){return e0}function Pn(t){let e=e0;return e0=t,e}function kS(t,e,n){let r=Rf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ke.Optional)return null;if(e!==void 0)return e;i_(t,"Injector")}var VF={},Hc=VF,t0="__NG_DI_FLAG__",af="ngTempTokenPath",LF="ngTokenPath",UF=/\n/gm,jF="\u0275",VT="__source",Ja;function BF(){return Ja}function Ms(t){let e=Ja;return Ja=t,e}function $F(t,e=ke.Default){if(Ja===void 0)throw new K(-203,!1);return Ja===null?kS(t,void 0,e):Ja.get(t,e&ke.Optional?null:void 0,e)}function ee(t,e=ke.Default){return(MS()||$F)(In(t),e)}function Y(t,e=ke.Default){return ee(t,Pf(e))}function Pf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function n0(t){let e=[];for(let n=0;n<t.length;n++){let r=In(t[n]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,s=ke.Default;for(let o=0;o<r.length;o++){let a=r[o],l=WF(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(ee(i,s))}else e.push(ee(r))}return e}function RS(t,e){return t[t0]=e,t.prototype[t0]=e,t}function WF(t){return t[t0]}function zF(t,e,n,r){let i=t[af];throw e[VT]&&i.unshift(e[VT]),t.message=HF(`
`+t.message,i,n,r),t[LF]=i,t[af]=null,t}function HF(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==jF?t.slice(2):t;let i=Dn(e);if(Array.isArray(e))i=e.map(Dn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Dn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(UF,`
  `)}`}var yt=RS(DS("Optional"),8);var s_=RS(DS("SkipSelf"),4);function So(t,e){let n=t.hasOwnProperty(of);return n?t[of]:null}function qF(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function GF(t){return t.flat(Number.POSITIVE_INFINITY)}function o_(t,e){t.forEach(n=>Array.isArray(n)?o_(n,e):e(n))}function PS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KF(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function a_(t,e,n){let r=Jc(t,e);return r>=0?t[r|1]=n:(r=~r,KF(t,r,e,n)),r}function Uy(t,e){let n=Jc(t,e);if(n>=0)return t[n|1]}function Jc(t,e){return YF(t,e,1)}function YF(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var tl={},Nn=[],nl=new te(""),NS=new te("",-1),OS=new te(""),cf=class{get(e,n=Hc){if(n===Hc){let r=new Error(`NullInjectorError: No provider for ${Dn(e)}!`);throw r.name="NullInjectorError",r}return n}},FS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(FS||{}),Xr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xr||{}),Ps=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ps||{});function QF(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function r0(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];XF(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function VS(t){return t===3||t===4||t===6}function XF(t){return t.charCodeAt(0)===64}function qc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?LT(t,n,i,null,e[++r]):LT(t,n,i,null,null))}}return t}function LT(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var LS="ng-template";function ZF(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QF(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(l_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function l_(t){return t.type===4&&t.value!==LS}function JF(t,e,n){let r=t.type===4&&!n?LS:t.value;return e===r}function eV(t,e,n){let r=4,i=t.attrs,s=i!==null?rV(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Ir(r)&&!Ir(l))return!1;if(o&&Ir(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!JF(t,l,n)||l===""&&e.length===1){if(Ir(r))return!1;o=!0}}else if(r&8){if(i===null||!ZF(t,i,l,n)){if(Ir(r))return!1;o=!0}}else{let u=e[++a],d=tV(l,i,l_(t),n);if(d===-1){if(Ir(r))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(Ir(r))return!1;o=!0}}}}return Ir(r)||o}function Ir(t){return(t&1)===0}function tV(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return iV(e,t)}function nV(t,e,n=!1){for(let r=0;r<e.length;r++)if(eV(t,e[r],n))return!0;return!1}function rV(t){for(let e=0;e<t.length;e++){let n=t[e];if(VS(n))return e}return t.length}function iV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function UT(t,e){return t?":not("+e.trim()+")":e}function sV(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ir(o)&&(e+=UT(s,i),i=""),r=o,s=s||!Ir(r);n++}return i!==""&&(e+=UT(s,i)),e}function oV(t){return t.map(sV).join(",")}function aV(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ir(i))break;i=s}r++}return{attrs:e,classes:n}}function _e(t){return Zc(()=>{let e=WS(t),n=he(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===FS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xr.Emulated,styles:t.styles||Nn,_:null,schemas:t.schemas||null,tView:null,id:""});zS(n);let r=t.dependencies;return n.directiveDefs=BT(r,!1),n.pipeDefs=BT(r,!0),n.id=uV(n),n})}function lV(t){return xo(t)||US(t)}function cV(t){return t!==null}function mt(t){return Zc(()=>({type:t.type,bootstrap:t.bootstrap||Nn,declarations:t.declarations||Nn,imports:t.imports||Nn,exports:t.exports||Nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jT(t,e){if(t==null)return tl;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ps.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ps.None?[r,a]:r,e[s]=o):n[s]=r}return n}function it(t){return Zc(()=>{let e=WS(t);return zS(e),e})}function eu(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function xo(t){return t[kF]||null}function US(t){return t[RF]||null}function jS(t){return t[PF]||null}function BS(t){let e=xo(t)||US(t)||jS(t);return e!==null?e.standalone:!1}function $S(t,e){let n=t[NF]||null;if(!n&&e===!0)throw new Error(`Type ${Dn(t)} does not have '\u0275mod' property.`);return n}function WS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||tl,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jT(t.inputs,e),outputs:jT(t.outputs),debugInfo:null}}function zS(t){t.features?.forEach(e=>e(t))}function BT(t,e){if(!t)return null;let n=e?jS:lV;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cV)}function uV(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gt(t){return{\u0275providers:t}}function c_(...t){return{\u0275providers:HS(!0,t),\u0275fromNgModule:!0}}function HS(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return o_(e,o=>{let a=o;i0(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qS(i,s),n}function qS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];u_(i,s=>{e(s,r)})}}function i0(t,e,n,r){if(t=In(t),!t)return!1;let i=null,s=NT(t),o=!s&&xo(t);if(!s&&!o){let l=t.ngModule;if(s=NT(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)i0(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{o_(s.imports,d=>{i0(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&qS(u,e)}if(!a){let u=So(i)||(()=>new i);e({provide:i,useFactory:u,deps:Nn},i),e({provide:OS,useValue:i,multi:!0},i),e({provide:nl,useValue:()=>ee(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let u=t;u_(l,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function u_(t,e){for(let n of t)AS(n)&&(n=n.\u0275providers),Array.isArray(n)?u_(n,e):e(n)}var dV=at({provide:String,useValue:at});function GS(t){return t!==null&&typeof t=="object"&&dV in t}function hV(t){return!!(t&&t.useExisting)}function fV(t){return!!(t&&t.useFactory)}function rl(t){return typeof t=="function"}function pV(t){return!!t.useClass}var Nf=new te(""),Jh={},mV={},jy;function d_(){return jy===void 0&&(jy=new cf),jy}var On=class{},Gc=class extends On{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,o0(e,o=>this.processProvider(o)),this.records.set(NS,Qa(void 0,this)),i.has("environment")&&this.records.set(On,Qa(void 0,this));let s=this.records.get(Nf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OS,Nn,ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=We(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),We(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ms(this),r=Pn(void 0),i;try{return e()}finally{Ms(n),Pn(r)}}get(e,n=Hc,r=ke.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FT))return e[FT](this);r=Pf(r);let i,s=Ms(this),o=Pn(void 0);try{if(!(r&ke.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=wV(e)&&Rf(e);u&&this.injectableDefInScope(u)?l=Qa(s0(e),Jh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&ke.Self?d_():this.parent;return n=r&ke.Optional&&n===Hc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[af]=a[af]||[]).unshift(Dn(e)),s)throw a;return zF(a,e,"R3InjectorError",this.source)}else throw a}finally{Pn(o),Ms(s)}}resolveInjectorInitializers(){let e=We(null),n=Ms(this),r=Pn(void 0),i;try{let s=this.get(nl,Nn,ke.Self);for(let o of s)o()}finally{Ms(n),Pn(r),We(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=In(e);let n=rl(e)?e:In(e&&e.provide),r=vV(e);if(!rl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qa(void 0,Jh,!0),i.factory=()=>n0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=We(null);try{return n.value===Jh&&(n.value=mV,n.value=n.factory()),typeof n.value=="object"&&n.value&&_V(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{We(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=In(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function s0(t){let e=Rf(t),n=e!==null?e.factory:So(t);if(n!==null)return n;if(t instanceof te)throw new K(204,!1);if(t instanceof Function)return gV(t);throw new K(204,!1)}function gV(t){if(t.length>0)throw new K(204,!1);let n=AF(t);return n!==null?()=>n.factory(t):()=>new t}function vV(t){if(GS(t))return Qa(void 0,t.useValue);{let e=KS(t);return Qa(e,Jh)}}function KS(t,e,n){let r;if(rl(t)){let i=In(t);return So(i)||s0(i)}else if(GS(t))r=()=>In(t.useValue);else if(fV(t))r=()=>t.useFactory(...n0(t.deps||[]));else if(hV(t))r=()=>ee(In(t.useExisting));else{let i=In(t&&(t.useClass||t.provide));if(yV(t))r=()=>new i(...n0(t.deps));else return So(i)||s0(i)}return r}function Qa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yV(t){return!!t.deps}function _V(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wV(t){return typeof t=="function"||typeof t=="object"&&t instanceof te}function o0(t,e){for(let n of t)Array.isArray(n)?o0(n,e):n&&AS(n)?o0(n.\u0275providers,e):e(n)}function xr(t,e){t instanceof Gc&&t.assertNotDestroyed();let n,r=Ms(t),i=Pn(void 0);try{return e()}finally{Ms(r),Pn(i)}}function EV(){return MS()!==void 0||BF()!=null}function bV(t){return typeof t=="function"}var ri=0,xe=1,ve=2,hn=3,Tr=4,Ar=5,uf=6,df=7,Sr=8,il=9,Zr=10,Et=11,Kc=12,$T=13,cl=14,Jr=15,Ao=16,Xa=17,Fi=18,Of=19,YS=20,ks=21,By=22,ir=23,sr=25,h_=1;var Mo=7,hf=8,sl=9,zn=10,ff=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ff||{});function Rs(t){return Array.isArray(t)&&typeof t[h_]=="object"}function Wi(t){return Array.isArray(t)&&t[h_]===!0}function f_(t){return(t.flags&4)!==0}function Ff(t){return t.componentOffset>-1}function Vf(t){return(t.flags&1)===1}function Vi(t){return!!t.template}function a0(t){return(t[ve]&512)!==0}var l0=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function QS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ht(){return XS}function XS(t){return t.type.prototype.ngOnChanges&&(t.setInput=DV),IV}Ht.ngInherit=!0;function IV(){let t=JS(this),e=t?.current;if(e){let n=t.previous;if(n===tl)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DV(t,e,n,r,i){let s=this.declaredInputs[r],o=JS(t)||CV(t,{previous:tl,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new l0(u&&u.currentValue,n,l===tl),QS(t,e,i,n)}var ZS="__ngSimpleChanges__";function JS(t){return t[ZS]||null}function CV(t,e){return t[ZS]=e}var WT=null;var Yr=function(t,e,n){WT?.(t,e,n)},ex="svg",TV="math";function ei(t){for(;Array.isArray(t);)t=t[ri];return t}function SV(t){for(;Array.isArray(t);){if(typeof t[h_]=="object")return t;t=t[ri]}return null}function tx(t,e){return ei(e[t])}function or(t,e){return ei(e[t.index])}function nx(t,e){return t.data[e]}function rx(t,e){return t[e]}function Vs(t,e){let n=e[t];return Rs(n)?n:n[ri]}function xV(t){return(t[ve]&4)===4}function p_(t){return(t[ve]&128)===128}function AV(t){return Wi(t[hn])}function ol(t,e){return e==null?null:t[e]}function ix(t){t[Xa]=0}function sx(t){t[ve]&1024||(t[ve]|=1024,p_(t)&&Uf(t))}function MV(t,e){for(;t>0;)e=e[cl],t--;return e}function Lf(t){return!!(t[ve]&9216||t[ir]?.dirty)}function c0(t){t[Zr].changeDetectionScheduler?.notify(8),t[ve]&64&&(t[ve]|=1024),Lf(t)&&Uf(t)}function Uf(t){t[Zr].changeDetectionScheduler?.notify(0);let e=ko(t);for(;e!==null&&!(e[ve]&8192||(e[ve]|=8192,!p_(e)));)e=ko(e)}function ox(t,e){if((t[ve]&256)===256)throw new K(911,!1);t[ks]===null&&(t[ks]=[]),t[ks].push(e)}function kV(t,e){if(t[ks]===null)return;let n=t[ks].indexOf(e);n!==-1&&t[ks].splice(n,1)}function ko(t){let e=t[hn];return Wi(e)?e[hn]:e}var Ce={lFrame:vx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ax=!1;function RV(){return Ce.lFrame.elementDepthCount}function PV(){Ce.lFrame.elementDepthCount++}function NV(){Ce.lFrame.elementDepthCount--}function lx(){return Ce.bindingsEnabled}function OV(){return Ce.skipHydrationRootTNode!==null}function FV(t){return Ce.skipHydrationRootTNode===t}function VV(){Ce.skipHydrationRootTNode=null}function Re(){return Ce.lFrame.lView}function xt(){return Ce.lFrame.tView}function W(t){return Ce.lFrame.contextLView=t,t[Sr]}function z(t){return Ce.lFrame.contextLView=null,t}function en(){let t=cx();for(;t!==null&&t.type===64;)t=t.parent;return t}function cx(){return Ce.lFrame.currentTNode}function LV(){let t=Ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Lo(t,e){let n=Ce.lFrame;n.currentTNode=t,n.isParent=e}function m_(){return Ce.lFrame.isParent}function ux(){Ce.lFrame.isParent=!1}function UV(){return Ce.lFrame.contextLView}function dx(){return ax}function zT(t){ax=t}function g_(){let t=Ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hx(){return Ce.lFrame.bindingIndex}function jV(t){return Ce.lFrame.bindingIndex=t}function tu(){return Ce.lFrame.bindingIndex++}function jf(t){let e=Ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BV(){return Ce.lFrame.inI18n}function $V(t,e){let n=Ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,u0(e)}function WV(){return Ce.lFrame.currentDirectiveIndex}function u0(t){Ce.lFrame.currentDirectiveIndex=t}function fx(t){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function px(){return Ce.lFrame.currentQueryIndex}function v_(t){Ce.lFrame.currentQueryIndex=t}function zV(t){let e=t[xe];return e.type===2?e.declTNode:e.type===1?t[Ar]:null}function mx(t,e,n){if(n&ke.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ke.Host);)if(i=zV(s),i===null||(s=s[cl],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Ce.lFrame=gx();return r.currentTNode=e,r.lView=t,!0}function y_(t){let e=gx(),n=t[xe];Ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gx(){let t=Ce.lFrame,e=t===null?null:t.child;return e===null?vx(t):e}function vx(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function yx(){let t=Ce.lFrame;return Ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _x=yx;function __(){let t=yx();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function HV(t){return(Ce.lFrame.contextLView=MV(t,Ce.lFrame.contextLView))[Sr]}function zi(){return Ce.lFrame.selectedIndex}function Ro(t){Ce.lFrame.selectedIndex=t}function nu(){let t=Ce.lFrame;return nx(t.tView,t.selectedIndex)}function ul(){Ce.lFrame.currentNamespace=ex}function Bf(){qV()}function qV(){Ce.lFrame.currentNamespace=null}function GV(){return Ce.lFrame.currentNamespace}var wx=!0;function $f(){return wx}function Wf(t){wx=t}function KV(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=XS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function zf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function ef(t,e,n){Ex(t,e,3,n)}function tf(t,e,n,r){(t[ve]&3)===n&&Ex(t,e,n,r)}function $y(t,e){let n=t[ve];(n&3)===e&&(n&=16383,n+=1,t[ve]=n)}function Ex(t,e,n,r){let i=r!==void 0?t[Xa]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Xa]+=65536),(a<s||s==-1)&&(YV(t,n,e,l),t[Xa]=(t[Xa]&4294901760)+l+2),l++}function HT(t,e){Yr(4,t,e);let n=We(null);try{e.call(t)}finally{We(n),Yr(5,t,e)}}function YV(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ve]>>14<t[Xa]>>16&&(t[ve]&3)===e&&(t[ve]+=16384,HT(a,s)):HT(a,s)}var el=-1,Po=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function QV(t){return t instanceof Po}function XV(t){return(t.flags&8)!==0}function ZV(t){return(t.flags&16)!==0}var Wy={},d0=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pf(r);let i=this.injector.get(e,Wy,r);return i!==Wy||n===Wy?i:this.parentInjector.get(e,n,r)}};function bx(t){return t!==el}function pf(t){return t&32767}function JV(t){return t>>16}function mf(t,e){let n=JV(t),r=e;for(;n>0;)r=r[cl],n--;return r}var h0=!0;function gf(t){let e=h0;return h0=t,e}var eL=256,Ix=eL-1,Dx=5,tL=0,Qr={};function nL(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zc)&&(r=n[zc]),r==null&&(r=n[zc]=tL++);let i=r&Ix,s=1<<i;e.data[t+(i>>Dx)]|=s}function vf(t,e){let n=Cx(t,e);if(n!==-1)return n;let r=e[xe];r.firstCreatePass&&(t.injectorIndex=e.length,zy(r.data,t),zy(e,null),zy(r.blueprint,null));let i=w_(t,e),s=t.injectorIndex;if(bx(i)){let o=pf(i),a=mf(i,e),l=a[xe].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function zy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Cx(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function w_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Mx(i),r===null)return el;if(n++,i=i[cl],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return el}function f0(t,e,n){nL(t,e,n)}function rL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(VS(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Tx(t,e,n){if(n&ke.Optional||t!==void 0)return t;i_(e,"NodeInjector")}function Sx(t,e,n,r){if(n&ke.Optional&&r===void 0&&(r=null),!(n&(ke.Self|ke.Host))){let i=t[il],s=Pn(void 0);try{return i?i.get(e,r,n&ke.Optional):kS(e,r,n&ke.Optional)}finally{Pn(s)}}return Tx(r,e,n)}function xx(t,e,n,r=ke.Default,i){if(t!==null){if(e[ve]&2048&&!(r&ke.Self)){let o=aL(t,e,n,r,Qr);if(o!==Qr)return o}let s=Ax(t,e,n,r,Qr);if(s!==Qr)return s}return Sx(e,n,r,i)}function Ax(t,e,n,r,i){let s=sL(n);if(typeof s=="function"){if(!mx(e,t,r))return r&ke.Host?Tx(i,n,r):Sx(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ke.Optional))i_(n);else return o}finally{_x()}}else if(typeof s=="number"){let o=null,a=Cx(t,e),l=el,u=r&ke.Host?e[Jr][Ar]:null;for((a===-1||r&ke.SkipSelf)&&(l=a===-1?w_(t,e):e[a+8],l===el||!GT(r,!1)?a=-1:(o=e[xe],a=pf(l),e=mf(l,e)));a!==-1;){let d=e[xe];if(qT(s,a,d.data)){let f=iL(a,e,n,o,r,u);if(f!==Qr)return f}l=e[a+8],l!==el&&GT(r,e[xe].data[a+8]===u)&&qT(s,a,e)?(o=d,a=pf(l),e=mf(l,e)):a=-1}}return i}function iL(t,e,n,r,i,s){let o=e[xe],a=o.data[t+8],l=r==null?Ff(a)&&h0:r!=o&&(a.type&3)!==0,u=i&ke.Host&&s===a,d=nf(a,o,n,l,u);return d!==null?No(e,o,d,a):Qr}function nf(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,u=t.directiveEnd,d=s>>20,f=r?a:a+d,m=i?a+d:u;for(let g=f;g<m;g++){let b=o[g];if(g<l&&n===b||g>=l&&b.type===n)return g}if(i){let g=o[l];if(g&&Vi(g)&&g.type===n)return l}return null}function No(t,e,n,r){let i=t[n],s=e.data;if(QV(i)){let o=i;o.resolving&&FF(OF(s[n]));let a=gf(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?Pn(o.injectImpl):null,d=mx(t,r,ke.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&KV(n,s[n],e)}finally{u!==null&&Pn(u),gf(a),o.resolving=!1,_x()}}return i}function sL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zc)?t[zc]:void 0;return typeof e=="number"?e>=0?e&Ix:oL:e}function qT(t,e,n){let r=1<<t;return!!(n[e+(t>>Dx)]&r)}function GT(t,e){return!(t&ke.Self)&&!(t&ke.Host&&e)}var To=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return xx(this._tNode,this._lView,e,Pf(r),n)}};function oL(){return new To(en(),Re())}function ii(t){return Zc(()=>{let e=t.prototype.constructor,n=e[of]||p0(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[of]||p0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function p0(t){return CS(t)?()=>{let e=p0(In(t));return e&&e()}:So(t)}function aL(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ve]&2048&&!(o[ve]&512);){let a=Ax(s,o,n,r|ke.Self,Qr);if(a!==Qr)return a;let l=s.parent;if(!l){let u=o[YS];if(u){let d=u.get(n,Qr,r);if(d!==Qr)return d}l=Mx(o),o=o[cl]}s=l}return i}function Mx(t){let e=t[xe],n=e.type;return n===2?e.declTNode:n===1?t[Ar]:null}function E_(t){return rL(en(),t)}function KT(t,e=null,n=null,r){let i=kx(t,e,n,r);return i.resolveInjectorInitializers(),i}function kx(t,e=null,n=null,r,i=new Set){let s=[n||Nn,c_(t)];return r=r||(typeof t=="object"?void 0:Dn(t)),new Gc(s,e||d_(),r||null,i)}var Do=class Do{static create(e,n){if(Array.isArray(e))return KT({name:""},n,e,"");{let r=e.name??"";return KT({name:r},e.parent,e.providers,r)}}};Do.THROW_IF_NOT_FOUND=Hc,Do.NULL=new cf,Do.\u0275prov=Z({token:Do,providedIn:"any",factory:()=>ee(NS)}),Do.__NG_ELEMENT_ID__=-1;var bt=Do;var lL=new te("");lL.__NG_ELEMENT_ID__=t=>{let e=en();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(t&ke.Optional)return null;throw new K(204,!1)};var cL="ngOriginalError";function Hy(t){return t[cL]}var Rx=!0,Px=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uL,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),m0=class extends Px{constructor(e){super(),this._lView=e}onDestroy(e){return ox(this._lView,e),()=>kV(this._lView,e)}};function uL(){return new m0(Re())}var Ls=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var g0=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,EV()&&(this.destroyRef=Y(Px,{optional:!0})??void 0,this.pendingTasks=Y(Ls,{optional:!0})??void 0)}emit(e){let n=We(null);try{super.next(e)}finally{We(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof St&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Oe=g0;function yf(...t){}function Nx(t){let e,n;function r(){t=yf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function YT(t){return queueMicrotask(()=>t()),()=>{t=yf}}var b_="isAngularZone",_f=b_+"_ID",dL=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Rx}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,pL(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(b_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,hL,yf,yf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hL={};function I_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fL(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Nx(()=>{t.callbackScheduled=!1,v0(t),t.isCheckStableRunning=!0,I_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),v0(t)}function pL(t){let e=()=>{fL(t)},n=dL++;t._inner=t._inner.fork({name:"angular",properties:{[b_]:!0,[_f]:n,[_f+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(mL(l))return r.invokeTask(s,o,a,l);try{return QT(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XT(t)}},onInvoke:(r,i,s,o,a,l,u)=>{try{return QT(t),r.invoke(s,o,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!gL(l)&&e(),XT(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,v0(t),I_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function v0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function QT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XT(t){t._nesting--,I_(t)}var y0=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function mL(t){return Ox(t,"__ignore_ng_zone__")}function gL(t){return Ox(t,"__scheduler_tick__")}function Ox(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Li=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hy(e);for(;n&&Hy(n);)n=Hy(n);return n||null}},vL=new te("",{providedIn:"root",factory:()=>{let t=Y(we),e=Y(Li);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function yL(){return dl(en(),Re())}function dl(t,e){return new At(or(t,e))}var At=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=yL;let t=e;return t})();function _L(t){return t instanceof At?t.nativeElement:t}function wL(){return this._results[Symbol.iterator]()}var _0=class t{get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=wL)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=GF(e);(this._changesDetected=!qF(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Fx(t){return(t.flags&128)===128}var Vx=new Map,EL=0;function bL(){return EL++}function IL(t){Vx.set(t[Of],t)}function w0(t){Vx.delete(t[Of])}var ZT="__ngContext__";function Ns(t,e){Rs(e)?(t[ZT]=e[Of],IL(e)):t[ZT]=e}function Lx(t){return jx(t[Kc])}function Ux(t){return jx(t[Tr])}function jx(t){for(;t!==null&&!Wi(t);)t=t[Tr];return t}var E0;function Bx(t){E0=t}function $x(){if(E0!==void 0)return E0;if(typeof document<"u")return document;throw new K(210,!1)}var D_=new te("",{providedIn:"root",factory:()=>DL}),DL="ng",C_=new te(""),ar=new te("",{providedIn:"platform",factory:()=>"unknown"});var T_=new te(""),S_=new te("",{providedIn:"root",factory:()=>$x().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var CL="h",TL="b";var SL=()=>null;function x_(t,e,n=!1){return SL(t,e,n)}var Wx=!1,xL=new te("",{providedIn:"root",factory:()=>Wx});var Gh;function AL(){if(Gh===void 0&&(Gh=null,Oi.trustedTypes))try{Gh=Oi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gh}function Hf(t){return AL()?.createHTML(t)||t}var Kh;function zx(){if(Kh===void 0&&(Kh=null,Oi.trustedTypes))try{Kh=Oi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kh}function JT(t){return zx()?.createHTML(t)||t}function eS(t){return zx()?.createScriptURL(t)||t}var Ui=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IS})`}},b0=class extends Ui{getTypeName(){return"HTML"}},I0=class extends Ui{getTypeName(){return"Style"}},D0=class extends Ui{getTypeName(){return"Script"}},C0=class extends Ui{getTypeName(){return"URL"}},T0=class extends Ui{getTypeName(){return"ResourceURL"}};function lr(t){return t instanceof Ui?t.changingThisBreaksApplicationSecurity:t}function Hi(t,e){let n=ML(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${IS})`)}return n===e}function ML(t){return t instanceof Ui&&t.getTypeName()||null}function Hx(t){return new b0(t)}function qx(t){return new I0(t)}function Gx(t){return new D0(t)}function Kx(t){return new C0(t)}function Yx(t){return new T0(t)}function kL(t){let e=new x0(t);return RL()?new S0(e):e}var S0=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Hf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},x0=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Hf(e),n}};function RL(){try{return!!new window.DOMParser().parseFromString(Hf(""),"text/html")}catch{return!1}}var PL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qf(t){return t=String(t),t.match(PL)?t:"unsafe:"+t}function qi(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ru(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Qx=qi("area,br,col,hr,img,wbr"),Xx=qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zx=qi("rp,rt"),NL=ru(Zx,Xx),OL=ru(Xx,qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),FL=ru(Zx,qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tS=ru(Qx,OL,FL,NL),Jx=qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VL=qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),LL=qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),UL=ru(Jx,VL,LL),jL=qi("script,style,template"),A0=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=WL(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=$L(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=nS(e).toLowerCase();if(!tS.hasOwnProperty(n))return this.sanitizedSomething=!0,!jL.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!UL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Jx[a]&&(l=qf(l)),this.buf.push(" ",o,'="',rS(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=nS(e).toLowerCase();tS.hasOwnProperty(n)&&!Qx.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(rS(e))}};function BL(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function $L(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw e2(e);return e}function WL(t){let e=t.firstChild;if(e&&BL(t,e))throw e2(e);return e}function nS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function e2(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var zL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HL=/([^\#-~ |!])/g;function rS(t){return t.replace(/&/g,"&amp;").replace(zL,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(HL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Yh;function A_(t,e){let n=null;try{Yh=Yh||kL(t);let r=e?String(e):"";n=Yh.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Yh.getInertBodyElement(r)}while(r!==s);let a=new A0().sanitizeChildren(iS(n)||n);return Hf(a)}finally{if(n){let r=iS(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function iS(t){return"content"in t&&qL(t)?t.content:null}function qL(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Hn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hn||{});function Gf(t){let e=M_();return e?JT(e.sanitize(Hn.HTML,t)||""):Hi(t,"HTML")?JT(lr(t)):A_($x(),Cr(t))}function qn(t){let e=M_();return e?e.sanitize(Hn.URL,t)||"":Hi(t,"URL")?lr(t):qf(Cr(t))}function GL(t){let e=M_();if(e)return eS(e.sanitize(Hn.RESOURCE_URL,t)||"");if(Hi(t,"ResourceURL"))return eS(lr(t));throw new K(904,!1)}function KL(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?GL:qn}function t2(t,e,n){return KL(e,n)(t)}function M_(){let t=Re();return t&&t[Zr].sanitizer}var YL=/^>|^->|<!--|-->|--!>|<!-$/g,QL=/(<|>)/g,XL="\u200B$1\u200B";function ZL(t){return t.replace(YL,e=>e.replace(QL,XL))}function n2(t){return t instanceof Function?t():t}var ti=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ti||{}),JL;function k_(t,e){return JL(t,e)}function Za(t,e,n,r,i){if(r!=null){let s,o=!1;Wi(r)?s=r:Rs(r)&&(o=!0,r=r[ri]);let a=ei(r);t===0&&n!==null?i==null?a2(e,n,a):wf(e,n,a,i||null,!0):t===1&&n!==null?wf(e,n,a,i||null,!0):t===2?m5(e,a,o):t===3&&e.destroyNode(a),s!=null&&v5(e,t,s,n,i)}}function e5(t,e){return t.createText(e)}function t5(t,e,n){t.setValue(e,n)}function n5(t,e){return t.createComment(ZL(e))}function r2(t,e,n){return t.createElement(e,n)}function r5(t,e){i2(t,e),e[ri]=null,e[Ar]=null}function i5(t,e,n,r,i,s){r[ri]=i,r[Ar]=e,Yf(t,r,n,1,i,s)}function i2(t,e){e[Zr].changeDetectionScheduler?.notify(9),Yf(t,e,e[Et],2,null,null)}function s5(t){let e=t[Kc];if(!e)return qy(t[xe],t);for(;e;){let n=null;if(Rs(e))n=e[Kc];else{let r=e[zn];r&&(n=r)}if(!n){for(;e&&!e[Tr]&&e!==t;)Rs(e)&&qy(e[xe],e),e=e[hn];e===null&&(e=t),Rs(e)&&qy(e[xe],e),n=e&&e[Tr]}e=n}}function o5(t,e,n,r){let i=zn+r,s=n.length;r>0&&(n[i-1][Tr]=e),r<s-zn?(e[Tr]=n[i],PS(n,zn+r,e)):(n.push(e),e[Tr]=null),e[hn]=n;let o=e[Ao];o!==null&&n!==o&&s2(o,e);let a=e[Fi];a!==null&&a.insertView(t),c0(e),e[ve]|=128}function s2(t,e){let n=t[sl],r=e[hn];if(Rs(r))t[ve]|=ff.HasTransplantedViews;else{let i=r[hn][Jr];e[Jr]!==i&&(t[ve]|=ff.HasTransplantedViews)}n===null?t[sl]=[e]:n.push(e)}function R_(t,e){let n=t[sl],r=n.indexOf(e);n.splice(r,1)}function M0(t,e){if(t.length<=zn)return;let n=zn+e,r=t[n];if(r){let i=r[Ao];i!==null&&i!==t&&R_(i,r),e>0&&(t[n-1][Tr]=r[Tr]);let s=lf(t,zn+e);r5(r[xe],r);let o=s[Fi];o!==null&&o.detachView(s[xe]),r[hn]=null,r[Tr]=null,r[ve]&=-129}return r}function o2(t,e){if(!(e[ve]&256)){let n=e[Et];n.destroyNode&&Yf(t,e,n,3,null,null),s5(e)}}function qy(t,e){if(e[ve]&256)return;let n=We(null);try{e[ve]&=-129,e[ve]|=256,e[ir]&&yy(e[ir]),l5(t,e),a5(t,e),e[xe].type===1&&e[Et].destroy();let r=e[Ao];if(r!==null&&Wi(e[hn])){r!==e[hn]&&R_(r,e);let i=e[Fi];i!==null&&i.detachView(t)}w0(e)}finally{We(n)}}function a5(t,e){let n=t.cleanup,r=e[df];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[df]=null);let i=e[ks];if(i!==null){e[ks]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function l5(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Po)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Yr(4,a,l);try{l.call(a)}finally{Yr(5,a,l)}}else{Yr(4,i,s);try{s.call(i)}finally{Yr(5,i,s)}}}}}function c5(t,e,n){return u5(t,e.parent,n)}function u5(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ri];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Xr.None||s===Xr.Emulated)return null}return or(r,n)}}function wf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function a2(t,e,n){t.appendChild(e,n)}function sS(t,e,n,r,i){r!==null?wf(t,e,n,r,i):a2(t,e,n)}function l2(t,e){return t.parentNode(e)}function d5(t,e){return t.nextSibling(e)}function h5(t,e,n){return p5(t,e,n)}function f5(t,e,n){return t.type&40?or(t,n):null}var p5=f5,oS;function Kf(t,e,n,r){let i=c5(t,r,e),s=e[Et],o=r.parent||e[Ar],a=h5(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)sS(s,i,n[l],a,!1);else sS(s,i,n,a,!1);oS!==void 0&&oS(s,r,e,n,i)}function $c(t,e){if(e!==null){let n=e.type;if(n&3)return or(e,t);if(n&4)return k0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return $c(t,r);{let i=t[e.index];return Wi(i)?k0(-1,i):ei(i)}}else{if(n&128)return $c(t,e.next);if(n&32)return k_(e,t)()||ei(t[e.index]);{let r=c2(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ko(t[Jr]);return $c(i,r)}else return $c(t,e.next)}}}return null}function c2(t,e){if(e!==null){let r=t[Jr][Ar],i=e.projection;return r.projection[i]}return null}function k0(t,e){let n=zn+t+1;if(n<e.length){let r=e[n],i=r[xe].firstChild;if(i!==null)return $c(r,i)}return e[Mo]}function m5(t,e,n){t.removeChild(null,e,n)}function P_(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Ns(ei(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)P_(t,e,n.child,r,i,s,!1),Za(e,t,i,a,s);else if(l&32){let u=k_(n,r),d;for(;d=u();)Za(e,t,i,d,s);Za(e,t,i,a,s)}else l&16?g5(t,e,r,n,i,s):Za(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yf(t,e,n,r,i,s){P_(n,r,t.firstChild,e,i,s,!1)}function g5(t,e,n,r,i,s){let o=n[Jr],l=o[Ar].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];Za(e,t,i,d,s)}else{let u=l,d=o[hn];Fx(r)&&(u.flags|=128),P_(t,e,u,d,i,s,!0)}}function v5(t,e,n,r,i){let s=n[Mo],o=ei(n);s!==o&&Za(e,t,r,s,i);for(let a=zn;a<n.length;a++){let l=n[a];Yf(l[xe],l,t,e,r,s)}}function y5(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ti.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ti.Important),t.setStyle(n,r,i,s))}}function _5(t,e,n){t.setAttribute(e,"style",n)}function u2(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function d2(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&r0(t,e,r),i!==null&&u2(t,e,i),s!==null&&_5(t,e,s)}var Fn={};function k(t=1){h2(xt(),Re(),zi()+t,!1)}function h2(t,e,n,r){if(!r)if((e[ve]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ef(e,s,n)}else{let s=t.preOrderHooks;s!==null&&tf(e,s,0,n)}Ro(n)}function V(t,e=ke.Default){let n=Re();if(n===null)return ee(t,e);let r=en();return xx(r,n,In(t),e)}function f2(t,e,n,r,i,s){let o=We(null);try{let a=null;i&Ps.SignalBased&&(a=e[r][Pi]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ps.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):QS(e,a,r,s)}finally{We(o)}}function w5(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ro(~i);else{let s=i,o=n[++r],a=n[++r];$V(o,s);let l=e[s];a(2,l)}}}finally{Ro(-1)}}function Qf(t,e,n,r,i,s,o,a,l,u,d){let f=e.blueprint.slice();return f[ri]=i,f[ve]=r|4|128|8|64,(u!==null||t&&t[ve]&2048)&&(f[ve]|=2048),ix(f),f[hn]=f[cl]=t,f[Sr]=n,f[Zr]=o||t&&t[Zr],f[Et]=a||t&&t[Et],f[il]=l||t&&t[il]||null,f[Ar]=s,f[Of]=bL(),f[uf]=d,f[YS]=u,f[Jr]=e.type==2?t[Jr]:f,f}function iu(t,e,n,r,i){let s=t.data[e];if(s===null)s=E5(t,e,n,r,i),BV()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=LV();s.injectorIndex=o===null?-1:o.injectorIndex}return Lo(s,!0),s}function E5(t,e,n,r,i){let s=cx(),o=m_(),a=o?s:s&&s.parent,l=t.data[e]=S5(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function p2(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function m2(t,e,n,r,i){let s=zi(),o=r&2;try{Ro(-1),o&&e.length>sr&&h2(t,e,sr,!1),Yr(o?2:0,i),n(r,i)}finally{Ro(s),Yr(o?3:1,i)}}function N_(t,e,n){if(f_(e)){let r=We(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{We(r)}}}function O_(t,e,n){lx()&&(P5(t,e,n,or(n,e)),(n.flags&64)===64&&y2(t,e,n))}function F_(t,e,n=or){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function g2(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=V_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function V_(t,e,n,r,i,s,o,a,l,u,d){let f=sr+r,m=f+i,g=b5(f,m),b=typeof u=="function"?u():u;return g[xe]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:d}}function b5(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function I5(t,e,n,r){let s=r.get(xL,Wx)||n===Xr.ShadowDom,o=t.selectRootElement(e,s);return D5(o),o}function D5(t){C5(t)}var C5=()=>null;function T5(t,e,n,r){let i=E2(e);i.push(n),t.firstCreatePass&&b2(t).push(r,i.length-1)}function S5(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return OV()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function aS(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Ps.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?lS(r,n,u,a,l):lS(r,n,u,a)}return r}function lS(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function x5(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,u=null;for(let d=r;d<i;d++){let f=s[d],m=n?n.get(f):null,g=m?m.inputs:null,b=m?m.outputs:null;l=aS(0,f.inputs,d,l,g),u=aS(1,f.outputs,d,u,b);let A=l!==null&&o!==null&&!l_(e)?z5(l,d,o):null;a.push(A)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function A5(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xf(t,e,n,r,i,s,o,a){let l=or(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(U_(t,n,d,r,i),Ff(e)&&M5(n,e.index)):e.type&3?(r=A5(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function M5(t,e){let n=Vs(e,t);n[ve]&16||(n[ve]|=64)}function L_(t,e,n,r){if(lx()){let i=r===null?null:{"":-1},s=O5(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&v2(t,e,n,o,i,a),i&&F5(n,r,i)}n.mergedAttrs=qc(n.mergedAttrs,n.attrs)}function v2(t,e,n,r,i,s){for(let u=0;u<r.length;u++)f0(vf(n,e),t,r[u].type);L5(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=p2(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=qc(n.mergedAttrs,d.hostAttrs),U5(t,n,e,l,d),V5(l,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}x5(t,n,s)}function k5(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;R5(o)!=a&&o.push(a),o.push(n,r,s)}}function R5(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function P5(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Ff(n)&&j5(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vf(n,e),Ns(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],u=No(e,t,a,n);if(Ns(u,e),o!==null&&W5(e,a-i,u,l,n,o),Vi(l)){let d=Vs(n.index,e);d[Sr]=No(e,t,a,n)}}}function y2(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=WV();try{Ro(s);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];u0(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&N5(l,u)}}finally{Ro(-1),u0(o)}}function N5(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function O5(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(nV(e,o.selectors,!1))if(r||(r=[]),Vi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;R0(t,e,l)}else r.unshift(o),R0(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function R0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function F5(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new K(-301,!1);r.push(e[i],s)}}}function V5(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vi(e)&&(n[""]=t)}}function L5(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function U5(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=So(i.type,!0)),o=new Po(s,Vi(i),V);t.blueprint[r]=o,n[r]=o,k5(t,e,r,p2(t,n,i.hostVars,Fn),i)}function j5(t,e,n){let r=or(e,t),i=g2(n),s=t[Zr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Zf(t,Qf(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function B5(t,e,n,r,i,s){let o=or(t,e);$5(e[Et],o,s,t.value,n,r,i)}function $5(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Cr(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function W5(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],u=o[a++],d=o[a++],f=o[a++];f2(r,n,l,u,d,f)}}function z5(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function _2(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function w2(t,e){let n=t.contentQueries;if(n!==null){let r=We(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];v_(s),a.contentQueries(2,e[o],o)}}}finally{We(r)}}}function Zf(t,e){return t[Kc]?t[$T][Tr]=e:t[Kc]=e,t[$T]=e,e}function P0(t,e,n){v_(0);let r=We(null);try{e(t,n)}finally{We(r)}}function E2(t){return t[df]??=[]}function b2(t){return t.cleanup??=[]}function H5(t,e,n){return(t===null||Vi(t))&&(n=SV(n[e.index])),n[Et]}function I2(t,e){let n=t[il],r=n?n.get(Li,null):null;r&&r.handleError(e)}function U_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],u=e[o],d=t.data[o];f2(d,u,r,a,l,i)}}function j_(t,e,n){let r=tx(e,t);t5(t[Et],r,n)}function q5(t,e){let n=Vs(e,t),r=n[xe];G5(r,n);let i=n[ri];i!==null&&n[uf]===null&&(n[uf]=x_(i,n[il])),B_(r,n,n[Sr])}function G5(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function B_(t,e,n){y_(e);try{let r=t.viewQuery;r!==null&&P0(1,r,n);let i=t.template;i!==null&&m2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Fi]?.finishViewCreation(t),t.staticContentQueries&&w2(t,e),t.staticViewQueries&&P0(2,t.viewQuery,n);let s=t.components;s!==null&&K5(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ve]&=-5,__()}}function K5(t,e){for(let n=0;n<e.length;n++)q5(t,e[n])}function Y5(t,e,n,r){let i=We(null);try{let s=e.tView,a=t[ve]&4096?4096:16,l=Qf(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Ao]=u;let d=t[Fi];return d!==null&&(l[Fi]=d.createEmbeddedView(s)),B_(s,l,n),l}finally{We(i)}}function cS(t,e){return!e||e.firstChild===null||Fx(t)}function Q5(t,e,n,r=!0){let i=e[xe];if(o5(i,e,t,n),r){let o=k0(n,t),a=e[Et],l=l2(a,t[Mo]);l!==null&&i5(i,t[Ar],a,e,l,o)}let s=e[uf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Ef(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(ei(s)),Wi(s)&&X5(s,r);let o=n.type;if(o&8)Ef(t,e,n.child,r);else if(o&32){let a=k_(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=c2(e,n);if(Array.isArray(a))r.push(...a);else{let l=ko(e[Jr]);Ef(l[xe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function X5(t,e){for(let n=zn;n<t.length;n++){let r=t[n],i=r[xe].firstChild;i!==null&&Ef(r[xe],r,i,e)}t[Mo]!==t[ri]&&e.push(t[Mo])}var D2=[];function Z5(t){return t[ir]??J5(t)}function J5(t){let e=D2.pop()??Object.create(t6);return e.lView=t,e}function e6(t){t.lView[ir]!==t&&(t.lView=null,D2.push(t))}var t6=he(j({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Uf(t.lView)},consumerOnSignalRead(){this.lView[ir]=this}});function n6(t){let e=t[ir]??Object.create(r6);return e.lView=t,e}var r6=he(j({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ko(t.lView);for(;e&&!C2(e[xe]);)e=ko(e);e&&sx(e)},consumerOnSignalRead(){this.lView[ir]=this}});function C2(t){return t.type!==2}var i6=100;function T2(t,e=!0,n=0){let r=t[Zr],i=r.rendererFactory,s=!1;s||i.begin?.();try{s6(t,n)}catch(o){throw e&&I2(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function s6(t,e){let n=dx();try{zT(!0),N0(t,e);let r=0;for(;Lf(t);){if(r===i6)throw new K(103,!1);r++,N0(t,1)}}finally{zT(n)}}function o6(t,e,n,r){let i=e[ve];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Zr].inlineEffectRunner?.flush(),y_(e);let a=!0,l=null,u=null;s||(C2(t)?(u=Z5(e),l=hh(u)):GC()===null?(a=!1,u=n6(e),l=hh(u)):e[ir]&&(yy(e[ir]),e[ir]=null));try{ix(e),jV(t.bindingStartIndex),n!==null&&m2(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&ef(e,g,null)}else{let g=t.preOrderHooks;g!==null&&tf(e,g,0,null),$y(e,0)}if(o||a6(e),S2(e,0),t.contentQueries!==null&&w2(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&ef(e,g)}else{let g=t.contentHooks;g!==null&&tf(e,g,1),$y(e,1)}w5(t,e);let f=t.components;f!==null&&A2(e,f,0);let m=t.viewQuery;if(m!==null&&P0(2,m,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&ef(e,g)}else{let g=t.viewHooks;g!==null&&tf(e,g,2),$y(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[By]){for(let g of e[By])g();e[By]=null}s||(e[ve]&=-73)}catch(d){throw s||Uf(e),d}finally{u!==null&&(gy(u,l),a&&e6(u)),__()}}function S2(t,e){for(let n=Lx(t);n!==null;n=Ux(n))for(let r=zn;r<n.length;r++){let i=n[r];x2(i,e)}}function a6(t){for(let e=Lx(t);e!==null;e=Ux(e)){if(!(e[ve]&ff.HasTransplantedViews))continue;let n=e[sl];for(let r=0;r<n.length;r++){let i=n[r];sx(i)}}}function l6(t,e,n){let r=Vs(e,t);x2(r,n)}function x2(t,e){p_(t)&&N0(t,e)}function N0(t,e){let r=t[xe],i=t[ve],s=t[ir],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vy(s)),o||=!1,s&&(s.dirty=!1),t[ve]&=-9217,o)o6(r,t,r.template,t[Sr]);else if(i&8192){S2(t,1);let a=r.components;a!==null&&A2(t,a,1)}}function A2(t,e,n){for(let r=0;r<e.length;r++)l6(t,e[r],n)}function $_(t,e){let n=dx()?64:1088;for(t[Zr].changeDetectionScheduler?.notify(e);t;){t[ve]|=n;let r=ko(t);if(a0(t)&&!r)return t;t=r}return null}var Oo=class{get rootNodes(){let e=this._lView,n=e[xe];return Ef(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sr]}set context(e){this._lView[Sr]=e}get destroyed(){return(this._lView[ve]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[hn];if(Wi(e)){let n=e[hf],r=n?n.indexOf(this):-1;r>-1&&(M0(e,r),lf(n,r))}this._attachedToViewContainer=!1}o2(this._lView[xe],this._lView)}onDestroy(e){ox(this._lView,e)}markForCheck(){$_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ve]&=-129}reattach(){c0(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,T2(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=a0(this._lView),n=this._lView[Ao];n!==null&&!e&&R_(n,this._lView),i2(this._lView[xe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let n=a0(this._lView),r=this._lView[Ao];r!==null&&!n&&s2(r,this._lView),c0(this._lView)}},Fo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=d6;let t=e;return t})(),c6=Fo,u6=class extends c6{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Y5(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Oo(i)}};function d6(){return Jf(en(),Re())}function Jf(t,e){return t.type&4?new u6(e,t,dl(t,e)):null}var Pse=new RegExp(`^(\\d+)*(${TL}|${CL})*(.*)`);var h6=()=>null;function uS(t,e){return h6(t,e)}var al=class{},W_=new te("",{providedIn:"root",factory:()=>!1});var M2=new te(""),k2=new te(""),O0=class{},bf=class{};function f6(t){let e=Error(`No component factory found for ${Dn(t)}.`);return e[p6]=t,e}var p6="ngComponent";var F0=class{resolveComponentFactory(e){throw f6(e)}},e1=class e1{};e1.NULL=new F0;var ji=e1,Os=class{},tn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>m6();let t=e;return t})();function m6(){let t=Re(),e=en(),n=Vs(e.index,t);return(Rs(n)?n:t)[Et]}var g6=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function If(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Jy(i,a);else if(s==2){let l=a,u=e[++o];r=Jy(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Df=class extends ji{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=xo(e);return new Yc(n,this.ngModule)}};function dS(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ps.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ps.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function v6(t){let e=t.toLowerCase();return e==="svg"?ex:e==="math"?TV:null}var Yc=class extends bf{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=dS(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return dS(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=oV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=We(null);try{i=i||this.ngModule;let o=i instanceof On?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new d0(e,o):e,l=a.get(Os,null);if(l===null)throw new K(407,!1);let u=a.get(g6,null),d=a.get(al,null),f={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?I5(m,r,this.componentDef.encapsulation,a):r2(m,g,v6(g)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let S=null;b!==null&&(S=x_(b,a,!0));let N=V_(0,null,null,1,0,null,null,null,null,null,null),H=Qf(null,N,null,A,null,null,f,m,a,null,S);y_(H);let U,B,re=null;try{let Q=this.componentDef,T,_=null;Q.findHostDirectiveDefs?(T=[],_=new Map,Q.findHostDirectiveDefs(Q,T,_),T.push(Q)):T=[Q];let I=y6(H,b);re=_6(I,b,Q,T,H,f,m),B=nx(N,sr),b&&b6(m,Q,b,r),n!==void 0&&I6(B,this.ngContentSelectors,n),U=E6(re,Q,T,_,H,[D6]),B_(N,H,null)}catch(Q){throw re!==null&&w0(re),w0(H),Q}finally{__()}return new V0(this.componentType,U,dl(B,H),H,B)}finally{We(s)}}},V0=class extends O0{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Oo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;U_(s[xe],s,i,e,n),this.previousInputValues.set(e,n);let o=Vs(this._tNode.index,s);$_(o,1)}}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function y6(t,e){let n=t[xe],r=sr;return t[r]=e,iu(n,r,2,"#host",null)}function _6(t,e,n,r,i,s,o){let a=i[xe];w6(r,t,e,o);let l=null;e!==null&&(l=x_(e,i[il]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Qf(i,g2(n),null,d,i[t.index],t,s,u,null,null,l);return a.firstCreatePass&&R0(a,t,r.length-1),Zf(i,f),i[t.index]=f}function w6(t,e,n,r){for(let i of t)e.mergedAttrs=qc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(If(e,e.mergedAttrs,!0),n!==null&&d2(r,n,e))}function E6(t,e,n,r,i,s){let o=en(),a=i[xe],l=or(o,i);v2(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,m=No(i,a,f,o);Ns(m,i)}y2(a,i,o),l&&Ns(l,i);let u=No(i,a,o.directiveStart+o.componentOffset,o);if(t[Sr]=i[Sr]=u,s!==null)for(let d of s)d(u,e);return N_(a,o,i),u}function b6(t,e,n,r){if(r)r0(t,n,["ng-version","18.2.4"]);else{let{attrs:i,classes:s}=aV(e.selectors[0]);i&&r0(t,n,i),s&&s.length>0&&u2(t,n,s.join(" "))}}function I6(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function D6(){let t=en();zf(Re()[xe],t)}var si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=C6;let t=e;return t})();function C6(){let t=en();return P2(t,Re())}var T6=si,R2=class extends T6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return dl(this._hostTNode,this._hostLView)}get injector(){return new To(this._hostTNode,this._hostLView)}get parentInjector(){let e=w_(this._hostTNode,this._hostLView);if(bx(e)){let n=mf(e,this._hostLView),r=pf(e),i=n[xe].data[r+8];return new To(i,n)}else return new To(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=hS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=uS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,cS(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!bV(e),a;if(o)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}let l=o?e:new Yc(xo(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let A=(o?u:this.parentInjector).get(On,null);A&&(s=A)}let d=xo(l.componentType??{}),f=uS(this._lContainer,d?.id??null),m=f?.firstChild??null,g=l.create(u,i,m,s);return this.insertImpl(g.hostView,a,cS(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[hn],u=new R2(l,l[Ar],l[hn]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Q5(o,i,s,r),e.attachToViewContainerRef(),PS(Gy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=hS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=M0(this._lContainer,n);r&&(lf(Gy(this._lContainer),n),o2(r[xe],r))}detach(e){let n=this._adjustIndex(e,-1),r=M0(this._lContainer,n);return r&&lf(Gy(this._lContainer),n)!=null?new Oo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hS(t){return t[hf]}function Gy(t){return t[hf]||(t[hf]=[])}function P2(t,e){let n,r=e[t.index];return Wi(r)?n=r:(n=_2(r,e,null,t),e[t.index]=n,Zf(e,n)),x6(n,e,t,r),new R2(n,t,e)}function S6(t,e){let n=t[Et],r=n.createComment(""),i=or(e,t),s=l2(n,i);return wf(n,s,r,d5(n,i),!1),r}var x6=k6,A6=()=>!1;function M6(t,e,n){return A6(t,e,n)}function k6(t,e,n,r){if(t[Mo])return;let i;n.type&8?i=ei(r):i=S6(e,n),t[Mo]=i}var L0=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},U0=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)z_(e,n).matches!==null&&this.queries[n].setDirty()}},Cf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=U6(e):this.predicate=e}},j0=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},B0=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,R6(n,s)),this.matchTNodeWithReadOption(e,n,nf(n,e,s,!1,!1))}else r===Fo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===si||i===Fo&&n.type&4)this.addMatch(n.index,-2);else{let s=nf(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function R6(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function P6(t,e){return t.type&11?dl(t,e):t.type&4?Jf(t,e):null}function N6(t,e,n,r){return n===-1?P6(e,t):n===-2?O6(t,e,r):No(t,t[xe],n,e)}function O6(t,e,n){if(n===At)return dl(e,t);if(n===Fo)return Jf(e,t);if(n===si)return P2(e,t)}function N2(t,e,n,r){let i=e[Fi].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let d=s[u];a.push(N6(e,d,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function $0(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=N2(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-l];for(let f=zn;f<d.length;f++){let m=d[f];m[Ao]===m[hn]&&$0(m[xe],m,u,r)}if(d[sl]!==null){let f=d[sl];for(let m=0;m<f.length;m++){let g=f[m];$0(g[xe],g,u,r)}}}}}return r}function F6(t,e){return t[Fi].queries[e].queryList}function O2(t,e,n){let r=new _0((n&4)===4);return T5(t,e,r,r.destroy),(e[Fi]??=new U0).queries.push(new L0(r))-1}function V6(t,e,n){let r=xt();return r.firstCreatePass&&(F2(r,new Cf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),O2(r,Re(),e)}function L6(t,e,n,r){let i=xt();if(i.firstCreatePass){let s=en();F2(i,new Cf(e,n,r),s.index),j6(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return O2(i,Re(),n)}function U6(t){return t.split(",").map(e=>e.trim())}function F2(t,e,n){t.queries===null&&(t.queries=new j0),t.queries.track(new B0(e,n))}function j6(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function z_(t,e){return t.queries.getByIndex(e)}function B6(t,e){let n=t[xe],r=z_(n,e);return r.crossesNgTemplate?$0(n,t,e,[]):N2(n,t,r,e)}var fS=new Set;function Us(t){fS.has(t)||(fS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $6(t){return typeof t=="function"&&t[Pi]!==void 0}function cr(t,e){Us("NgSignals");let n=iT(t),r=n[Pi];return e?.equal&&(r.equal=e.equal),n.set=i=>_y(r,i),n.update=i=>sT(r,i),n.asReadonly=W6.bind(n),n}function W6(){let t=this[Pi];if(t.readonlyFn===void 0){let e=()=>this();e[Pi]=t,t.readonlyFn=e}return t.readonlyFn}function V2(t){return $6(t)&&typeof t.set=="function"}function z6(t){return Object.getPrototypeOf(t.prototype).constructor}function Mr(t){let e=z6(t.type),n=!0,r=[t];for(;e;){let i;if(Vi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Qh(t.inputs),o.inputTransforms=Qh(t.inputTransforms),o.declaredInputs=Qh(t.declaredInputs),o.outputs=Qh(t.outputs);let a=i.hostBindings;a&&Y6(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&G6(t,l),u&&K6(t,u),H6(t,i),SF(t.outputs,i.outputs),Vi(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Mr&&(n=!1)}}e=Object.getPrototypeOf(e)}q6(r)}function H6(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function q6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qc(i.hostAttrs,n=qc(n,i.hostAttrs))}}function Qh(t){return t===tl?{}:t===Nn?[]:t}function G6(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function K6(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Y6(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function H_(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Fs=class{},Qc=class{};var W0=class extends Fs{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Df(this);let s=$S(e);this._bootstrapComponents=n2(s.bootstrap),this._r3Injector=kx(e,n,[{provide:Fs,useValue:this},{provide:ji,useValue:this.componentFactoryResolver},...r],Dn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},z0=class extends Qc{constructor(e){super(),this.moduleType=e}create(e){return new W0(this.moduleType,e,[])}};var Tf=class extends Fs{constructor(e){super(),this.componentFactoryResolver=new Df(this),this.instance=null;let n=new Gc([...e.providers,{provide:Fs,useValue:this},{provide:ji,useValue:this.componentFactoryResolver}],e.parent||d_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function q_(t,e,n=null){return new Tf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function L2(t){return G_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Q6(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function G_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function U2(t,e,n){return t[e]=n}function ni(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Sf(t,e,n,r){let i=ni(t,e,n);return ni(t,e+1,r)||i}function X6(t,e,n,r,i,s){let o=Sf(t,e,n,r);return Sf(t,e+2,i,s)||o}function Z6(t){return(t.flags&32)===32}function J6(t,e,n,r,i,s,o,a,l){let u=e.consts,d=iu(e,t,4,o||null,a||null);L_(e,n,d,ol(u,l)),zf(e,d);let f=d.tView=V_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function e8(t,e,n,r,i,s,o,a,l,u){let d=n+sr,f=e.firstCreatePass?J6(d,e,t,r,i,s,o,a,l):e.data[d];Lo(f,!1);let m=t8(e,t,f,n);$f()&&Kf(e,t,m,f),Ns(m,t);let g=_2(m,t,m,f);return t[d]=g,Zf(t,g),M6(g,f,t),Vf(f)&&O_(e,t,f),l!=null&&F_(t,f,u),f}function ue(t,e,n,r,i,s,o,a){let l=Re(),u=xt(),d=ol(u.consts,s);return e8(l,u,t,e,n,r,i,d,o,a),ue}var t8=n8;function n8(t,e,n,r){return Wf(!0),e[Et].createComment("")}var Wc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wc||{}),r8=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Co=class Co{constructor(){this.ngZone=Y(we),this.scheduler=Y(al),this.errorHandler=Y(Li,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Co.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Co.PHASES=[Wc.EarlyRead,Wc.Write,Wc.MixedReadWrite,Wc.Read],Co.\u0275prov=Z({token:Co,providedIn:"root",factory:()=>new Co});var pS=Co;function Cn(t,e,n,r){let i=Re(),s=tu();if(ni(i,s,e)){let o=xt(),a=nu();B5(a,i,t,e,n,r)}return Cn}function j2(t,e,n,r){return ni(t,tu(),n)?e+Cr(n)+r:Fn}function i8(t,e,n,r,i,s){let o=hx(),a=Sf(t,o,n,i);return jf(2),a?e+Cr(n)+r+Cr(i)+s:Fn}function s8(t,e,n,r,i,s,o,a,l,u){let d=hx(),f=X6(t,d,n,i,o,l);return jf(4),f?e+Cr(n)+r+Cr(i)+s+Cr(o)+a+Cr(l)+u:Fn}function Xh(t,e){return t<<17|e<<2}function Vo(t){return t>>17&32767}function o8(t){return(t&2)==2}function a8(t,e){return t&131071|e<<17}function H0(t){return t|2}function ll(t){return(t&131068)>>2}function Ky(t,e){return t&-131069|e<<2}function l8(t){return(t&1)===1}function q0(t){return t|1}function c8(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Vo(o),l=ll(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Jc(f,d)>0)&&(u=!0)}else d=n;if(i)if(l!==0){let m=Vo(t[a+1]);t[r+1]=Xh(m,a),m!==0&&(t[m+1]=Ky(t[m+1],r)),t[a+1]=a8(t[a+1],r)}else t[r+1]=Xh(a,0),a!==0&&(t[a+1]=Ky(t[a+1],r)),a=r;else t[r+1]=Xh(l,0),a===0?a=r:t[l+1]=Ky(t[l+1],r),l=r;u&&(t[r+1]=H0(t[r+1])),mS(t,d,r,!0),mS(t,d,r,!1),u8(e,d,t,r,s),o=Xh(a,l),s?e.classBindings=o:e.styleBindings=o}function u8(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Jc(s,e)>=0&&(n[r+1]=q0(n[r+1]))}function mS(t,e,n,r){let i=t[n+1],s=e===null,o=r?Vo(i):ll(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],u=t[o+1];d8(l,e)&&(a=!0,t[o+1]=r?q0(u):H0(u)),o=r?Vo(u):ll(u)}a&&(t[n+1]=r?H0(i):q0(i))}function d8(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jc(t,e)>=0:!1}var Dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h8(t){return t.substring(Dr.key,Dr.keyEnd)}function f8(t){return p8(t),B2(t,$2(t,0,Dr.textEnd))}function B2(t,e){let n=Dr.textEnd;return n===e?-1:(e=Dr.keyEnd=m8(t,Dr.key=e,n),$2(t,e,n))}function p8(t){Dr.key=0,Dr.keyEnd=0,Dr.value=0,Dr.valueEnd=0,Dr.textEnd=t.length}function $2(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function m8(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function $(t,e,n){let r=Re(),i=tu();if(ni(r,i,e)){let s=xt(),o=nu();Xf(s,o,r,t,e,r[Et],n,!1)}return $}function G0(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";U_(t,n,s[o],o,r)}function js(t,e,n){return W2(t,e,n,!1),js}function hl(t,e){return W2(t,e,null,!0),hl}function Gi(t){v8(I8,g8,t,!0)}function g8(t,e){for(let n=f8(e);n>=0;n=B2(e,n))a_(t,h8(e),!0)}function W2(t,e,n,r){let i=Re(),s=xt(),o=jf(2);if(s.firstUpdatePass&&H2(s,t,o,r),e!==Fn&&ni(i,o,e)){let a=s.data[zi()];q2(s,a,i,i[Et],t,i[o+1]=C8(e,n),r,o)}}function v8(t,e,n,r){let i=xt(),s=jf(2);i.firstUpdatePass&&H2(i,null,s,r);let o=Re();if(n!==Fn&&ni(o,s,n)){let a=i.data[zi()];if(G2(a,r)&&!z2(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Jy(l,n||"")),G0(i,a,o,n,r)}else D8(i,a,o,o[Et],o[s+1],o[s+1]=b8(t,e,n),r,s)}}function z2(t,e){return e>=t.expandoStartIndex}function H2(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[zi()],o=z2(t,n);G2(s,r)&&e===null&&!o&&(e=!1),e=y8(i,s,e,r),c8(i,s,e,n,o,r)}}function y8(t,e,n,r){let i=fx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yy(null,t,e,n,r),n=Xc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Yy(i,t,e,n,r),s===null){let l=_8(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Yy(null,t,e,l[1],r),l=Xc(l,e.attrs,r),w8(t,e,r,l))}else s=E8(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _8(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ll(r)!==0)return t[Vo(r)]}function w8(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Vo(i)]=r}function E8(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Xc(r,o,n)}return Xc(r,e.attrs,n)}function Yy(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Xc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),a_(t,o,n?!0:e[++s]))}return t===void 0?null:t}function b8(t,e,n){if(n==null||n==="")return Nn;let r=[],i=lr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function I8(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&a_(t,r,n)}function D8(t,e,n,r,i,s,o,a){i===Fn&&(i=Nn);let l=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=l<i.length?i[l+1]:void 0,g=u<s.length?s[u+1]:void 0,b=null,A;d===f?(l+=2,u+=2,m!==g&&(b=f,A=g)):f===null||d!==null&&d<f?(l+=2,b=d):(u+=2,b=f,A=g),b!==null&&q2(t,e,n,r,b,A,o,a),d=l<i.length?i[l]:null,f=u<s.length?s[u]:null}}function q2(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],d=l8(u)?gS(l,e,n,i,ll(u),o):void 0;if(!xf(d)){xf(s)||o8(u)&&(s=gS(l,null,n,i,a,o));let f=tx(zi(),n);y5(r,o,f,i,s)}}function gS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),d=u?l[1]:l,f=d===null,m=n[i+1];m===Fn&&(m=f?Nn:void 0);let g=f?Uy(m,r):d===r?m:void 0;if(u&&!xf(g)&&(g=Uy(l,r)),xf(g)&&(a=g,o))return a;let b=t[i+1];i=o?Vo(b):ll(b)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Uy(l,r))}return a}function xf(t){return t!==void 0}function C8(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dn(lr(t)))),t}function G2(t,e){return(t.flags&(e?8:16))!==0}function T8(t,e,n,r,i,s){let o=e.consts,a=ol(o,i),l=iu(e,t,2,r,a);return L_(e,n,l,ol(o,s)),l.attrs!==null&&If(l,l.attrs,!1),l.mergedAttrs!==null&&If(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function w(t,e,n,r){let i=Re(),s=xt(),o=sr+t,a=i[Et],l=s.firstCreatePass?T8(o,s,i,e,n,r):s.data[o],u=S8(s,i,l,a,e,t);i[o]=u;let d=Vf(l);return Lo(l,!0),d2(a,u,l),!Z6(l)&&$f()&&Kf(s,i,u,l),RV()===0&&Ns(u,i),PV(),d&&(O_(s,i,l),N_(s,l,i)),r!==null&&F_(i,l),w}function E(){let t=en();m_()?ux():(t=t.parent,Lo(t,!1));let e=t;FV(e)&&VV(),NV();let n=xt();return n.firstCreatePass&&(zf(n,t),f_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&XV(e)&&G0(n,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZV(e)&&G0(n,e,Re(),e.stylesWithoutHost,!1),E}function L(t,e,n,r){return w(t,e,n,r),E(),L}var S8=(t,e,n,r,i,s)=>(Wf(!0),r2(r,i,GV()));function x8(t,e,n,r,i){let s=e.consts,o=ol(s,r),a=iu(e,t,8,"ng-container",o);o!==null&&If(a,o,!0);let l=ol(s,i);return L_(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Bs(t,e,n){let r=Re(),i=xt(),s=t+sr,o=i.firstCreatePass?x8(s,i,r,e,n):i.data[s];Lo(o,!0);let a=A8(i,r,o,t);return r[s]=a,$f()&&Kf(i,r,a,o),Ns(a,r),Vf(o)&&(O_(i,r,o),N_(i,o,r)),n!=null&&F_(r,o),Bs}function $s(){let t=en(),e=xt();return m_()?ux():(t=t.parent,Lo(t,!1)),e.firstCreatePass&&(zf(e,t),f_(t)&&e.queries.elementEnd(t)),$s}var A8=(t,e,n,r)=>(Wf(!0),n5(e[Et],""));function Ve(){return Re()}function K_(t,e,n){let r=Re(),i=tu();if(ni(r,i,e)){let s=xt(),o=nu(),a=fx(s.data),l=H5(a,o,r);Xf(s,o,r,t,e,l,n,!0)}return K_}var Io=void 0;function M8(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var k8=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",M8],Qy={};function Gn(t){let e=R8(t),n=vS(e);if(n)return n;let r=e.split("-")[0];if(n=vS(r),n)return n;if(r==="en")return k8;throw new K(701,!1)}function K2(t){return Gn(t)[Mt.PluralCase]}function vS(t){return t in Qy||(Qy[t]=Oi.ng&&Oi.ng.common&&Oi.ng.common.locales&&Oi.ng.common.locales[t]),Qy[t]}var Mt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Mt||{});function R8(t){return t.toLowerCase().replace(/_/g,"-")}var Af="en-US";var P8=Af;function N8(t){typeof t=="string"&&(P8=t.toLowerCase().replace(/_/g,"-"))}var O8=(t,e,n)=>{};function G(t,e,n,r){let i=Re(),s=xt(),o=en();return Y2(s,i,i[Et],o,t,e,r),G}function F8(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[df],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function Y2(t,e,n,r,i,s,o){let a=Vf(r),u=t.firstCreatePass&&b2(t),d=e[Sr],f=E2(e),m=!0;if(r.type&3||o){let A=or(r,e),S=o?o(A):A,N=f.length,H=o?B=>o(ei(B[r.index])):r.index,U=null;if(!o&&a&&(U=F8(t,e,i,r.index)),U!==null){let B=U.__ngLastListenerFn__||U;B.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,m=!1}else{s=_S(r,e,d,s),O8(A,i,s);let B=n.listen(S,i,s);f.push(s,B),u&&u.push(i,H,N,N+1)}}else s=_S(r,e,d,s);let g=r.outputs,b;if(m&&g!==null&&(b=g[i])){let A=b.length;if(A)for(let S=0;S<A;S+=2){let N=b[S],H=b[S+1],re=e[N][H].subscribe(s),Q=f.length;f.push(s,re),u&&u.push(i,r.index,Q,-(Q+1))}}}function yS(t,e,n,r){let i=We(null);try{return Yr(6,e,n),n(r)!==!1}catch(s){return I2(t,s),!1}finally{Yr(7,e,n),We(i)}}function _S(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Vs(t.index,e):e;$_(o,5);let a=yS(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=yS(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function O(t=1){return HV(t)}function Uo(t,e,n){return ep(t,"",e,"",n),Uo}function ep(t,e,n,r,i){let s=Re(),o=j2(s,e,n,r);if(o!==Fn){let a=xt(),l=nu();Xf(a,l,s,t,o,s[Et],i,!1)}return ep}function Q2(t,e,n,r){L6(t,e,n,r)}function X2(t,e,n){V6(t,e,n)}function tp(t){let e=Re(),n=xt(),r=px();v_(r+1);let i=z_(n,r);if(t.dirty&&xV(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=B6(e,r);t.reset(s,_L),t.notifyOnChanges()}return!0}return!1}function np(){return F6(Re(),px())}function V8(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function rp(t){let e=UV();return rx(e,sr+t)}function R(t,e=""){let n=Re(),r=xt(),i=t+sr,s=r.firstCreatePass?iu(r,i,1,e,null):r.data[i],o=L8(r,n,s,e,t);n[i]=o,$f()&&Kf(r,n,o,s),Lo(s,!1)}var L8=(t,e,n,r,i)=>(Wf(!0),e5(e[Et],r));function Me(t){return me("",t,""),Me}function me(t,e,n){let r=Re(),i=j2(r,t,e,n);return i!==Fn&&j_(r,zi(),i),me}function Vn(t,e,n,r,i){let s=Re(),o=i8(s,t,e,n,r,i);return o!==Fn&&j_(s,zi(),o),Vn}function Y_(t,e,n,r,i,s,o,a,l){let u=Re(),d=s8(u,t,e,n,r,i,s,o,a,l);return d!==Fn&&j_(u,zi(),d),Y_}function nn(t,e,n){V2(e)&&(e=e());let r=Re(),i=tu();if(ni(r,i,e)){let s=xt(),o=nu();Xf(s,o,r,t,e,r[Et],n,!1)}return nn}function fn(t,e){let n=V2(t);return n&&t.set(e),n}function rn(t,e){let n=Re(),r=xt(),i=en();return Y2(r,n,n[Et],i,t,e),rn}function U8(t,e,n){let r=xt();if(r.firstCreatePass){let i=Vi(t);K0(n,r.data,r.blueprint,i,!0),K0(e,r.data,r.blueprint,i,!1)}}function K0(t,e,n,r,i){if(t=In(t),Array.isArray(t))for(let s=0;s<t.length;s++)K0(t[s],e,n,r,i);else{let s=xt(),o=Re(),a=en(),l=rl(t)?t:In(t.provide),u=KS(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(rl(t)||!t.multi){let g=new Po(u,i,V),b=Zy(l,e,i?d:d+m,f);b===-1?(f0(vf(a,o),s,l),Xy(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[b]=g,o[b]=g)}else{let g=Zy(l,e,d+m,f),b=Zy(l,e,d,d+m),A=g>=0&&n[g],S=b>=0&&n[b];if(i&&!S||!i&&!A){f0(vf(a,o),s,l);let N=$8(i?B8:j8,n.length,i,r,u);!i&&S&&(n[b].providerFactory=N),Xy(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(N),o.push(N)}else{let N=Z2(n[i?b:g],u,!i&&r);Xy(s,t,g>-1?g:b,N)}!i&&r&&S&&n[b].componentProviders++}}}function Xy(t,e,n,r){let i=rl(e),s=pV(e);if(i||s){let l=(s?In(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function Z2(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function j8(t,e,n,r){return Y0(this.multi,[])}function B8(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=No(n,n[xe],this.providerFactory.index,r);s=a.slice(0,o),Y0(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Y0(i,s);return s}function Y0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $8(t,e,n,r,i){let s=new Po(t,n,V);return s.multi=[],s.index=e,s.componentProviders=0,Z2(s,i,r&&!n),s}function kr(t,e=[]){return n=>{n.providersResolver=(r,i)=>U8(r,i?i(t):t,e)}}var W8=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=HS(!1,r.type),s=i.length>0?q_([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(ee(On))});let t=e;return t})();function De(t){Us("NgStandalone"),t.getStandaloneInjector=e=>e.get(W8).getOrCreateStandaloneInjector(t)}function su(t,e,n,r){return z8(Re(),g_(),t,e,n,r)}function ou(t,e,n,r,i){return eA(Re(),g_(),t,e,n,r,i)}function J2(t,e){let n=t[e];return n===Fn?void 0:n}function z8(t,e,n,r,i,s){let o=e+n;return ni(t,o,i)?U2(t,o+1,s?r.call(s,i):r(i)):J2(t,o+1)}function eA(t,e,n,r,i,s,o){let a=e+n;return Sf(t,a,i,s)?U2(t,a+2,o?r.call(o,i,s):r(i,s)):J2(t,a+2)}function jo(t,e){let n=xt(),r,i=t+sr;n.firstCreatePass?(r=H8(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=So(r.type,!0)),o,a=Pn(V);try{let l=gf(!1),u=s();return gf(l),V8(n,Re(),i,u),u}finally{Pn(a)}}function H8(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Bo(t,e,n,r){let i=t+sr,s=Re(),o=rx(s,i);return q8(s,i)?eA(s,g_(),e,o.transform,n,r,o):o.transform(n,r)}function q8(t,e){return t[xe].data[e].pure}function Q_(t,e){return Jf(t,e)}var Bi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},tA=new Bi("18.2.4");var ip=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var nA=new te("");function $o(t){return!!t&&typeof t.then=="function"}function rA(t){return!!t&&typeof t.subscribe=="function"}var sp=new te(""),iA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Y(sp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if($o(o))r.push(o);else if(rA(o)){let a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),op=new te("");function G8(){rT(()=>{throw new K(600,!1)})}function K8(t){return t.isBoundToModule}var Y8=10;function Q8(t,e,n){try{let r=n();return $o(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ur=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(vL),this.afterRenderManager=Y(r8),this.zonelessEnabled=Y(W_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=Y(Ls).hasPendingTasks.pipe(le(r=>!r)),this._injector=Y(On)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof bf;if(!this._injector.get(iA).done){let g=!s&&BS(r),b=!1;throw new K(405,b)}let a;s?a=r:a=this._injector.get(ji).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=K8(a)?void 0:this._injector.get(Fs),u=i||a.selector,d=a.create(bt.NULL,[],u,l),f=d.location.nativeElement,m=d.injector.get(nA,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),rf(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new K(101,!1);let r=We(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,We(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Os,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Y8;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)X8(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Lf(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;rf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(op,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new K(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function X8(t,e,n,r){if(!n&&!Lf(t))return;T2(t,e,n&&!r?0:1)}var Q0=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},X_=(()=>{let e=class e{compileModuleSync(r){return new z0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=$S(r),o=n2(s.declarations).reduce((a,l)=>{let u=xo(l);return u&&a.push(new Yc(u)),a},[]);return new Q0(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z8=(()=>{let e=class e{constructor(){this.zone=Y(we),this.changeDetectionScheduler=Y(al),this.applicationRef=Y(ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J8=new te("",{factory:()=>!1});function sA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(he(j({},aA()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:nl,multi:!0,useFactory:()=>{let r=Y(Z8,{optional:!0});return()=>r.initialize()}},{provide:nl,multi:!0,useFactory:()=>{let r=Y(e9);return()=>{r.initialize()}}},e===!0?{provide:M2,useValue:!0}:[],{provide:k2,useValue:n??Rx}]}function oA(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=sA({ngZoneFactory:()=>{let i=aA(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Us("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Gt([{provide:J8,useValue:!0},{provide:W_,useValue:!1},r])}function aA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var e9=(()=>{let e=class e{constructor(){this.subscription=new St,this.initialized=!1,this.zone=Y(we),this.pendingTasks=Y(Ls)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var t9=(()=>{let e=class e{constructor(){this.appRef=Y(ur),this.taskService=Y(Ls),this.ngZone=Y(we),this.zonelessEnabled=Y(W_),this.disableScheduling=Y(M2,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new St,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_f):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Y(k2,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof y0||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?YT:Nx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_f+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,YT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n9(){return typeof $localize<"u"&&$localize.locale||Af}var Wo=new te("",{providedIn:"root",factory:()=>Y(Wo,ke.Optional|ke.SkipSelf)||n9()});var lA=new te("");function Zh(t){return!!t.platformInjector}function r9(t){let e=Zh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Zh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Li,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Zh(t)){let s=()=>e.destroy(),o=t.platformInjector.get(lA);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{rf(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return Q8(r,n,()=>{let s=e.get(iA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Wo,Af);if(N8(o||Af),Zh(t)){let a=e.get(ur);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return i9(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function i9(t,e){let n=t.injector.get(ur);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new K(-403,!1);e.push(t)}var sf=null;function s9(t=[],e){return bt.create({name:e,providers:[{provide:Nf,useValue:"platform"},{provide:lA,useValue:new Set([()=>sf=null])},...t]})}function o9(t=[]){if(sf)return sf;let e=s9(t);return sf=e,G8(),a9(e),e}function a9(t){t.get(C_,null)?.forEach(n=>n())}var dr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=l9;let t=e;return t})();function l9(t){return c9(en(),Re(),(t&16)===16)}function c9(t,e,n){if(Ff(t)&&!n){let r=Vs(t.index,e);return new Oo(r,r)}else if(t.type&175){let r=e[Jr];return new Oo(r,e)}return null}var X0=class{constructor(){}supports(e){return L2(e)}create(e){return new Z0(e)}},u9=(t,e)=>e,Z0=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||u9}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<wS(r,i,s)?n:r,a=wS(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,d=l-i;if(u!=d){for(let m=0;m<u;m++){let g=m<s.length?s[m]:s[m]=0,b=g+m;d<=b&&b<u&&(s[m]=g+1)}let f=o.previousIndex;s[f]=d-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!L2(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Q6(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new J0(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},J0=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},e_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Mf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new e_,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wS(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var t_=class{constructor(){}supports(e){return e instanceof Map||G_(e)}create(){return new n_}},n_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||G_(e)))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new r_(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},r_=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ES(){return new Z_([new X0])}var Z_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||ES()),deps:[[e,new s_,new yt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new K(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:ES});let t=e;return t})();function bS(){return new J_([new t_])}var J_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||bS()),deps:[[e,new s_,new yt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new K(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:bS});let t=e;return t})();function cA(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=o9(r),s=[sA({}),{provide:al,useExisting:t9},...n||[]],o=new Tf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return r9({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var uA=new te("");function zo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function au(t,e){Us("NgSignals");let n=eT(t);return e?.equal&&(n[Pi].equal=e.equal),n}function Ki(t){let e=We(null);try{return t()}finally{We(e)}}var vA=null;function Xi(){return vA}function yA(t){vA??=t}var mp=class{};var kt=new te(""),_A=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>Y(h9),providedIn:"platform"});let t=e;return t})();var h9=(()=>{let e=class e extends _A{constructor(){super(),this._doc=Y(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xi().getBaseHref(this._doc)}onPopState(r){let i=Xi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Xi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function wA(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function dA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ho(t){return t&&t[0]!=="?"?"?"+t:t}var ml=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>Y(EA),providedIn:"root"});let t=e;return t})(),f9=new te(""),EA=(()=>{let e=class e extends ml{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Y(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return wA(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ho(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ho(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ho(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ee(_A),ee(f9,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lu=(()=>{let e=class e{constructor(r){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=g9(dA(hA(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ho(i))}normalize(r){return e.stripTrailingSlash(m9(this._basePath,hA(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ho(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ho(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ho,e.joinWithSlash=wA,e.stripTrailingSlash=dA,e.\u0275fac=function(i){return new(i||e)(ee(ml))},e.\u0275prov=Z({token:e,factory:()=>p9(),providedIn:"root"});let t=e;return t})();function p9(){return new lu(ee(ml))}function m9(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function hA(t){return t.replace(/\/index.html$/,"")}function g9(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var fl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}(fl||{}),Tn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tn||{}),lt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(lt||{}),Kn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Kn||{}),Ws={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function v9(t){return Gn(t)[Mt.LocaleId]}function y9(t,e,n){let r=Gn(t),i=[r[Mt.DayPeriodsFormat],r[Mt.DayPeriodsStandalone]],s=hr(i,e);return hr(s,n)}function _9(t,e,n){let r=Gn(t),i=[r[Mt.DaysFormat],r[Mt.DaysStandalone]],s=hr(i,e);return hr(s,n)}function w9(t,e,n){let r=Gn(t),i=[r[Mt.MonthsFormat],r[Mt.MonthsStandalone]],s=hr(i,e);return hr(s,n)}function E9(t,e){let r=Gn(t)[Mt.Eras];return hr(r,e)}function ap(t,e){let n=Gn(t);return hr(n[Mt.DateFormat],e)}function lp(t,e){let n=Gn(t);return hr(n[Mt.TimeFormat],e)}function cp(t,e){let r=Gn(t)[Mt.DateTimeFormat];return hr(r,e)}function vp(t,e){let n=Gn(t),r=n[Mt.NumberSymbols][e];if(typeof r>"u"){if(e===Ws.CurrencyDecimal)return n[Mt.NumberSymbols][Ws.Decimal];if(e===Ws.CurrencyGroup)return n[Mt.NumberSymbols][Ws.Group]}return r}var b9=K2;function bA(t){if(!t[Mt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Mt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function I9(t){let e=Gn(t);return bA(e),(e[Mt.ExtraData][2]||[]).map(r=>typeof r=="string"?t1(r):[t1(r[0]),t1(r[1])])}function D9(t,e,n){let r=Gn(t);bA(r);let i=[r[Mt.ExtraData][0],r[Mt.ExtraData][1]],s=hr(i,e)||[];return hr(s,n)||[]}function hr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function t1(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var C9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,up={},T9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Qi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Qi||{}),Ye=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ye||{}),Ke=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ke||{});function Ot(t,e,n,r){let i=O9(t);e=Yi(n,e)||e;let o=[],a;for(;e;)if(a=T9.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let l=i.getTimezoneOffset();r&&(l=DA(r,l),i=N9(i,r,!0));let u="";return o.forEach(d=>{let f=R9(d);u+=f?f(i,n,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function gp(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Yi(t,e){let n=v9(t);if(up[n]??={},up[n][e])return up[n][e];let r="";switch(e){case"shortDate":r=ap(t,Kn.Short);break;case"mediumDate":r=ap(t,Kn.Medium);break;case"longDate":r=ap(t,Kn.Long);break;case"fullDate":r=ap(t,Kn.Full);break;case"shortTime":r=lp(t,Kn.Short);break;case"mediumTime":r=lp(t,Kn.Medium);break;case"longTime":r=lp(t,Kn.Long);break;case"fullTime":r=lp(t,Kn.Full);break;case"short":let i=Yi(t,"shortTime"),s=Yi(t,"shortDate");r=dp(cp(t,Kn.Short),[i,s]);break;case"medium":let o=Yi(t,"mediumTime"),a=Yi(t,"mediumDate");r=dp(cp(t,Kn.Medium),[o,a]);break;case"long":let l=Yi(t,"longTime"),u=Yi(t,"longDate");r=dp(cp(t,Kn.Long),[l,u]);break;case"full":let d=Yi(t,"fullTime"),f=Yi(t,"fullDate");r=dp(cp(t,Kn.Full),[d,f]);break}return r&&(up[n][e]=r),r}function dp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rr(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function S9(t,e){return Rr(t,3).substring(0,e)}function Nt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=x9(t,s);if((n>0||a>-n)&&(a+=n),t===Ye.Hours)a===0&&n===-12&&(a=12);else if(t===Ye.FractionalSeconds)return S9(a,e);let l=vp(o,Ws.MinusSign);return Rr(a,e,l,r,i)}}function x9(t,e){switch(t){case Ye.FullYear:return e.getFullYear();case Ye.Month:return e.getMonth();case Ye.Date:return e.getDate();case Ye.Hours:return e.getHours();case Ye.Minutes:return e.getMinutes();case Ye.Seconds:return e.getSeconds();case Ye.FractionalSeconds:return e.getMilliseconds();case Ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function dt(t,e,n=Tn.Format,r=!1){return function(i,s){return A9(i,s,t,e,n,r)}}function A9(t,e,n,r,i,s){switch(n){case Ke.Months:return w9(e,i,r)[t.getMonth()];case Ke.Days:return _9(e,i,r)[t.getDay()];case Ke.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=I9(e),d=D9(e,i,r),f=u.findIndex(m=>{if(Array.isArray(m)){let[g,b]=m,A=o>=g.hours&&a>=g.minutes,S=o<b.hours||o===b.hours&&a<b.minutes;if(g.hours<b.hours){if(A&&S)return!0}else if(A||S)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return y9(e,i,r)[o<12?0:1];case Ke.Eras:return E9(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function hp(t){return function(e,n,r){let i=-1*r,s=vp(n,Ws.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Qi.Short:return(i>=0?"+":"")+Rr(o,2,s)+Rr(Math.abs(i%60),2,s);case Qi.ShortGMT:return"GMT"+(i>=0?"+":"")+Rr(o,1,s);case Qi.Long:return"GMT"+(i>=0?"+":"")+Rr(o,2,s)+":"+Rr(Math.abs(i%60),2,s);case Qi.Extended:return r===0?"Z":(i>=0?"+":"")+Rr(o,2,s)+":"+Rr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var M9=0,pp=4;function k9(t){let e=gp(t,M9,1).getDay();return gp(t,0,1+(e<=pp?pp:pp+7)-e)}function IA(t){let e=t.getDay(),n=e===0?-3:pp-e;return gp(t.getFullYear(),t.getMonth(),t.getDate()+n)}function n1(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=IA(n),o=k9(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rr(i,t,vp(r,Ws.MinusSign))}}function fp(t,e=!1){return function(n,r){let s=IA(n).getFullYear();return Rr(s,t,vp(r,Ws.MinusSign),e)}}var r1={};function R9(t){if(r1[t])return r1[t];let e;switch(t){case"G":case"GG":case"GGG":e=dt(Ke.Eras,lt.Abbreviated);break;case"GGGG":e=dt(Ke.Eras,lt.Wide);break;case"GGGGG":e=dt(Ke.Eras,lt.Narrow);break;case"y":e=Nt(Ye.FullYear,1,0,!1,!0);break;case"yy":e=Nt(Ye.FullYear,2,0,!0,!0);break;case"yyy":e=Nt(Ye.FullYear,3,0,!1,!0);break;case"yyyy":e=Nt(Ye.FullYear,4,0,!1,!0);break;case"Y":e=fp(1);break;case"YY":e=fp(2,!0);break;case"YYY":e=fp(3);break;case"YYYY":e=fp(4);break;case"M":case"L":e=Nt(Ye.Month,1,1);break;case"MM":case"LL":e=Nt(Ye.Month,2,1);break;case"MMM":e=dt(Ke.Months,lt.Abbreviated);break;case"MMMM":e=dt(Ke.Months,lt.Wide);break;case"MMMMM":e=dt(Ke.Months,lt.Narrow);break;case"LLL":e=dt(Ke.Months,lt.Abbreviated,Tn.Standalone);break;case"LLLL":e=dt(Ke.Months,lt.Wide,Tn.Standalone);break;case"LLLLL":e=dt(Ke.Months,lt.Narrow,Tn.Standalone);break;case"w":e=n1(1);break;case"ww":e=n1(2);break;case"W":e=n1(1,!0);break;case"d":e=Nt(Ye.Date,1);break;case"dd":e=Nt(Ye.Date,2);break;case"c":case"cc":e=Nt(Ye.Day,1);break;case"ccc":e=dt(Ke.Days,lt.Abbreviated,Tn.Standalone);break;case"cccc":e=dt(Ke.Days,lt.Wide,Tn.Standalone);break;case"ccccc":e=dt(Ke.Days,lt.Narrow,Tn.Standalone);break;case"cccccc":e=dt(Ke.Days,lt.Short,Tn.Standalone);break;case"E":case"EE":case"EEE":e=dt(Ke.Days,lt.Abbreviated);break;case"EEEE":e=dt(Ke.Days,lt.Wide);break;case"EEEEE":e=dt(Ke.Days,lt.Narrow);break;case"EEEEEE":e=dt(Ke.Days,lt.Short);break;case"a":case"aa":case"aaa":e=dt(Ke.DayPeriods,lt.Abbreviated);break;case"aaaa":e=dt(Ke.DayPeriods,lt.Wide);break;case"aaaaa":e=dt(Ke.DayPeriods,lt.Narrow);break;case"b":case"bb":case"bbb":e=dt(Ke.DayPeriods,lt.Abbreviated,Tn.Standalone,!0);break;case"bbbb":e=dt(Ke.DayPeriods,lt.Wide,Tn.Standalone,!0);break;case"bbbbb":e=dt(Ke.DayPeriods,lt.Narrow,Tn.Standalone,!0);break;case"B":case"BB":case"BBB":e=dt(Ke.DayPeriods,lt.Abbreviated,Tn.Format,!0);break;case"BBBB":e=dt(Ke.DayPeriods,lt.Wide,Tn.Format,!0);break;case"BBBBB":e=dt(Ke.DayPeriods,lt.Narrow,Tn.Format,!0);break;case"h":e=Nt(Ye.Hours,1,-12);break;case"hh":e=Nt(Ye.Hours,2,-12);break;case"H":e=Nt(Ye.Hours,1);break;case"HH":e=Nt(Ye.Hours,2);break;case"m":e=Nt(Ye.Minutes,1);break;case"mm":e=Nt(Ye.Minutes,2);break;case"s":e=Nt(Ye.Seconds,1);break;case"ss":e=Nt(Ye.Seconds,2);break;case"S":e=Nt(Ye.FractionalSeconds,1);break;case"SS":e=Nt(Ye.FractionalSeconds,2);break;case"SSS":e=Nt(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=hp(Qi.Short);break;case"ZZZZZ":e=hp(Qi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hp(Qi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=hp(Qi.Long);break;default:return null}return r1[t]=e,e}function DA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function P9(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function N9(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=DA(e,i);return P9(t,r*(s-i))}function O9(t){if(fA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return gp(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(C9))return F9(r)}let e=new Date(t);if(!fA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function F9(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,u),e}function fA(t){return t instanceof Date&&!isNaN(t.valueOf())}var CA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:function(i){let s=null;return i?s=new i:s=(o=>new L9(o))(ee(Wo)),s},providedIn:"root"});let t=e;return t})();function V9(t,e,n,r){let i=`=${t}`;if(e.indexOf(i)>-1||(i=n.getPluralCategory(t,r),e.indexOf(i)>-1))return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}var L9=(()=>{let e=class e extends CA{constructor(r){super(),this.locale=r}getPluralCategory(r,i){switch(b9(i||this.locale)(r)){case fl.Zero:return"zero";case fl.One:return"one";case fl.Two:return"two";case fl.Few:return"few";case fl.Many:return"many";default:return"other"}}};e.\u0275fac=function(i){return new(i||e)(ee(Wo))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function yp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var i1=/\s+/,pA=[],qo=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=pA,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(i1):pA}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(i1):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(i1).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(V(At),V(tn))},e.\u0275dir=it({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var s1=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Sn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new s1(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),mA(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);mA(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(V(si),V(Fo),V(Z_))},e.\u0275dir=it({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function mA(t,e){t.context.$implicit=e.item}var Xe=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new o1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){gA("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){gA("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(V(si),V(Fo))},e.\u0275dir=it({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),o1=class{constructor(){this.$implicit=null,this.ngIf=null}};function gA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dn(e)}'.`)}var a1=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:ti.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(V(At),V(J_),V(tn))},e.\u0275dir=it({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function TA(t,e){return new K(2100,!1)}var U9="mediumDate",j9=new te(""),B9=new te(""),zs=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??U9,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ot(r,a,o||this.locale,l)}catch(a){throw TA(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(V(Wo,16),V(j9,24),V(B9,24))},e.\u0275pipe=eu({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})(),$9=/#/g,_p=(()=>{let e=class e{constructor(r){this._localization=r}transform(r,i,s){if(r==null)return"";if(typeof i!="object"||i===null)throw TA(e,i);let o=V9(r,Object.keys(i),this._localization,s);return i[o].replace($9,r.toString())}};e.\u0275fac=function(i){return new(i||e)(V(CA,16))},e.\u0275pipe=eu({name:"i18nPlural",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ne=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=pt({});let t=e;return t})(),l1="browser",W9="server";function SA(t){return t===l1}function wp(t){return t===W9}var pl=class{};var uu=class{},bp=class{},Zi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var u1=class{encodeKey(e){return xA(e)}encodeValue(e){return xA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z9(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var H9=/%(\d[a-f0-9])/gi,q9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xA(t){return encodeURIComponent(t).replace(H9,(e,n)=>q9[n]??e)}function Ep(t){return`${t}`}var qs=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new u1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=z9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ep):[Ep(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ep(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ep(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var d1=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function G9(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function MA(t){return typeof Blob<"u"&&t instanceof Blob}function kA(t){return typeof FormData<"u"&&t instanceof FormData}function K9(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var cu=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(G9(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zi,this.context??=new d1,!this.params)this.params=new qs,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AA(this.body)||MA(this.body)||kA(this.body)||K9(this.body)?this.body:this.body instanceof qs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kA(this.body)?null:MA(this.body)?this.body.type||null:AA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),d)),new t(n,r,o,{params:d,headers:u,context:f,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},Gs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Gs||{}),du=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Zi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ip=class t extends du{constructor(e={}){super(e),this.type=Gs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hu=class t extends du{constructor(e={}){super(e),this.type=Gs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hs=class extends du{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},OA=200,Y9=204;function c1(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var fu=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof cu)o=r;else{let u;s.headers instanceof Zi?u=s.headers:u=new Zi(s.headers);let d;s.params&&(s.params instanceof qs?d=s.params:d=new qs({fromObject:s.params})),o=new cu(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=fe(o).pipe(xs(u=>this.handler.handle(u)));if(r instanceof cu||s.observe==="events")return a;let l=a.pipe(Rn(u=>u instanceof hu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(le(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(le(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(le(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(le(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new qs().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,c1(s,i))}post(r,i,s={}){return this.request("POST",r,c1(s,i))}put(r,i,s={}){return this.request("PUT",r,c1(s,i))}};e.\u0275fac=function(i){return new(i||e)(ee(uu))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),Q9=/^\)\]\}',?\n/,X9="X-Request-URL";function RA(t){if(t.url)return t.url;let e=X9.toLocaleLowerCase();return t.headers.get(e)}var Z9=(()=>{let e=class e{constructor(){this.fetchImpl=Y(h1,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=Y(we)}handle(r){return new Ie(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(f1,o=>i.error(new Hs({error:o}))),()=>s.abort()})}doRequest(r,i,s){return y(this,null,function*(){let o=this.createRequestInit(r),a;try{let b=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,j({signal:i},o)));J9(b),s.next({type:Gs.Sent}),a=yield b}catch(b){s.error(new Hs({error:b,status:b.status??0,statusText:b.statusText,url:r.urlWithParams,headers:b.headers}));return}let l=new Zi(a.headers),u=a.statusText,d=RA(a)??r.urlWithParams,f=a.status,m=null;if(r.reportProgress&&s.next(new Ip({headers:l,status:f,statusText:u,url:d})),a.body){let b=a.headers.get("content-length"),A=[],S=a.body.getReader(),N=0,H,U,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>y(this,null,function*(){for(;;){let{done:Q,value:T}=yield S.read();if(Q)break;if(A.push(T),N+=T.length,r.reportProgress){U=r.responseType==="text"?(U??"")+(H??=new TextDecoder).decode(T,{stream:!0}):void 0;let _=()=>s.next({type:Gs.DownloadProgress,total:b?+b:void 0,loaded:N,partialText:U});B?B.run(_):_()}}}));let re=this.concatChunks(A,N);try{let Q=a.headers.get("Content-Type")??"";m=this.parseBody(r,re,Q)}catch(Q){s.error(new Hs({error:Q,headers:new Zi(a.headers),status:a.status,statusText:a.statusText,url:RA(a)??r.urlWithParams}));return}}f===0&&(f=m?OA:0),f>=200&&f<300?(s.next(new hu({body:m,headers:l,status:f,statusText:u,url:d})),s.complete()):s.error(new Hs({error:m,headers:l,status:f,statusText:u,url:d}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(Q9,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),h1=class{};function f1(){}function J9(t){t.then(f1,f1)}function e7(t,e){return e(t)}function t7(t,e,n){return(r,i)=>xr(n,()=>e(r,s=>t(s,i)))}var FA=new te(""),n7=new te(""),r7=new te("",{providedIn:"root",factory:()=>!0});var PA=(()=>{let e=class e extends uu{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=Y(Ls),this.contributeToStability=Y(r7)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(FA),...this.injector.get(n7,[])]));this.chain=i.reduceRight((s,o)=>t7(s,o,this.injector),e7)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(bo(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(ee(bp),ee(On))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var i7=/^\)\]\}',?\n/;function s7(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var NA=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new K(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?tt(i.\u0275loadImpl()):fe(null)).pipe(Jt(()=>new Ie(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((S,N)=>a.setRequestHeader(S,N.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let S=r.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(r.responseType){let S=r.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let l=r.serializeBody(),u=null,d=()=>{if(u!==null)return u;let S=a.statusText||"OK",N=new Zi(a.getAllResponseHeaders()),H=s7(a)||r.url;return u=new Ip({headers:N,status:a.status,statusText:S,url:H}),u},f=()=>{let{headers:S,status:N,statusText:H,url:U}=d(),B=null;N!==Y9&&(B=typeof a.response>"u"?a.responseText:a.response),N===0&&(N=B?OA:0);let re=N>=200&&N<300;if(r.responseType==="json"&&typeof B=="string"){let Q=B;B=B.replace(i7,"");try{B=B!==""?JSON.parse(B):null}catch(T){B=Q,re&&(re=!1,B={error:T,text:B})}}re?(o.next(new hu({body:B,headers:S,status:N,statusText:H,url:U||void 0})),o.complete()):o.error(new Hs({error:B,headers:S,status:N,statusText:H,url:U||void 0}))},m=S=>{let{url:N}=d(),H=new Hs({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:N||void 0});o.error(H)},g=!1,b=S=>{g||(o.next(d()),g=!0);let N={type:Gs.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(N.total=S.total),r.responseType==="text"&&a.responseText&&(N.partialText=a.responseText),o.next(N)},A=S=>{let N={type:Gs.UploadProgress,loaded:S.loaded};S.lengthComputable&&(N.total=S.total),o.next(N)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",b),l!==null&&a.upload&&a.upload.addEventListener("progress",A)),a.send(l),o.next({type:Gs.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",b),l!==null&&a.upload&&a.upload.removeEventListener("progress",A)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(ee(pl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),VA=new te(""),o7="XSRF-TOKEN",a7=new te("",{providedIn:"root",factory:()=>o7}),l7="X-XSRF-TOKEN",c7=new te("",{providedIn:"root",factory:()=>l7}),Dp=class{},u7=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=yp(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(ee(kt),ee(ar),ee(a7))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function d7(t,e){let n=t.url.toLowerCase();if(!Y(VA)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=Y(Dp).getToken(),i=Y(c7);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function LA(...t){let e=[fu,NA,PA,{provide:uu,useExisting:PA},{provide:bp,useFactory:()=>Y(Z9,{optional:!0})??Y(NA)},{provide:FA,useValue:d7,multi:!0},{provide:VA,useValue:!0},{provide:Dp,useClass:u7}];for(let n of t)e.push(...n.\u0275providers);return Gt(e)}var g1=class extends mp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},v1=class t extends g1{static makeCurrent(){yA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=h7();return n==null?null:f7(n)}resetBaseElement(){pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yp(document.cookie,e)}},pu=null;function h7(){return pu=pu||document.querySelector("base"),pu?pu.getAttribute("href"):null}function f7(t){return new URL(t,document.baseURI).pathname}var p7=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),Cp=new te(""),$A=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ee(Cp),ee(we))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),mu=class{constructor(e){this._doc=e}},p1="ng-app-id",WA=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${p1}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(p1),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(p1,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ee(kt),ee(D_),ee(S_,8),ee(ar))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),m1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_1=/%COMP%/g,zA="%COMP%",m7=`_nghost-${zA}`,g7=`_ngcontent-${zA}`,v7=!0,y7=new te("",{providedIn:"root",factory:()=>v7});function _7(t){return g7.replace(_1,t)}function w7(t){return m7.replace(_1,t)}function HA(t,e){return e.map(n=>n.replace(_1,t))}var Tp=(()=>{let e=class e{constructor(r,i,s,o,a,l,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=wp(l),this.defaultRenderer=new gu(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Xr.ShadowDom&&(i=he(j({},i),{encapsulation:Xr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Sp?s.applyToHost(r):s instanceof vu&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Xr.Emulated:o=new Sp(u,d,i,this.appId,f,a,l,m);break;case Xr.ShadowDom:return new y1(u,d,r,i,a,l,this.nonce,m);default:o=new vu(u,d,i,f,a,l,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ee($A),ee(WA),ee(D_),ee(y7),ee(kt),ee(ar),ee(we),ee(S_))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),gu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(m1[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(jA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=m1[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=m1[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ti.DashCase|ti.Important)?e.style.setProperty(n,r,i&ti.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ti.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Xi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function jA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var y1=class extends gu{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=HA(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vu=class extends gu{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?HA(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sp=class extends vu{constructor(e,n,r,i,s,o,a,l){let u=i+"-"+r.id;super(e,n,r,s,o,a,l,u),this.contentAttr=_7(u),this.hostAttr=w7(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},E7=(()=>{let e=class e extends mu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ee(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),b7=(()=>{let e=class e extends mu{constructor(r){super(r),this.delegate=Y(uA,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(ee(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),BA=["alt","control","meta","shift"],I7={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},C7=(()=>{let e=class e extends mu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),BA.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=I7[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),BA.forEach(a=>{if(a!==s){let l=D7[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ee(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function qA(t,e){return cA(j({rootComponent:t},T7(e)))}function T7(t){return{appProviders:[...k7,...t?.providers??[]],platformProviders:M7}}function S7(){v1.makeCurrent()}function x7(){return new Li}function A7(){return Bx(document),document}var M7=[{provide:ar,useValue:l1},{provide:C_,useValue:S7,multi:!0},{provide:kt,useFactory:A7,deps:[]}];var k7=[{provide:Nf,useValue:"root"},{provide:Li,useFactory:x7,deps:[]},{provide:Cp,useClass:E7,multi:!0,deps:[kt,we,ar]},{provide:Cp,useClass:C7,multi:!0,deps:[kt]},{provide:Cp,useClass:b7,multi:!0},Tp,WA,$A,{provide:Os,useExisting:Tp},{provide:pl,useClass:p7,deps:[]},[]];var GA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ee(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var w1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=ee(R7),s},providedIn:"root"});let t=e;return t})(),R7=(()=>{let e=class e extends w1{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Hn.NONE:return i;case Hn.HTML:return Hi(i,"HTML")?lr(i):A_(this._doc,String(i)).toString();case Hn.STYLE:return Hi(i,"Style")?lr(i):i;case Hn.SCRIPT:if(Hi(i,"Script"))return lr(i);throw new K(5200,!1);case Hn.URL:return Hi(i,"URL")?lr(i):qf(String(i));case Hn.RESOURCE_URL:if(Hi(i,"ResourceURL"))return lr(i);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(r){return Hx(r)}bypassSecurityTrustStyle(r){return qx(r)}bypassSecurityTrustScript(r){return Gx(r)}bypassSecurityTrustUrl(r){return Kx(r)}bypassSecurityTrustResourceUrl(r){return Yx(r)}};e.\u0275fac=function(i){return new(i||e)(ee(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ae="primary",Pu=Symbol("RouteTitle"),C1=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function El(t){return new C1(t)}function P7(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function N7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!oi(t[n],e[n]))return!1;return!0}function oi(t,e){let n=t?T1(t):void 0,r=e?T1(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nM(t[i],e[i]))return!1;return!0}function T1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function rM(t){return t.length>0?t[t.length-1]:null}function Ks(t){return Ny(t)?t:$o(t)?tt(Promise.resolve(t)):fe(t)}var O7={exact:sM,subset:oM},iM={exact:F7,subset:V7,ignored:()=>!0};function YA(t,e,n){return O7[n.paths](t.root,e.root,n.matrixParams)&&iM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function F7(t,e){return oi(t,e)}function sM(t,e,n){if(!Ko(t.segments,e.segments)||!Mp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sM(t.children[r],e.children[r],n))return!1;return!0}function V7(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nM(t[n],e[n]))}function oM(t,e,n){return aM(t,e,e.segments,n)}function aM(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ko(i,n)||e.hasChildren()||!Mp(i,n,r))}else if(t.segments.length===n.length){if(!Ko(t.segments,n)||!Mp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!oM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ko(t.segments,i)||!Mp(t.segments,i,r)||!t.children[Ae]?!1:aM(t.children[Ae],e,s,r)}}function Mp(t,e,n){return e.every((r,i)=>iM[n](t[i].parameters,r.parameters))}var es=class{constructor(e=new Ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=El(this.queryParams),this._queryParamMap}toString(){return j7.serialize(this)}},Ze=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kp(this)}},Go=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=El(this.parameters),this._parameterMap}toString(){return cM(this)}};function L7(t,e){return Ko(t,e)&&t.every((n,r)=>oi(n.parameters,e[r].parameters))}function Ko(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function U7(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ae&&(n=n.concat(e(i,r)))}),n}var Z1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>new Du,providedIn:"root"});let t=e;return t})(),Du=class{parse(e){let n=new x1(e);return new es(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${yu(e.root,!0)}`,r=W7(e.queryParams),i=typeof e.fragment=="string"?`#${B7(e.fragment)}`:"";return`${n}${r}${i}`}},j7=new Du;function kp(t){return t.segments.map(e=>cM(e)).join("/")}function yu(t,e){if(!t.hasChildren())return kp(t);if(e){let n=t.children[Ae]?yu(t.children[Ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ae&&r.push(`${i}:${yu(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=U7(t,(r,i)=>i===Ae?[yu(t.children[Ae],!1)]:[`${i}:${yu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ae]!=null?`${kp(t)}/${n[0]}`:`${kp(t)}/(${n.join("//")})`}}function lM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(t){return lM(t).replace(/%3B/gi,";")}function B7(t){return encodeURI(t)}function S1(t){return lM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(t){return decodeURIComponent(t)}function QA(t){return Rp(t.replace(/\+/g,"%20"))}function cM(t){return`${S1(t.path)}${$7(t.parameters)}`}function $7(t){return Object.entries(t).map(([e,n])=>`;${S1(e)}=${S1(n)}`).join("")}function W7(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xp(n)}=${xp(i)}`).join("&"):`${xp(n)}=${xp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var z7=/^[^\/()?;#]+/;function E1(t){let e=t.match(z7);return e?e[0]:""}var H7=/^[^\/()?;=#]+/;function q7(t){let e=t.match(H7);return e?e[0]:""}var G7=/^[^=?&#]+/;function K7(t){let e=t.match(G7);return e?e[0]:""}var Y7=/^[^&#]+/;function Q7(t){let e=t.match(Y7);return e?e[0]:""}var x1=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ze([],{}):new Ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ae]=new Ze(e,n)),r}parseSegment(){let e=E1(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Go(Rp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=q7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=E1(this.remaining);i&&(r=i,this.capture(r))}e[Rp(n)]=Rp(r)}parseQueryParam(e){let n=K7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Q7(this.remaining);o&&(r=o,this.capture(r))}let i=QA(n),s=QA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=E1(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ae);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Ae]:new Ze([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function uM(t){return t.segments.length>0?new Ze([],{[Ae]:t}):t}function dM(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=dM(i);if(r===Ae&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ze(t.segments,e);return X7(n)}function X7(t){if(t.numberOfChildren===1&&t.children[Ae]){let e=t.children[Ae];return new Ze(t.segments.concat(e.segments),e.children)}return t}function Yo(t){return t instanceof es}function Z7(t,e,n=null,r=null){let i=hM(t);return fM(i,e,n,r)}function hM(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let a=new Ze(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=uM(r);return e??i}function fM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return b1(i,i,i,n,r);let s=J7(e);if(s.toRoot())return b1(i,i,new Ze([],{}),n,r);let o=eU(s,i,t),a=o.processChildren?Eu(o.segmentGroup,o.index,s.commands):mM(o.segmentGroup,o.index,s.commands);return b1(i,o.segmentGroup,a,n,r)}function Pp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Cu(t){return typeof t=="object"&&t!=null&&t.outlets}function b1(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=pM(t,e,n);let a=uM(dM(o));return new es(a,s,i)}function pM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=pM(s,e,n)}),new Ze(t.segments,r)}var Np=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pp(r[0]))throw new K(4003,!1);let i=r.find(Cu);if(i&&i!==rM(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function J7(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Np(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Np(n,e,r)}var yl=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function eU(t,e,n){if(t.isAbsolute)return new yl(e,!0,0);if(!n)return new yl(e,!1,NaN);if(n.parent===null)return new yl(n,!0,0);let r=Pp(t.commands[0])?0:1,i=n.segments.length-1+r;return tU(n,i,t.numberOfDoubleDots)}function tU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new yl(r,!1,i-s)}function nU(t){return Cu(t[0])?t[0].outlets:{[Ae]:t}}function mM(t,e,n){if(t??=new Ze([],{}),t.segments.length===0&&t.hasChildren())return Eu(t,e,n);let r=rU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ze(t.segments.slice(0,r.pathIndex),{});return s.children[Ae]=new Ze(t.segments.slice(r.pathIndex),t.children),Eu(s,0,i)}else return r.match&&i.length===0?new Ze(t.segments,{}):r.match&&!t.hasChildren()?A1(t,e,n):r.match?Eu(t,0,i):A1(t,e,n)}function Eu(t,e,n){if(n.length===0)return new Ze(t.segments,{});{let r=nU(n),i={};if(Object.keys(r).some(s=>s!==Ae)&&t.children[Ae]&&t.numberOfChildren===1&&t.children[Ae].segments.length===0){let s=Eu(t.children[Ae],e,n);return new Ze(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=mM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ze(t.segments,i)}}function rU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Cu(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!ZA(l,u,o))return s;r+=2}else{if(!ZA(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function A1(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Cu(s)){let l=iU(s.outlets);return new Ze(r,l)}if(i===0&&Pp(n[0])){let l=t.segments[e];r.push(new Go(l.path,XA(n[0]))),i++;continue}let o=Cu(s)?s.outlets[Ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pp(a)?(r.push(new Go(o,XA(a))),i+=2):(r.push(new Go(o,{})),i++)}return new Ze(r,{})}function iU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=A1(new Ze([],{}),0,r))}),e}function XA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZA(t,e,n){return t==n.path&&oi(e,n.parameters)}var bu="imperative",sn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(sn||{}),fr=class{constructor(e,n){this.id=e,this.url=n}},Tu=class extends fr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=sn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ts=class extends fr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=sn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Qn||{}),M1=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(M1||{}),Ji=class extends fr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=sn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qo=class extends fr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=sn.NavigationSkipped}},Su=class extends fr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=sn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Op=class extends fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=sn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},k1=class extends fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=sn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},R1=class extends fr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=sn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},P1=class extends fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=sn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},N1=class extends fr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=sn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},O1=class{constructor(e){this.route=e,this.type=sn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},F1=class{constructor(e){this.route=e,this.type=sn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},V1=class{constructor(e){this.snapshot=e,this.type=sn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},L1=class{constructor(e){this.snapshot=e,this.type=sn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},U1=class{constructor(e){this.snapshot=e,this.type=sn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},j1=class{constructor(e){this.snapshot=e,this.type=sn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xu=class{},bl=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function sU(t,e){return t.providers&&!t._injector&&(t._injector=q_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pr(t){return t.outlet||Ae}function oU(t,e){let n=t.filter(r=>Pr(r)===e);return n.push(...t.filter(r=>Pr(r)!==e)),n}function Nu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var B1=class{get injector(){return Nu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $p(this.rootInjector),this.attachRef=null}},$p=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new B1(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ee(On))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$1(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$1(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=W1(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return W1(e,this._root).map(n=>n.value)}};function $1(t,e){if(t===e.value)return e;for(let n of e.children){let r=$1(t,n);if(r)return r}return null}function W1(t,e){if(t===e.value)return[e];for(let n of e.children){let r=W1(t,n);if(r.length)return r.unshift(e),r}return[]}var Yn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function vl(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vp=class extends Fp{constructor(e,n){super(e),this.snapshot=n,J1(this,e)}toString(){return this.snapshot.toString()}};function gM(t){let e=aU(t),n=new Zt([new Go("",{})]),r=new Zt({}),i=new Zt({}),s=new Zt({}),o=new Zt(""),a=new Nr(n,r,s,o,i,Ae,t,e.root);return a.snapshot=e.root,new Vp(new Yn(a,[]),e)}function aU(t){let e={},n={},r={},i="",s=new _l([],e,r,i,n,Ae,t,null,{});return new Up("",new Yn(s,[]))}var Nr=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(le(u=>u[Pu]))??fe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>El(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>El(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&yM(i)&&(r.resolve[Pu]=i.title),r}var _l=class{get title(){return this.data?.[Pu]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=El(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=El(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Up=class extends Fp{constructor(e,n){super(n),this.url=e,J1(this,n)}toString(){return vM(this._root)}};function J1(t,e){e.value._routerState=t,e.children.forEach(n=>J1(t,n))}function vM(t){let e=t.children.length>0?` { ${t.children.map(vM).join(", ")} } `:"";return`${t.value}${e}`}function I1(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,oi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),oi(e.params,n.params)||t.paramsSubject.next(n.params),N7(e.url,n.url)||t.urlSubject.next(n.url),oi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function z1(t,e){let n=oi(t.params,e.params)&&L7(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||z1(t.parent,e.parent))}function yM(t){return typeof t.title=="string"||t.title===null}var ew=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ae,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=Y($p),this.location=Y(si),this.changeDetector=Y(dr),this.inputBinder=Y(tw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new H1(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ht]});let t=e;return t})(),H1=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Nr?this.route:e===$p?this.childContexts:this.parent.get(e,n)}},tw=new te("");function lU(t,e,n){let r=Au(t,e._root,n?n._root:void 0);return new Vp(r,e)}function Au(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=cU(t,e,n);return new Yn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Au(t,a)),o}}let r=uU(e.value),i=e.children.map(s=>Au(t,s));return new Yn(r,i)}}function cU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Au(t,r,i);return Au(t,r)})}function uU(t){return new Nr(new Zt(t.url),new Zt(t.params),new Zt(t.queryParams),new Zt(t.fragment),new Zt(t.data),t.outlet,t.component,t)}var Mu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},_M="ngNavigationCancelingError";function jp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wM(!1,Qn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function wM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_M]=!0,n.cancellationCode=e,n}function dU(t){return EM(t)&&Yo(t.url)}function EM(t){return!!t&&t[_M]}var hU=(t,e,n,r)=>le(i=>(new q1(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),q1=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),I1(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=vl(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=vl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=vl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=vl(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new j1(s.value.snapshot))}),e.children.length&&this.forwardEvent(new L1(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(I1(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),I1(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Bp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wl=class{constructor(e,n){this.component=e,this.route=n}};function fU(t,e,n){let r=t._root,i=e?e._root:null;return _u(r,i,n,[r.value])}function pU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cl(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!TS(t)?t:e.get(t):r}function _u(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=vl(e);return t.children.forEach(o=>{mU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Iu(a,n.getContext(o),i)),i}function mU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=gU(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Bp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?_u(t,e,a?a.children:null,r,i):_u(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wl(a.outlet.component,o))}else o&&Iu(e,a,i),i.canActivateChecks.push(new Bp(r)),s.component?_u(t,null,a?a.children:null,r,i):_u(t,null,n,r,i);return i}function gU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ko(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(t.url,e.url)||!oi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!z1(t,e)||!oi(t.queryParams,e.queryParams);case"paramsChange":default:return!z1(t,e)}}function Iu(t,e,n){let r=vl(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Iu(o,e.children.getContext(s),n):Iu(o,null,n):Iu(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new wl(e.outlet.component,i)):n.canDeactivateChecks.push(new wl(null,i)):n.canDeactivateChecks.push(new wl(null,i))}function Ou(t){return typeof t=="function"}function vU(t){return typeof t=="boolean"}function yU(t){return t&&Ou(t.canLoad)}function _U(t){return t&&Ou(t.canActivate)}function wU(t){return t&&Ou(t.canActivateChild)}function EU(t){return t&&Ou(t.canDeactivate)}function bU(t){return t&&Ou(t.canMatch)}function bM(t){return t instanceof Ni||t?.name==="EmptyError"}var Ap=Symbol("INITIAL_VALUE");function Il(){return Jt(t=>Bh(t.map(e=>e.pipe(br(1),Hh(Ap)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Ap)return Ap;if(n===!1||IU(n))return n}return!0}),Rn(e=>e!==Ap),br(1)))}function IU(t){return Yo(t)||t instanceof Mu}function DU(t,e){return zt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?fe(he(j({},n),{guardsResult:!0})):CU(o,r,i,t).pipe(zt(a=>a&&vU(a)?TU(r,s,t,e):fe(a)),le(a=>he(j({},n),{guardsResult:a})))})}function CU(t,e,n,r){return tt(t).pipe(zt(i=>kU(i.component,i.route,n,e,r)),Kr(i=>i!==!0,!0))}function TU(t,e,n,r){return tt(e).pipe(xs(i=>Ka(xU(i.route.parent,r),SU(i.route,r),MU(t,i.path,n),AU(t,i.route,n))),Kr(i=>i!==!0,!0))}function SU(t,e){return t!==null&&e&&e(new U1(t)),fe(!0)}function xU(t,e){return t!==null&&e&&e(new V1(t)),fe(!0)}function AU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return fe(!0);let i=r.map(s=>$h(()=>{let o=Nu(e)??n,a=Cl(s,o),l=_U(a)?a.canActivate(e,t):xr(o,()=>a(e,t));return Ks(l).pipe(Kr())}));return fe(i).pipe(Il())}function MU(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>pU(o)).filter(o=>o!==null).map(o=>$h(()=>{let a=o.guards.map(l=>{let u=Nu(o.node)??n,d=Cl(l,u),f=wU(d)?d.canActivateChild(r,t):xr(u,()=>d(r,t));return Ks(f).pipe(Kr())});return fe(a).pipe(Il())}));return fe(s).pipe(Il())}function kU(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return fe(!0);let o=s.map(a=>{let l=Nu(e)??i,u=Cl(a,l),d=EU(u)?u.canDeactivate(t,e,n,r):xr(l,()=>u(t,e,n,r));return Ks(d).pipe(Kr())});return fe(o).pipe(Il())}function RU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return fe(!0);let s=i.map(o=>{let a=Cl(o,t),l=yU(a)?a.canLoad(e,n):xr(t,()=>a(e,n));return Ks(l)});return fe(s).pipe(Il(),IM(r))}function IM(t){return _h(wt(e=>{if(typeof e!="boolean")throw jp(t,e)}),le(e=>e===!0))}function PU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return fe(!0);let s=i.map(o=>{let a=Cl(o,t),l=bU(a)?a.canMatch(e,n):xr(t,()=>a(e,n));return Ks(l)});return fe(s).pipe(Il(),IM(r))}var ku=class{constructor(e){this.segmentGroup=e||null}},Ru=class extends Error{constructor(e){super(),this.urlTree=e}};function gl(t){return qa(new ku(t))}function NU(t){return qa(new K(4e3,!1))}function OU(t){return qa(wM(!1,Qn.GuardRejected))}var G1=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return fe(r);if(i.numberOfChildren>1||!i.children[Ae])return NU(`${e.redirectTo}`);i=i.children[Ae]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:d,url:f,outlet:m,params:g,data:b,title:A}=i,S=xr(s,()=>a({params:g,data:b,queryParams:l,fragment:u,routeConfig:d,url:f,outlet:m,title:A}));if(S instanceof es)throw new Ru(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ru(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new es(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Ze(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},K1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FU(t,e,n,r,i){let s=DM(t,e,n);return s.matched?(r=sU(e,r),PU(r,e,n,i).pipe(le(o=>o===!0?s:j({},K1)))):fe(s)}function DM(t,e,n){if(e.path==="**")return VU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},K1):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||P7)(n,t,e);if(!i)return j({},K1);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VU(t){return{matched:!0,parameters:t.length>0?rM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function JA(t,e,n,r){return n.length>0&&jU(t,n,r)?{segmentGroup:new Ze(e,UU(r,new Ze(n,t.children))),slicedSegments:[]}:n.length===0&&BU(t,n,r)?{segmentGroup:new Ze(t.segments,LU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ze(t.segments,t.children),slicedSegments:n}}function LU(t,e,n,r){let i={};for(let s of n)if(Wp(t,e,s)&&!r[Pr(s)]){let o=new Ze([],{});i[Pr(s)]=o}return j(j({},r),i)}function UU(t,e){let n={};n[Ae]=e;for(let r of t)if(r.path===""&&Pr(r)!==Ae){let i=new Ze([],{});n[Pr(r)]=i}return n}function jU(t,e,n){return n.some(r=>Wp(t,e,r)&&Pr(r)!==Ae)}function BU(t,e,n){return n.some(r=>Wp(t,e,r))}function Wp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $U(t,e,n){return e.length===0&&!t.children[n]}var Y1=class{};function WU(t,e,n,r,i,s,o="emptyOnly"){return new Q1(t,e,n,r,i,o,s).recognize()}var zU=31,Q1=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new G1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=JA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new Yn(r,n),s=new Up("",i),o=Z7(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new _l([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ae,n).pipe(le(r=>({children:r,rootSnapshot:n})),Wn(r=>{if(r instanceof Ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ku?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(le(o=>o instanceof Yn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return tt(s).pipe(xs(o=>{let a=r.children[o],l=oU(n,o);return this.processSegmentGroup(e,l,a,o,i)}),zh((o,a)=>(o.push(...a),o)),As(null),Vy(),zt(o=>{if(o===null)return gl(r);let a=CM(o);return HU(a),fe(a)}))}processSegment(e,n,r,i,s,o,a){return tt(n).pipe(xs(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Wn(u=>{if(u instanceof ku)return fe(null);throw u}))),Kr(l=>!!l),Wn(l=>{if(bM(l))return $U(r,i,s)?fe(new Y1):gl(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return Pr(r)!==o&&(o===Ae||!Wp(i,s,r))?gl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):gl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=DM(n,i,s);if(!l)return gl(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zU&&(this.allowRedirects=!1));let g=new _l(s,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,eM(i),Pr(i),i.component??i._loadedComponent??null,i,tM(i)),b=Lp(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data);let A=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(zt(S=>this.processSegment(e,r,n,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=FU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Jt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Jt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=l,b=new _l(m,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,eM(r),Pr(r),r.component??r._loadedComponent??null,r,tM(r)),A=Lp(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(A.params),b.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:N}=JA(n,m,g,u);if(N.length===0&&S.hasChildren())return this.processChildren(d,u,S,b).pipe(le(U=>new Yn(b,U)));if(u.length===0&&N.length===0)return fe(new Yn(b,[]));let H=Pr(r)===s;return this.processSegment(d,u,S,N,H?Ae:s,!0,b).pipe(le(U=>new Yn(b,U instanceof Yn?[U]:[])))}))):gl(n)))}getChildConfig(e,n,r){return n.children?fe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?fe({routes:n._loadedRoutes,injector:n._loadedInjector}):RU(e,n,r,this.urlSerializer).pipe(zt(i=>i?this.configLoader.loadChildren(e,n).pipe(wt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):OU(n))):fe({routes:[],injector:e})}};function HU(t){t.sort((e,n)=>e.value.outlet===Ae?-1:n.value.outlet===Ae?1:e.value.outlet.localeCompare(n.value.outlet))}function qU(t){let e=t.value.routeConfig;return e&&e.path===""}function CM(t){let e=[],n=new Set;for(let r of t){if(!qU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=CM(r.children);e.push(new Yn(r.value,i))}return e.filter(r=>!n.has(r))}function eM(t){return t.data||{}}function tM(t){return t.resolve||{}}function GU(t,e,n,r,i,s){return zt(o=>WU(t,e,n,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:l})=>he(j({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function KU(t,e){return zt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return fe(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of TM(l))o.add(u);let a=0;return tt(o).pipe(xs(l=>s.has(l)?YU(l,r,t,e):(l.data=Lp(l,l.parent,t).resolve,fe(void 0))),wt(()=>a++),Ya(1),zt(l=>a===o.size?fe(n):$n))})}function TM(t){let e=t.children.map(n=>TM(n)).flat();return[t,...e]}function YU(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!yM(i)&&(s[Pu]=i.title),QU(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=Lp(t,t.parent,n).resolve,null)))}function QU(t,e,n,r){let i=T1(t);if(i.length===0)return fe({});let s={};return tt(i).pipe(zt(o=>XU(t[o],e,n,r).pipe(Kr(),wt(a=>{if(a instanceof Mu)throw jp(new Du,a);s[o]=a}))),Ya(1),Fy(s),Wn(o=>bM(o)?$n:qa(o)))}function XU(t,e,n,r){let i=Nu(e)??r,s=Cl(t,i),o=s.resolve?s.resolve(e,n):xr(i,()=>s(e,n));return Ks(o)}function D1(t){return Jt(e=>{let n=t(e);return n?tt(n).pipe(le(()=>e)):fe(e)})}var SM=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ae);return i}getResolvedTitleForRoute(r){return r.data[Pu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>Y(ZU),providedIn:"root"});let t=e;return t})(),ZU=(()=>{let e=class e extends SM{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ee(GA))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nw=new te("",{providedIn:"root",factory:()=>({})}),JU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["ng-component"]],standalone:!0,features:[De],decls:1,vars:0,template:function(i,s){i&1&&L(0,"router-outlet")},dependencies:[ew],encapsulation:2});let t=e;return t})();function rw(t){let e=t.children&&t.children.map(rw),n=e?he(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ae&&(n.component=JU),n}var iw=new te(""),ej=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(X_)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return fe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ks(r.loadComponent()).pipe(le(xM),wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),bo(()=>{this.componentLoaders.delete(r)})),s=new za(i,()=>new ut).pipe(Wa());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return fe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tj(i,this.compiler,r,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(i)})),a=new za(o,()=>new ut).pipe(Wa());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tj(t,e,n,r){return Ks(t.loadChildren()).pipe(le(xM),zt(i=>i instanceof Qc||Array.isArray(i)?fe(i):tt(e.compileModuleAsync(i))),le(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(iw,[],{optional:!0,self:!0}).flat()),{routes:o.map(rw),injector:s}}))}function nj(t){return t&&typeof t=="object"&&"default"in t}function xM(t){return nj(t)?t.default:t}var sw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>Y(rj),providedIn:"root"});let t=e;return t})(),rj=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ij=new te("");var sj=new te(""),oj=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=Y(ej),this.environmentInjector=Y(On),this.urlSerializer=Y(Z1),this.rootContexts=Y($p),this.location=Y(lu),this.inputBindingEnabled=Y(tw,{optional:!0})!==null,this.titleStrategy=Y(SM),this.options=Y(nw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Y(sw),this.createViewTransition=Y(ij,{optional:!0}),this.navigationErrorHandler=Y(sj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>fe(void 0),this.rootComponentType=null;let r=s=>this.events.next(new O1(s)),i=s=>this.events.next(new F1(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(he(j(j({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Zt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:bu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rn(o=>o.id!==0),le(o=>he(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Jt(o=>{let a=!1,l=!1;return fe(o).pipe(Jt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),$n;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new Qo(u.id,this.urlSerializer.serialize(u.rawUrl),m,M1.IgnoredSameUrlNavigation)),u.resolve(!1),$n}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return fe(u).pipe(Jt(m=>{let g=this.transitions?.getValue();return this.events.next(new Tu(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?$n:Promise.resolve(m)}),GU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=he(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new Op(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:g,source:b,restoredState:A,extras:S}=u,N=new Tu(m,this.urlSerializer.serialize(g),b,A);this.events.next(N);let H=gM(this.rootComponentType).snapshot;return this.currentTransition=o=he(j({},u),{targetSnapshot:H,urlAfterRedirects:g,extras:he(j({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,fe(o)}else{let m="";return this.events.next(new Qo(u.id,this.urlSerializer.serialize(u.extractedUrl),m,M1.IgnoredByUrlHandlingStrategy)),u.resolve(!1),$n}}),wt(u=>{let d=new k1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),le(u=>(this.currentTransition=o=he(j({},u),{guards:fU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),DU(this.environmentInjector,u=>this.events.next(u)),wt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw jp(this.urlSerializer,u.guardsResult);let d=new R1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Rn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Qn.GuardRejected),!1)),D1(u=>{if(u.guards.canActivateChecks.length)return fe(u).pipe(wt(d=>{let f=new P1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Jt(d=>{let f=!1;return fe(d).pipe(KU(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Qn.NoDataFromResolver)}}))}),wt(d=>{let f=new N1(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),D1(u=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(wt(g=>{f.component=g}),le(()=>{})));for(let g of f.children)m.push(...d(g));return m};return Bh(d(u.targetSnapshot.root)).pipe(As(null),br(1))}),D1(()=>this.afterPreactivation()),Jt(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?tt(f).pipe(le(()=>o)):fe(o)}),le(u=>{let d=lU(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=he(j({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),wt(()=>{this.events.next(new xu)}),hU(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),br(1),wt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ts(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ly(this.transitionAbortSubject.pipe(wt(u=>{throw u}))),bo(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Qn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wn(u=>{if(l=!0,EM(u))this.events.next(new Ji(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),dU(u)?this.events.next(new bl(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Su(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=xr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Mu){let{message:m,cancellationCode:g}=jp(this.urlSerializer,f);this.events.next(new Ji(o.id,this.urlSerializer.serialize(o.extractedUrl),m,g)),this.events.next(new bl(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=r.errorHandler(u);o.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return $n}))}))}cancelNavigationTransition(r,i,s){let o=new Ji(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aj(t){return t!==bu}var lj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>Y(cj),providedIn:"root"});let t=e;return t})(),X1=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cj=(()=>{let e=class e extends X1{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ii(e)))(s||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>Y(uj),providedIn:"root"});let t=e;return t})(),uj=(()=>{let e=class e extends AM{constructor(){super(...arguments),this.location=Y(lu),this.urlSerializer=Y(Z1),this.options=Y(nw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Y(sw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new es,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Tu)this.stateMemento=this.createStateMemento();else if(r instanceof Qo)this.rawUrlTree=i.initialUrl;else if(r instanceof Op){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof xu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Ji&&(r.code===Qn.GuardRejected||r.code===Qn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Su?this.restoreHistory(i,!0):r instanceof ts&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof es?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ii(e)))(s||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wu||{});function dj(t,e){t.events.pipe(Rn(n=>n instanceof ts||n instanceof Ji||n instanceof Su||n instanceof Qo),le(n=>n instanceof ts||n instanceof Qo?wu.COMPLETE:(n instanceof Ji?n.code===Qn.Redirect||n.code===Qn.SupersededByNewNavigation:!1)?wu.REDIRECTING:wu.FAILED),Rn(n=>n!==wu.REDIRECTING),br(1)).subscribe(()=>{e()})}function hj(t){throw t}var fj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ft=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Y(ip),this.stateManager=Y(AM),this.options=Y(nw,{optional:!0})||{},this.pendingTasks=Y(Ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Y(oj),this.urlSerializer=Y(Z1),this.location=Y(lu),this.urlHandlingStrategy=Y(sw),this._events=new ut,this.errorHandler=this.options.errorHandler||hj,this.navigated=!1,this.routeReuseStrategy=Y(lj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Y(iw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Y(tw,{optional:!0}),this.eventsSubscription=new St,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ji&&i.code!==Qn.Redirect&&i.code!==Qn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ts)this.navigated=!0;else if(i instanceof bl){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u=j({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aj(s.source)},a);this.scheduleNavigation(l,bu,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}gj(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=j({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(rw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=s?s.snapshot:this.routerState.snapshot.root;m=hM(g)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return fM(m,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Yo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,bu,null,i)}navigate(r,i={skipLocationChange:!1}){return mj(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=j({},fj):i===!1?s=j({},pj):s=i,Yo(r))return YA(this.currentUrlTree,r,s);let o=this.parseUrl(r);return YA(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,d;a?(l=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,g)=>{l=m,u=g});let f=this.pendingTasks.add();return dj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function gj(t){return!(t instanceof xu)&&!(t instanceof bl)}var Dl=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof ts&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yo(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:t2(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Yo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(V(Ft),V(Nr),E_("tabindex"),V(tn),V(At),V(ml))},e.\u0275dir=it({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&G("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Cn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zo],replaceUrl:[2,"replaceUrl","replaceUrl",zo],routerLink:"routerLink"},standalone:!0,features:[H_,Ht]});let t=e;return t})(),MM=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Oe,this.routerEventsSubscription=r.events.subscribe(l=>{l instanceof ts&&this.update()})}ngAfterContentInit(){fe(this.links.changes,fe(null)).pipe(Ga()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=tt(r).pipe(Ga()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=vj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(V(Ft),V(At),V(tn),V(dr),V(Dl,8))},e.\u0275dir=it({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Q2(o,Dl,5),i&2){let a;tp(a=np())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ht]});let t=e;return t})();function vj(t){return!!t.paths}var yj=new te("");function kM(t,...e){return Gt([{provide:iw,multi:!0,useValue:t},[],{provide:Nr,useFactory:_j,deps:[Ft]},{provide:op,multi:!0,useFactory:wj},e.map(n=>n.\u0275providers)])}function _j(t){return t.routerState.root}function wj(){let t=Y(bt);return e=>{let n=t.get(ur);if(e!==n.components[0])return;let r=t.get(Ft),i=t.get(Ej);t.get(bj)===1&&r.initialNavigation(),t.get(Ij,null,ke.Optional)?.setUpPreloading(),t.get(yj,null,ke.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ej=new te("",{factory:()=>new ut}),bj=new te("",{providedIn:"root",factory:()=>1});var Ij=new te("");var PM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new aw;let m=s<<2|a>>4;if(r.push(m),u!==64){let g=a<<4&240|u>>2;if(r.push(g),f!==64){let b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},aw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Cj=function(t){let e=PM(t);return NM.encodeByteArray(e,!0)},Fu=function(t){return Cj(t).replace(/\./g,"")},cw=function(t){try{return NM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Sj=()=>Tj().__FIREBASE_DEFAULTS__,xj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Aj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cw(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return Sj()||xj()||Aj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uw=t=>{var e,n;return(n=(e=Hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qp=t=>{let e=uw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dw=()=>{var t;return(t=Hp())===null||t===void 0?void 0:t.config},hw=t=>{var e;return(e=Hp())===null||e===void 0?void 0:e[`_${t}`]};var zp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Gp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fu(JSON.stringify(n)),Fu(JSON.stringify(o)),""].join(".")}function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Mj(){var t;let e=(t=Hp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UM(){let t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jM(){return!Mj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vu(){try{return typeof indexedDB=="object"}catch{return!1}}function Kp(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function BM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var kj="FirebaseError",on=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}},Xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Rj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new on(i,a,r)}};function Rj(t,e){return t.replace(Pj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Pj=/\{\$([^}]+)}/g;function $M(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(RM(s)&&RM(o)){if(!Xo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function RM(t){return t!==null&&typeof t=="object"}function Tl(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WM(t,e){let n=new lw(t,e);return n.subscribe.bind(n)}var lw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Nj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ow),i.error===void 0&&(i.error=ow),i.complete===void 0&&(i.complete=ow);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ow(){}var eae=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var Vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zo="[DEFAULT]";var fw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new zp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fj(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Oj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Oj(t){return t===Zo?void 0:t}function Fj(t){return t.instantiationMode==="EAGER"}var Yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Vj=[],Le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Le||{}),Lj={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Uj=Le.INFO,jj={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Bj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=jj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ys=class{constructor(e){this.name=e,this._logLevel=Uj,this._logHandler=Bj,this._userLogHandler=null,Vj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};var $j=(t,e)=>e.some(n=>t instanceof n),zM,HM;function Wj(){return zM||(zM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zj(){return HM||(HM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qM=new WeakMap,mw=new WeakMap,GM=new WeakMap,pw=new WeakMap,vw=new WeakMap;function Hj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qM.set(n,t)}).catch(()=>{}),vw.set(e,t),e}function qj(t){if(mw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mw.set(t,e)}var gw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KM(t){gw=t(gw)}function Gj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Qp(this),e,...n);return GM.set(r,e.sort?e.sort():[e]),Or(r)}:zj().includes(t)?function(...e){return t.apply(Qp(this),e),Or(qM.get(this))}:function(...e){return Or(t.apply(Qp(this),e))}}function Kj(t){return typeof t=="function"?Gj(t):(t instanceof IDBTransaction&&qj(t),$j(t,Wj())?new Proxy(t,gw):t)}function Or(t){if(t instanceof IDBRequest)return Hj(t);if(pw.has(t))return pw.get(t);let e=Kj(t);return e!==t&&(pw.set(t,e),vw.set(e,t)),e}var Qp=t=>vw.get(t);function Jo(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Or(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Or(o.result),l.oldVersion,l.newVersion,Or(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function Xp(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Or(n).then(()=>{})}var Yj=["get","getKey","getAll","getAllKeys","count"],Qj=["put","add","delete","clear"],yw=new Map;function YM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yw.get(e))return yw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Qj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yj.includes(n)))return;let s=function(o,...a){return y(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&l.done]))[0]})};return yw.set(e,s),s}KM(t=>he(j({},t),{get:(e,n,r)=>YM(e,n)||t.get(e,n,r),has:(e,n)=>!!YM(e,n)||t.has(e,n)}));var ww=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Xj(t){let e=t.getComponent();return e?.type==="VERSION"}var Ew="@firebase/app",QM="0.10.13";var ns=new Ys("@firebase/app"),Zj="@firebase/app-compat",Jj="@firebase/analytics-compat",eB="@firebase/analytics",tB="@firebase/app-check-compat",nB="@firebase/app-check",rB="@firebase/auth",iB="@firebase/auth-compat",sB="@firebase/database",oB="@firebase/data-connect",aB="@firebase/database-compat",lB="@firebase/functions",cB="@firebase/functions-compat",uB="@firebase/installations",dB="@firebase/installations-compat",hB="@firebase/messaging",fB="@firebase/messaging-compat",pB="@firebase/performance",mB="@firebase/performance-compat",gB="@firebase/remote-config",vB="@firebase/remote-config-compat",yB="@firebase/storage",_B="@firebase/storage-compat",wB="@firebase/firestore",EB="@firebase/vertexai-preview",bB="@firebase/firestore-compat",IB="firebase",DB="10.14.1";var bw="[DEFAULT]",CB={[Ew]:"fire-core",[Zj]:"fire-core-compat",[eB]:"fire-analytics",[Jj]:"fire-analytics-compat",[nB]:"fire-app-check",[tB]:"fire-app-check-compat",[rB]:"fire-auth",[iB]:"fire-auth-compat",[sB]:"fire-rtdb",[oB]:"fire-data-connect",[aB]:"fire-rtdb-compat",[lB]:"fire-fn",[cB]:"fire-fn-compat",[uB]:"fire-iid",[dB]:"fire-iid-compat",[hB]:"fire-fcm",[fB]:"fire-fcm-compat",[pB]:"fire-perf",[mB]:"fire-perf-compat",[gB]:"fire-rc",[vB]:"fire-rc-compat",[yB]:"fire-gcs",[_B]:"fire-gcs-compat",[wB]:"fire-fst",[bB]:"fire-fst-compat",[EB]:"fire-vertex","fire-js":"fire-js",[IB]:"fire-js-all"};var Lu=new Map,TB=new Map,Iw=new Map;function XM(t,e){try{t.container.addComponent(e)}catch(n){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mn(t){let e=t.name;if(Iw.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Iw.set(e,t);for(let n of Lu.values())XM(n,t);for(let n of TB.values())XM(n,t);return!0}function pr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function li(t){return t.settings!==void 0}var SB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Xn("app","Firebase",SB);var Dw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}};var ci=DB;function Sw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(n||(n=dw()),!n)throw Qs.create("no-options");let s=Lu.get(i);if(s){if(Xo(n,s.options)&&Xo(r,s.config))return s;throw Qs.create("duplicate-app",{appName:i})}let o=new Yp(i);for(let l of Iw.values())o.addComponent(l);let a=new Dw(n,r,o);return Lu.set(i,a),a}function Fr(t=bw){let e=Lu.get(t);if(!e&&t===bw&&dw())return Sw();if(!e)throw Qs.create("no-app",{appName:t});return e}function Zp(){return Array.from(Lu.values())}function He(t,e,n){var r;let i=(r=CB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(a.join(" "));return}mn(new Vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xB="firebase-heartbeat-database",AB=1,Uu="firebase-heartbeat-store",_w=null;function tk(){return _w||(_w=Jo(xB,AB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),_w}function MB(t){return y(this,null,function*(){try{let n=(yield tk()).transaction(Uu),r=yield n.objectStore(Uu).get(nk(t));return yield n.done,r}catch(e){if(e instanceof on)ns.warn(e.message);else{let n=Qs.create("idb-get",{originalErrorMessage:e?.message});ns.warn(n.message)}}})}function ZM(t,e){return y(this,null,function*(){try{let r=(yield tk()).transaction(Uu,"readwrite");yield r.objectStore(Uu).put(e,nk(t)),yield r.done}catch(n){if(n instanceof on)ns.warn(n.message);else{let r=Qs.create("idb-set",{originalErrorMessage:n?.message});ns.warn(r.message)}}})}function nk(t){return`${t.name}!${t.options.appId}`}var kB=1024,RB=30*24*60*60*1e3,Cw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Tw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JM();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=RB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ns.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=JM(),{heartbeatsToSend:r,unsentEntries:i}=PB(this._heartbeatsCache.heartbeats),s=Fu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ns.warn(n),""}})}};function JM(){return new Date().toISOString().substring(0,10)}function PB(t,e=kB){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ek(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ek(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Tw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return Vu()?Kp().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ek(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}function NB(t){mn(new Vt("platform-logger",e=>new ww(e),"PRIVATE")),mn(new Vt("heartbeat",e=>new Cw(e),"PRIVATE")),He(Ew,QM,t),He(Ew,QM,"esm2017"),He("fire-js","")}NB("");var OB="firebase",FB="10.14.1";He(OB,FB,"app");var Vr=new Bi("ANGULARFIRE2_VERSION"),rk=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Zs(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var rs=(t,e)=>{let n=e?[e]:Zp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xs=class{constructor(){return rs(VB)}},VB="app-check";function Sl(){}var Jp=class{zone;delegate;constructor(e,n=Py){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},xw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl)),n.pipe(wt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ui=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Jp(Zone.current)),this.insideAngular=n.run(()=>new Jp(Zone.current,Ry)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ee(we))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function em(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function LB(t){return em().ngZone.runOutsideAngular(()=>t())}function ea(t){return em().ngZone.run(()=>t())}function UB(t){return jB(em())(t)}function jB(t){return function(n){return n=n.lift(new xw(t.ngZone)),n.pipe(Ss(t.outsideAngular),Ts(t.insideAngular))}}var BB=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ea(()=>t.apply(void 0,r))},ht=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ea(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl))),r[s]=BB(r[s],n));let i=LB(()=>t.apply(this,r));if(!e)if(i instanceof Ie){let s=em();return i.pipe(Ss(s.outsideAngular),Ts(s.insideAngular))}else return ea(()=>i);return i instanceof Ie?i.pipe(UB):i instanceof Promise?ea(()=>new Promise((s,o)=>i.then(a=>ea(()=>s(a)),a=>ea(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ea(()=>i)};var Zn=class{constructor(e){return e}},Lr=class{constructor(){return Zp()}};function $B(t){return t&&t.length===1?t[0]:new Zn(Fr())}var Aw=new te("angularfire2._apps"),WB={provide:Zn,useFactory:$B,deps:[[new yt,Aw]]},zB={provide:Lr,deps:[[new yt,Aw]]};function HB(t){return(e,n)=>{let r=n.get(ar);He("angularfire",Vr.full,"core"),He("angularfire",Vr.full,"app"),He("angular",tA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Zn(i)}}function ik(t,...e){return Gt([WB,zB,{provide:Aw,useFactory:HB(t),multi:!0,deps:[we,bt,ui,...e]}])}var sk=ht(Sw,!0);function wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ek=wk,bk=new Xn("auth","Firebase",wk());var om=new Ys("@firebase/auth");function qB(t,...e){om.logLevel<=Le.WARN&&om.warn(`Auth (${ci}): ${t}`,...e)}function nm(t,...e){om.logLevel<=Le.ERROR&&om.error(`Auth (${ci}): ${t}`,...e)}function hi(t,...e){throw Gw(t,...e)}function Ur(t,...e){return Gw(t,...e)}function qw(t,e,n){let r=Object.assign(Object.assign({},Ek()),{[e]:n});return new Xn("auth","Firebase",r).create(e,{appName:t.name})}function ta(t){return qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GB(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(t,"argument-error"),qw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bk.create(t,...e)}function ye(t,e,...n){if(!t)throw Gw(e,...n)}function is(t){let e="INTERNAL ASSERTION FAILED: "+t;throw nm(e),new Error(e)}function os(t,e){t||is(e)}function Rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KB(){return ok()==="http:"||ok()==="https:"}function ok(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KB()||VM()||"connection"in navigator)?navigator.onLine:!0}function QB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var na=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=OM()||LM()}get(){return YB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Kw(t,e){os(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var am=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ZB=new na(3e4,6e4);function Yw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ml(s,o,a,l){return y(this,arguments,function*(t,e,n,r,i={}){return Ik(t,i,()=>y(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Tl(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:m},u);return FM()||(g.referrerPolicy="no-referrer"),am.fetch()(Dk(t,t.config.apiHost,n,f),g)}))})}function Ik(t,e,n){return y(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XB),e);try{let i=new Pw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw tm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw tm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw tm(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qw(t,d,u);hi(t,d)}}catch(i){if(i instanceof on)throw i;hi(t,"network-request-failed",{message:String(i)})}})}function JB(s,o,a,l){return y(this,arguments,function*(t,e,n,r,i={}){let u=yield Ml(t,e,n,r,i);return"mfaPendingCredential"in u&&hi(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Dk(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Kw(t.config,i):`${t.config.apiScheme}://${i}`}var Pw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),ZB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function tm(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function e$(t,e){return y(this,null,function*(){return Ml(t,"POST","/v1/accounts:delete",e)})}function Ck(t,e){return y(this,null,function*(){return Ml(t,"POST","/v1/accounts:lookup",e)})}function ju(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qw(t,e=!1){return y(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=Xw(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ju(Mw(i.auth_time)),issuedAtTime:ju(Mw(i.iat)),expirationTime:ju(Mw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Mw(t){return Number(t)*1e3}function Xw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nm("JWT malformed, contained fewer than 3 sections"),null;try{let i=cw(n);return i?JSON.parse(i):(nm("Failed to decode base64 JWT payload"),null)}catch(i){return nm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ak(t){let e=Xw(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $u(t,e,n=!1){return y(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof on&&t$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function t$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Nw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),n)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lm(t){return y(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield $u(t,Ck(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Tk(s.providerUserInfo):[],a=n$(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function Zw(t){return y(this,null,function*(){let e=gt(t);yield lm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function n$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Tk(t){return t.map(e=>{var{providerId:n}=e,r=Sh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function r$(t,e){return y(this,null,function*(){let n=yield Ik(t,{},()=>y(this,null,function*(){let r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Dk(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",am.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function i$(t,e){return y(this,null,function*(){return Ml(t,"POST","/v2/accounts:revokeToken",Yw(t,e))})}var Bu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ak(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=ak(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return y(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield r$(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return is("not implemented")}};function Js(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Al=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let n=yield $u(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qw(this,e)}reload(){return Zw(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield lm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(li(this.auth.app))return Promise.reject(ta(this.auth));let e=yield this.getIdToken();return yield $u(this,e$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,N=(u=n.createdAt)!==null&&u!==void 0?u:void 0,H=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:U,emailVerified:B,isAnonymous:re,providerData:Q,stsTokenManager:T}=n;ye(U&&T,e,"internal-error");let _=Bu.fromJSON(this.name,T);ye(typeof U=="string",e,"internal-error"),Js(f,e.name),Js(m,e.name),ye(typeof B=="boolean",e,"internal-error"),ye(typeof re=="boolean",e,"internal-error"),Js(g,e.name),Js(b,e.name),Js(A,e.name),Js(S,e.name),Js(N,e.name),Js(H,e.name);let I=new t({uid:U,auth:e,email:m,emailVerified:B,displayName:f,isAnonymous:re,photoURL:b,phoneNumber:g,tenantId:A,stsTokenManager:_,createdAt:N,lastLoginAt:H});return Q&&Array.isArray(Q)&&(I.providerData=Q.map(C=>Object.assign({},C))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,n,r=!1){return y(this,null,function*(){let i=new Bu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lm(s),s})}static _fromGetAccountInfoResponse(e,n,r){return y(this,null,function*(){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Tk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Bu;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var lk=new Map;function ss(t){os(t instanceof Function,"Expected a class definition");let e=lk.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lk.set(t,e),e)}var s$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(n,r){return y(this,null,function*(){this.storage[n]=r})}_get(n){return y(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return y(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ow=s$;function rm(t,e,n){return`firebase:${t}:${e}:${n}`}var cm=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=rm(this.userKey,i.apiKey,s),this.fullPersistenceKey=rm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Al._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(this,null,function*(){if(!n.length)return new t(ss(Ow),e,r);let i=(yield Promise.all(n.map(u=>y(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ss(Ow),o=rm(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=Al._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>y(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function ck(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rk(e))return"Blackberry";if(Pk(e))return"Webos";if(xk(e))return"Safari";if((e.includes("chrome/")||Ak(e))&&!e.includes("edge/"))return"Chrome";if(kk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Sk(t=Kt()){return/firefox\//i.test(t)}function xk(t=Kt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ak(t=Kt()){return/crios\//i.test(t)}function Mk(t=Kt()){return/iemobile/i.test(t)}function kk(t=Kt()){return/android/i.test(t)}function Rk(t=Kt()){return/blackberry/i.test(t)}function Pk(t=Kt()){return/webos/i.test(t)}function Jw(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o$(t=Kt()){var e;return Jw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a$(){return UM()&&document.documentMode===10}function Nk(t=Kt()){return Jw(t)||kk(t)||Pk(t)||Rk(t)||/windows phone/i.test(t)||Mk(t)}function Ok(t,e=[]){let n;switch(t){case"Browser":n=ck(Kt());break;case"Worker":n=`${ck(Kt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${r}`}var Fw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function l$(n){return y(this,arguments,function*(t,e={}){return Ml(t,"GET","/v2/passwordPolicy",Yw(t,e))})}var c$=6,Vw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:c$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Lw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new um(this),this.idTokenSubscription=new um(this),this.beforeStateQueue=new Fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let n=yield Ck(this,{idToken:e}),r=yield Al._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var n;if(li(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield lm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=QB()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(li(this.app))return Promise.reject(ta(this));let n=e?gt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return y(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return li(this.app)?Promise.reject(ta(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return li(this.app)?Promise.reject(ta(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(ss(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield l$(this),n=new Vw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield i$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ss(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=yield cm.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ok(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return y(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&qB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ym(t){return gt(t)}var um=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WM(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var eE={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u$(t){eE=t}function d$(t){return eE.loadJS(t)}function h$(){return eE.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function tE(t,e){let n=pr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Xo(s,e??{}))return i;hi(i,"already-initialized")}return n.initialize({options:e})}function f$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nE(t,e,n){let r=ym(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Vk(e),{host:o,port:a}=p$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||m$()}function Vk(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p$(t){let e=Vk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:uk(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:uk(o)}}}function uk(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function m$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var zu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}};function xl(t,e){return y(this,null,function*(){return JB(t,"POST","/v1/accounts:signInWithIdp",Yw(t,e))})}var g$="http://localhost",dm=class t extends zu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Sh(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return xl(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,xl(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,xl(e,n)}buildRequest(){let e={requestUri:g$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}};var Hu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var hm=class extends Hu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var _m=(()=>{class t extends hm{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return dm._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var qu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(this,null,function*(){let s=yield Al._fromIdTokenResponse(e,r,i),o=dk(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=dk(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function dk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Uw=class t extends on{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Lk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uw._fromErrorAndOperation(t,s,e,r):s})}function v$(t,e,n=!1){return y(this,null,function*(){let r=yield $u(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return qu._forOperation(t,"link",r)})}function y$(t,e,n=!1){return y(this,null,function*(){let{auth:r}=t;if(li(r.app))return Promise.reject(ta(r));let i="reauthenticate";try{let s=yield $u(t,Lk(r,i,e,t),n);ye(s.idToken,r,"internal-error");let o=Xw(s.idToken);ye(o,r,"internal-error");let{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),qu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),s}})}function _$(t,e,n=!1){return y(this,null,function*(){if(li(t.app))return Promise.reject(ta(t));let r="signIn",i=yield Lk(t,r,e),s=yield qu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function wm(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function rE(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function Ku(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function iE(t){return gt(t).signOut()}function sE(t){return y(this,null,function*(){return gt(t).delete()})}var fm="__sak";var pm=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var w$=1e3,E$=10,b$=(()=>{class t extends pm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);a$()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,E$):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},w$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return y(this,null,function*(){yield bs(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return y(this,null,function*(){let r=yield bs(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return y(this,null,function*(){yield bs(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Uk=b$;var I$=(()=>{class t extends pm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),oE=I$;function D$(t){return Promise.all(t.map(e=>y(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var C$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return y(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(d=>y(this,null,function*(){return d(r.origin,o)})),u=yield D$(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function aE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let u=aE("",20);i.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function di(){return window}function T$(t){di().location.href=t}function jk(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}function S$(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function x$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A$(){return jk()?self:null}var Bk="firebaseLocalStorageDb",M$=1,mm="firebaseLocalStorage",$k="fbase_key",ra=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Em(t,e){return t.transaction([mm],e?"readwrite":"readonly").objectStore(mm)}function k$(){let t=indexedDB.deleteDatabase(Bk);return new ra(t).toPromise()}function Bw(){let t=indexedDB.open(Bk,M$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(mm,{keyPath:$k})}catch(i){n(i)}}),t.addEventListener("success",()=>y(this,null,function*(){let r=t.result;r.objectStoreNames.contains(mm)?e(r):(r.close(),yield k$(),e(yield Bw()))}))})}function hk(t,e,n){return y(this,null,function*(){let r=Em(t,!0).put({[$k]:e,value:n});return new ra(r).toPromise()})}function R$(t,e){return y(this,null,function*(){let n=Em(t,!1).get(e),r=yield new ra(n).toPromise();return r===void 0?null:r.value})}function fk(t,e){let n=Em(t,!0).delete(e);return new ra(n).toPromise()}var P$=800,N$=3,O$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield Bw(),this.db)})}_withRetries(n){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>N$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return jk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=C$._getInstance(A$()),this.receiver._subscribe("keyChanged",(n,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var n,r;if(this.activeServiceWorker=yield S$(),!this.activeServiceWorker)return;this.sender=new jw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||x$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bw();return yield hk(n,fm,"1"),yield fk(n,fm),!0}catch{}return!1})}_withPendingWrite(n){return y(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>hk(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return y(this,null,function*(){let r=yield this._withRetries(i=>R$(i,n));return this.localCache[n]=r,r})}_remove(n){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>fk(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return y(this,null,function*(){let n=yield this._withRetries(s=>{let o=Em(s,!1).getAll();return new ra(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),P$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Wk=O$;var Yae=Fk("rcb"),Qae=new na(3e4,6e4);function zk(t,e){return e?ss(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Gu=class extends zu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function F$(t){return _$(t.auth,new Gu(t),t.bypassAuthState)}function V$(t){let{auth:e,user:n}=t;return ye(n,e,"internal-error"),y$(n,new Gu(t),t.bypassAuthState)}function L$(t){return y(this,null,function*(){let{auth:e,user:n}=t;return ye(n,e,"internal-error"),v$(n,new Gu(t),t.bypassAuthState)})}var gm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F$;case"linkViaPopup":case"linkViaRedirect":return L$;case"reauthViaPopup":case"reauthViaRedirect":return V$;default:hi(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var U$=new na(2e3,1e4);function lE(t,e,n){return y(this,null,function*(){if(li(t.app))return Promise.reject(Ur(t,"operation-not-supported-in-this-environment"));let r=ym(t);GB(t,e,Hu);let i=zk(r,n);return new j$(r,"signInViaPopup",e,i).executeNotNull()})}var j$=(()=>{class t extends gm{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return y(this,null,function*(){let n=yield this.execute();return ye(n,this.auth,"internal-error"),n})}onExecution(){return y(this,null,function*(){os(this.filter.length===1,"Popup operations only handle one event");let n=aE();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,U$.get())};n()}}t.currentPopupAction=null;return t})(),B$="pendingRedirect",im=new Map,$w=class t extends gm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=im.get(this.auth._key());if(!e){try{let r=(yield $$(this.resolver,this.auth))?yield bs(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}im.set(this.auth._key(),e)}return this.bypassAuthState||im.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return bs(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,bs(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function $$(t,e){return y(this,null,function*(){let n=H$(e),r=z$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function W$(t,e){im.set(t._key(),e)}function z$(t){return ss(t._redirectPersistence)}function H$(t){return rm(B$,t.config.apiKey,t.name)}function q$(t,e,n=!1){return y(this,null,function*(){if(li(t.app))return Promise.reject(ta(t));let r=ym(t),i=zk(r,e),o=yield new $w(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var G$=10*60*1e3,Ww=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Hk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G$&&this.cachedEventUids.clear(),this.cachedEventUids.has(pk(e))}saveEventToCache(e){this.cachedEventUids.add(pk(e)),this.lastProcessedEventTime=Date.now()}};function pk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function K$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hk(t);default:return!1}}function Y$(n){return y(this,arguments,function*(t,e={}){return Ml(t,"GET","/v1/projects",e)})}var Q$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X$=/^https?/;function Z$(t){return y(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Y$(t);for(let n of e)try{if(J$(n))return}catch{}hi(t,"unauthorized-domain")})}function J$(t){let e=Rw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!X$.test(n))return!1;if(Q$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var eW=new na(3e4,6e4);function mk(){let t=di().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tW(t){return new Promise((e,n)=>{var r,i,s;function o(){mk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mk(),n(Ur(t,"network-request-failed"))},timeout:eW.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=di().gapi)===null||s===void 0)&&s.load)o();else{let a=Fk("iframefcb");return di()[a]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},d$(`${h$()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw sm=null,e})}var sm=null;function nW(t){return sm=sm||tW(t),sm}var rW=new na(5e3,15e3),iW="__/auth/iframe",sW="emulator/auth/iframe",oW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lW(t){let e=t.config;ye(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Kw(e,sW):`https://${t.config.authDomain}/${iW}`,r={apiKey:e.apiKey,appName:t.name,v:ci},i=aW.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tl(r).slice(1)}`}function cW(t){return y(this,null,function*(){let e=yield nW(t),n=di().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:lW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oW,dontclear:!0},r=>new Promise((i,s)=>y(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ur(t,"network-request-failed"),a=di().setTimeout(()=>{s(o)},rW.get());function l(){di().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var uW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dW=500,hW=600,fW="_blank",pW="http://localhost",vm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function mW(t,e,n,r=dW,i=hW){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},uW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Kt().toLowerCase();n&&(a=Ak(u)?fW:n),Sk(u)&&(e=e||pW,l.scrollbars="yes");let d=Object.entries(l).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(o$(u)&&a!=="_self")return gW(e||"",a),new vm(null);let f=window.open(e||"",a,d);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new vm(f)}function gW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var vW="__/auth/handler",yW="emulator/auth/handler",_W=encodeURIComponent("fac");function gk(t,e,n,r,i,s){return y(this,null,function*(){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ci,eventId:i};if(e instanceof Hu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$M(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof hm){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield t._getAppCheckToken(),u=l?`#${_W}=${encodeURIComponent(l)}`:"";return`${wW(t)}?${Tl(a).slice(1)}${u}`})}function wW({config:t}){return t.emulator?Kw(t,yW):`https://${t.authDomain}/${vW}`}var kw="webStorageSupport",zw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=q$,this._overrideRedirectResult=W$}_openPopup(e,n,r,i){return y(this,null,function*(){var s;os((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield gk(e,n,r,Rw(),i);return mW(e,o,aE())})}_openRedirect(e,n,r,i){return y(this,null,function*(){yield this._originValidation(e);let s=yield gk(e,n,r,Rw(),i);return T$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(os(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return y(this,null,function*(){let n=yield cW(e),r=new Ww(e);return n.register("authEvent",i=>(ye(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kw,{type:kw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[kw];o!==void 0&&n(!!o),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nk()||xk()||Jw()}},qk=zw;var vk="@firebase/auth",yk="1.7.9";var Hw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function EW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bW(t){mn(new Vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ok(t)},u=new Lw(r,i,s,l);return f$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mn(new Vt("auth-internal",e=>{let n=ym(e.getProvider("auth").getImmediate());return(r=>new Hw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(vk,yk,EW(t)),He(vk,yk,"esm2017")}var IW=5*60,DW=hw("authIdTokenMaxAge")||IW,_k=null,CW=t=>e=>y(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DW)return;let i=n?.token;_k!==i&&(_k=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cE(t=Fr()){let e=pr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=tE(t,{popupRedirectResolver:qk,persistence:[Wk,Uk,oE]}),r=hw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=CW(s.toString());rE(n,o,()=>o(n.currentUser)),wm(n,a=>o(a))}}let i=uw("auth");return i&&nE(n,`http://${i}`),n}function TW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}u$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bW("Browser");function Kk(t){return new Ie(function(e){var n=Ku(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Yk="auth",je=class{constructor(e){return e}},ia=class{constructor(){return rs(Yk)}};var uE=new te("angularfire2.auth-instances");function mz(t,e){let n=Zs(Yk,t,e);return n&&new je(n)}function gz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new je(r)}}var vz={provide:ia,deps:[[new yt,uE]]},yz={provide:je,useFactory:mz,deps:[[new yt,uE],Zn]};function Qk(t,...e){return He("angularfire",Vr.full,"auth"),Gt([yz,vz,{provide:uE,useFactory:gz(t),multi:!0,deps:[we,bt,ui,Lr,[new yt,Xs],...e]}])}var Xk=ht(Kk,!0);var Zk=ht(sE,!0);var Jk=ht(cE,!0);var eR=ht(Ku,!0);var tR=ht(lE,!0);var nR=ht(iE,!0);var rR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iR={};var eo,dE;(function(){var t;function e(T,_){function I(){}I.prototype=_.prototype,T.D=_.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(C,x,M){for(var D=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)D[Ge-2]=arguments[Ge];return _.prototype[x].apply(C,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,I){I||(I=0);var C=Array(16);if(typeof _=="string")for(var x=0;16>x;++x)C[x]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(x=0;16>x;++x)C[x]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=T.g[0],I=T.g[1],x=T.g[2];var M=T.g[3],D=_+(M^I&(x^M))+C[0]+3614090360&4294967295;_=I+(D<<7&4294967295|D>>>25),D=M+(x^_&(I^x))+C[1]+3905402710&4294967295,M=_+(D<<12&4294967295|D>>>20),D=x+(I^M&(_^I))+C[2]+606105819&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(_^x&(M^_))+C[3]+3250441966&4294967295,I=x+(D<<22&4294967295|D>>>10),D=_+(M^I&(x^M))+C[4]+4118548399&4294967295,_=I+(D<<7&4294967295|D>>>25),D=M+(x^_&(I^x))+C[5]+1200080426&4294967295,M=_+(D<<12&4294967295|D>>>20),D=x+(I^M&(_^I))+C[6]+2821735955&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(_^x&(M^_))+C[7]+4249261313&4294967295,I=x+(D<<22&4294967295|D>>>10),D=_+(M^I&(x^M))+C[8]+1770035416&4294967295,_=I+(D<<7&4294967295|D>>>25),D=M+(x^_&(I^x))+C[9]+2336552879&4294967295,M=_+(D<<12&4294967295|D>>>20),D=x+(I^M&(_^I))+C[10]+4294925233&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(_^x&(M^_))+C[11]+2304563134&4294967295,I=x+(D<<22&4294967295|D>>>10),D=_+(M^I&(x^M))+C[12]+1804603682&4294967295,_=I+(D<<7&4294967295|D>>>25),D=M+(x^_&(I^x))+C[13]+4254626195&4294967295,M=_+(D<<12&4294967295|D>>>20),D=x+(I^M&(_^I))+C[14]+2792965006&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(_^x&(M^_))+C[15]+1236535329&4294967295,I=x+(D<<22&4294967295|D>>>10),D=_+(x^M&(I^x))+C[1]+4129170786&4294967295,_=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(_^I))+C[6]+3225465664&4294967295,M=_+(D<<9&4294967295|D>>>23),D=x+(_^I&(M^_))+C[11]+643717713&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^_&(x^M))+C[0]+3921069994&4294967295,I=x+(D<<20&4294967295|D>>>12),D=_+(x^M&(I^x))+C[5]+3593408605&4294967295,_=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(_^I))+C[10]+38016083&4294967295,M=_+(D<<9&4294967295|D>>>23),D=x+(_^I&(M^_))+C[15]+3634488961&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^_&(x^M))+C[4]+3889429448&4294967295,I=x+(D<<20&4294967295|D>>>12),D=_+(x^M&(I^x))+C[9]+568446438&4294967295,_=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(_^I))+C[14]+3275163606&4294967295,M=_+(D<<9&4294967295|D>>>23),D=x+(_^I&(M^_))+C[3]+4107603335&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^_&(x^M))+C[8]+1163531501&4294967295,I=x+(D<<20&4294967295|D>>>12),D=_+(x^M&(I^x))+C[13]+2850285829&4294967295,_=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(_^I))+C[2]+4243563512&4294967295,M=_+(D<<9&4294967295|D>>>23),D=x+(_^I&(M^_))+C[7]+1735328473&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^_&(x^M))+C[12]+2368359562&4294967295,I=x+(D<<20&4294967295|D>>>12),D=_+(I^x^M)+C[5]+4294588738&4294967295,_=I+(D<<4&4294967295|D>>>28),D=M+(_^I^x)+C[8]+2272392833&4294967295,M=_+(D<<11&4294967295|D>>>21),D=x+(M^_^I)+C[11]+1839030562&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^_)+C[14]+4259657740&4294967295,I=x+(D<<23&4294967295|D>>>9),D=_+(I^x^M)+C[1]+2763975236&4294967295,_=I+(D<<4&4294967295|D>>>28),D=M+(_^I^x)+C[4]+1272893353&4294967295,M=_+(D<<11&4294967295|D>>>21),D=x+(M^_^I)+C[7]+4139469664&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^_)+C[10]+3200236656&4294967295,I=x+(D<<23&4294967295|D>>>9),D=_+(I^x^M)+C[13]+681279174&4294967295,_=I+(D<<4&4294967295|D>>>28),D=M+(_^I^x)+C[0]+3936430074&4294967295,M=_+(D<<11&4294967295|D>>>21),D=x+(M^_^I)+C[3]+3572445317&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^_)+C[6]+76029189&4294967295,I=x+(D<<23&4294967295|D>>>9),D=_+(I^x^M)+C[9]+3654602809&4294967295,_=I+(D<<4&4294967295|D>>>28),D=M+(_^I^x)+C[12]+3873151461&4294967295,M=_+(D<<11&4294967295|D>>>21),D=x+(M^_^I)+C[15]+530742520&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^_)+C[2]+3299628645&4294967295,I=x+(D<<23&4294967295|D>>>9),D=_+(x^(I|~M))+C[0]+4096336452&4294967295,_=I+(D<<6&4294967295|D>>>26),D=M+(I^(_|~x))+C[7]+1126891415&4294967295,M=_+(D<<10&4294967295|D>>>22),D=x+(_^(M|~I))+C[14]+2878612391&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~_))+C[5]+4237533241&4294967295,I=x+(D<<21&4294967295|D>>>11),D=_+(x^(I|~M))+C[12]+1700485571&4294967295,_=I+(D<<6&4294967295|D>>>26),D=M+(I^(_|~x))+C[3]+2399980690&4294967295,M=_+(D<<10&4294967295|D>>>22),D=x+(_^(M|~I))+C[10]+4293915773&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~_))+C[1]+2240044497&4294967295,I=x+(D<<21&4294967295|D>>>11),D=_+(x^(I|~M))+C[8]+1873313359&4294967295,_=I+(D<<6&4294967295|D>>>26),D=M+(I^(_|~x))+C[15]+4264355552&4294967295,M=_+(D<<10&4294967295|D>>>22),D=x+(_^(M|~I))+C[6]+2734768916&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~_))+C[13]+1309151649&4294967295,I=x+(D<<21&4294967295|D>>>11),D=_+(x^(I|~M))+C[4]+4149444226&4294967295,_=I+(D<<6&4294967295|D>>>26),D=M+(I^(_|~x))+C[11]+3174756917&4294967295,M=_+(D<<10&4294967295|D>>>22),D=x+(_^(M|~I))+C[2]+718787259&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~_))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var I=_-this.blockSize,C=this.B,x=this.h,M=0;M<_;){if(x==0)for(;M<=I;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<_;)if(C[x++]=T.charCodeAt(M++),x==this.blockSize){i(this,C),x=0;break}}else for(;M<_;)if(C[x++]=T[M++],x==this.blockSize){i(this,C),x=0;break}}this.h=x,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var I=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=I&255,I/=256;for(this.u(T),T=Array(16),_=I=0;4>_;++_)for(var C=0;32>C;C+=8)T[I++]=this.g[_]>>>C&255;return T};function s(T,_){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=_(T)}function o(T,_){this.h=_;for(var I=[],C=!0,x=T.length-1;0<=x;x--){var M=T[x]|0;C&&M==_||(I[x]=M,C=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return S(u(-T));for(var _=[],I=1,C=0;T>=I;C++)_[C]=T/I|0,I*=4294967296;return new o(_,0)}function d(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return S(d(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(_,8)),C=f,x=0;x<T.length;x+=8){var M=Math.min(8,T.length-x),D=parseInt(T.substring(x,x+M),_);8>M?(M=u(Math.pow(_,M)),C=C.j(M).add(u(D))):(C=C.j(I),C=C.add(u(D)))}return C}var f=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-S(this).m();for(var T=0,_=1,I=0;I<this.g.length;I++){var C=this.i(I);T+=(0<=C?C:4294967296+C)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(A(this))return"-"+S(this).toString(T);for(var _=u(Math.pow(T,6)),I=this,C="";;){var x=B(I,_).g;I=N(I,x.j(_));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=x,b(I))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=N(this,T),A(T)?-1:b(T)?0:1};function S(T){for(var _=T.g.length,I=[],C=0;C<_;C++)I[C]=~T.g[C];return new o(I,~T.h).add(m)}t.abs=function(){return A(this)?S(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],C=0,x=0;x<=_;x++){var M=C+(this.i(x)&65535)+(T.i(x)&65535),D=(M>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);C=D>>>16,M&=65535,D&=65535,I[x]=D<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function N(T,_){return T.add(S(_))}t.j=function(T){if(b(this)||b(T))return f;if(A(this))return A(T)?S(this).j(S(T)):S(S(this).j(T));if(A(T))return S(this.j(S(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var _=this.g.length+T.g.length,I=[],C=0;C<2*_;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<T.g.length;x++){var M=this.i(C)>>>16,D=this.i(C)&65535,Ge=T.i(x)>>>16,rr=T.i(x)&65535;I[2*C+2*x]+=D*rr,H(I,2*C+2*x),I[2*C+2*x+1]+=M*rr,H(I,2*C+2*x+1),I[2*C+2*x+1]+=D*Ge,H(I,2*C+2*x+1),I[2*C+2*x+2]+=M*Ge,H(I,2*C+2*x+2)}for(C=0;C<_;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=_;C<2*_;C++)I[C]=0;return new o(I,0)};function H(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function U(T,_){this.g=T,this.h=_}function B(T,_){if(b(_))throw Error("division by zero");if(b(T))return new U(f,f);if(A(T))return _=B(S(T),_),new U(S(_.g),S(_.h));if(A(_))return _=B(T,S(_)),new U(S(_.g),_.h);if(30<T.g.length){if(A(T)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=_;0>=C.l(T);)I=re(I),C=re(C);var x=Q(I,1),M=Q(C,1);for(C=Q(C,2),I=Q(I,2);!b(C);){var D=M.add(C);0>=D.l(T)&&(x=x.add(I),M=D),C=Q(C,1),I=Q(I,1)}return _=N(T,x.j(_)),new U(x,_)}for(x=f;0<=T.l(_);){for(I=Math.max(1,Math.floor(T.m()/_.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(I),D=M.j(_);A(D)||0<D.l(T);)I-=C,M=u(I),D=M.j(_);b(M)&&(M=m),x=x.add(M),T=N(T,D)}return new U(x,T)}t.A=function(T){return B(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)&T.i(C);return new o(I,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)|T.i(C);return new o(I,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)^T.i(C);return new o(I,this.h^T.h)};function re(T){for(var _=T.g.length+1,I=[],C=0;C<_;C++)I[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(I,T.h)}function Q(T,_){var I=_>>5;_%=32;for(var C=T.g.length-I,x=[],M=0;M<C;M++)x[M]=0<_?T.i(M+I)>>>_|T.i(M+I+1)<<32-_:T.i(M+I);return new o(x,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dE=iR.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,eo=iR.Integer=o}).apply(typeof rR<"u"?rR:typeof self<"u"?self:typeof window<"u"?window:{});var bm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},as={};var hE,_z,kl,fE,Yu,Im,pE,mE,gE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bm=="object"&&bm];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var p=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var P=c[v];if(!(P in p))break e;p=p[P]}c=c[c.length-1],v=p[c],h=h(v),h!=v&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var p=0,v=!1,P={next:function(){if(!v&&p<c.length){var F=p++;return{value:h(F,c[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(c){return c||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,v),c.apply(h,P)}}return function(){return c.apply(h,arguments)}}function m(c,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function b(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(v,P,F){for(var J=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)J[ot-2]=arguments[ot];return h.prototype[P].apply(v,J)}}function A(c){let h=c.length;if(0<h){let p=Array(h);for(let v=0;v<h;v++)p[v]=c[v];return p}return[]}function S(c,h){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(l(v)){let P=c.length||0,F=v.length||0;c.length=P+F;for(let J=0;J<F;J++)c[P+J]=v[J]}else c.push(v)}}class N{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var re=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Q(c,h,p){for(let v in c)h.call(p,c[v],v,c)}function T(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function _(c){let h={};for(let p in c)h[p]=c[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,h){let p,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(p in v)c[p]=v[p];for(let F=0;F<I.length;F++)p=I[F],Object.prototype.hasOwnProperty.call(v,p)&&(c[p]=v[p])}}function x(c){var h=1;c=c.split(":");let p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function M(c){a.setTimeout(()=>{throw c},0)}function D(){var c=de;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class Ge{constructor(){this.h=this.g=null}add(h,p){let v=rr.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var rr=new N(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,de=new Ge,rt=()=>{let c=a.Promise.resolve(void 0);oe=()=>{c.then(vt)}};var vt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(p){M(p)}var h=rr;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}ce=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function _r(c,h){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(re){e:{try{B(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ec[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&_r.aa.h.call(this)}}b(_r,st);var Ec={2:"touch",3:"pen",4:"mouse"};_r.prototype.h=function(){_r.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ai=0;function Mn(c,h,p,v,P){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=P,this.key=++Ai,this.da=this.fa=!1}function Mi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ys(c){this.src=c,this.g={},this.h=0}ys.prototype.add=function(c,h,p,v,P){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var J=zv(c,h,v,P);return-1<J?(h=c[J],p||(h.fa=!1)):(h=new Mn(h,this.src,F,!!v,P),h.fa=p,c.push(h)),h};function Wv(c,h){var p=h.type;if(p in c.g){var v=c.g[p],P=Array.prototype.indexOf.call(v,h,void 0),F;(F=0<=P)&&Array.prototype.splice.call(v,P,1),F&&(Mi(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function zv(c,h,p,v){for(var P=0;P<c.length;++P){var F=c[P];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==v)return P}return-1}var Hv="closure_lm_"+(1e6*Math.random()|0),qv={};function qD(c,h,p,v,P){if(v&&v.once)return KD(c,h,p,v,P);if(Array.isArray(h)){for(var F=0;F<h.length;F++)qD(c,h[F],p,v,P);return null}return p=Qv(p),c&&c[Ct]?c.K(h,p,u(v)?!!v.capture:!!v,P):GD(c,h,p,!1,v,P)}function GD(c,h,p,v,P,F){if(!h)throw Error("Invalid event type");var J=u(P)?!!P.capture:!!P,ot=Kv(c);if(ot||(c[Hv]=ot=new ys(c)),p=ot.add(h,p,v,J,F),p.proxy)return p;if(v=b4(),p.proxy=v,v.src=c,v.listener=p,c.addEventListener)et||(P=J),P===void 0&&(P=!1),c.addEventListener(h.toString(),v,P);else if(c.attachEvent)c.attachEvent(QD(h.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function b4(){function c(p){return h.call(c.src,c.listener,p)}let h=I4;return c}function KD(c,h,p,v,P){if(Array.isArray(h)){for(var F=0;F<h.length;F++)KD(c,h[F],p,v,P);return null}return p=Qv(p),c&&c[Ct]?c.L(h,p,u(v)?!!v.capture:!!v,P):GD(c,h,p,!0,v,P)}function YD(c,h,p,v,P){if(Array.isArray(h))for(var F=0;F<h.length;F++)YD(c,h[F],p,v,P);else v=u(v)?!!v.capture:!!v,p=Qv(p),c&&c[Ct]?(c=c.i,h=String(h).toString(),h in c.g&&(F=c.g[h],p=zv(F,p,v,P),-1<p&&(Mi(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete c.g[h],c.h--)))):c&&(c=Kv(c))&&(h=c.g[h.toString()],c=-1,h&&(c=zv(h,p,v,P)),(p=-1<c?h[c]:null)&&Gv(p))}function Gv(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[Ct])Wv(h.i,c);else{var p=c.type,v=c.proxy;h.removeEventListener?h.removeEventListener(p,v,c.capture):h.detachEvent?h.detachEvent(QD(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=Kv(h))?(Wv(p,c),p.h==0&&(p.src=null,h[Hv]=null)):Mi(c)}}}function QD(c){return c in qv?qv[c]:qv[c]="on"+c}function I4(c,h){if(c.da)c=!0;else{h=new _r(h,this);var p=c.listener,v=c.ha||c.src;c.fa&&Gv(c),c=p.call(v,h)}return c}function Kv(c){return c=c[Hv],c instanceof ys?c:null}var Yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(c){return typeof c=="function"?c:(c[Yv]||(c[Yv]=function(h){return c.handleEvent(h)}),c[Yv])}function cn(){ct.call(this),this.i=new ys(this),this.M=this,this.F=null}b(cn,ct),cn.prototype[Ct]=!0,cn.prototype.removeEventListener=function(c,h,p,v){YD(this,c,h,p,v)};function En(c,h){var p,v=c.F;if(v)for(p=[];v;v=v.F)p.push(v);if(c=c.M,v=h.type||h,typeof h=="string")h=new st(h,c);else if(h instanceof st)h.target=h.target||c;else{var P=h;h=new st(v,c),C(h,P)}if(P=!0,p)for(var F=p.length-1;0<=F;F--){var J=h.g=p[F];P=Gd(J,v,!0,h)&&P}if(J=h.g=c,P=Gd(J,v,!0,h)&&P,P=Gd(J,v,!1,h)&&P,p)for(F=0;F<p.length;F++)J=h.g=p[F],P=Gd(J,v,!1,h)&&P}cn.prototype.N=function(){if(cn.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],v=0;v<p.length;v++)Mi(p[v]);delete c.g[h],c.h--}}this.F=null},cn.prototype.K=function(c,h,p,v){return this.i.add(String(c),h,!1,p,v)},cn.prototype.L=function(c,h,p,v){return this.i.add(String(c),h,!0,p,v)};function Gd(c,h,p,v){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,F=0;F<h.length;++F){var J=h[F];if(J&&!J.da&&J.capture==p){var ot=J.listener,Xt=J.ha||J.src;J.fa&&Wv(c.i,J),P=ot.call(Xt,v)!==!1&&P}}return P&&!v.defaultPrevented}function XD(c,h,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function ZD(c){c.g=XD(()=>{c.g=null,c.i&&(c.i=!1,ZD(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class D4 extends ct{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ZD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bc(c){ct.call(this),this.h=c,this.g={}}b(bc,ct);var JD=[];function eC(c){Q(c.g,function(h,p){this.g.hasOwnProperty(p)&&Gv(h)},c),c.g={}}bc.prototype.N=function(){bc.aa.N.call(this),eC(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xv=a.JSON.stringify,C4=a.JSON.parse,T4=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Zv(){}Zv.prototype.h=null;function tC(c){return c.h||(c.h=c.i())}function nC(){}var Ic={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jv(){st.call(this,"d")}b(Jv,st);function ey(){st.call(this,"c")}b(ey,st);var po={},rC=null;function Kd(){return rC=rC||new cn}po.La="serverreachability";function iC(c){st.call(this,po.La,c)}b(iC,st);function Dc(c){let h=Kd();En(h,new iC(h))}po.STAT_EVENT="statevent";function sC(c,h){st.call(this,po.STAT_EVENT,c),this.stat=h}b(sC,st);function bn(c){let h=Kd();En(h,new sC(h,c))}po.Ma="timingevent";function oC(c,h){st.call(this,po.Ma,c),this.size=h}b(oC,st);function Cc(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Tc(){this.g=!0}Tc.prototype.xa=function(){this.g=!1};function S4(c,h,p,v,P,F){c.info(function(){if(c.g)if(F)for(var J="",ot=F.split("&"),Xt=0;Xt<ot.length;Xt++){var ze=ot[Xt].split("=");if(1<ze.length){var un=ze[0];ze=ze[1];var dn=un.split("_");J=2<=dn.length&&dn[1]=="type"?J+(un+"="+ze+"&"):J+(un+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+h+`
`+p+`
`+J})}function x4(c,h,p,v,P,F,J){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+h+`
`+p+`
`+F+" "+J})}function Na(c,h,p,v){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+M4(c,p)+(v?" "+v:"")})}function A4(c,h){c.info(function(){return"TIMEOUT: "+h})}Tc.prototype.info=function(){};function M4(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var v=p[c];if(!(2>v.length)){var P=v[1];if(Array.isArray(P)&&!(1>P.length)){var F=P[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<P.length;J++)P[J]=""}}}}return Xv(p)}catch{return h}}var Yd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ty;function Qd(){}b(Qd,Zv),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},ty=new Qd;function _s(c,h,p,v){this.j=c,this.i=h,this.l=p,this.R=v||1,this.U=new bc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lC}function lC(){this.i=null,this.g="",this.h=!1}var cC={},ny={};function ry(c,h,p){c.L=1,c.v=eh(ki(h)),c.m=p,c.P=!0,uC(c,null)}function uC(c,h){c.F=Date.now(),Xd(c),c.A=ki(c.v);var p=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),DC(p.i,"t",v),c.C=0,p=c.j.J,c.h=new lC,c.g=$C(c.j,p?h:null,!c.m),0<c.O&&(c.M=new D4(m(c.Y,c,c.g),c.O)),h=c.U,p=c.g,v=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(JD[0]=P.toString()),P=JD);for(var F=0;F<P.length;F++){var J=qD(p,P[F],v||h.handleEvent,!1,h.h||h);if(!J)break;h.g[J.key]=J}h=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Dc(),S4(c.i,c.u,c.A,c.l,c.R,c.m)}_s.prototype.ca=function(c){c=c.target;let h=this.M;h&&Ri(c)==3?h.j():this.Y(c)},_s.prototype.Y=function(c){try{if(c==this.g)e:{let dn=Ri(this.g);var h=this.g.Ba();let Va=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||kC(this.g)))){this.J||dn!=4||h==7||(h==8||0>=Va?Dc(3):Dc(2)),iy(this);var p=this.g.Z();this.X=p;t:if(dC(this)){var v=kC(this.g);c="";var P=v.length,F=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),Sc(this);var J="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,c+=this.h.i.decode(v[h],{stream:!(F&&h==P-1)});v.length=0,this.h.g+=c,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,x4(this.i,this.u,this.A,this.l,this.R,dn,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Xt=this.g;if((ot=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ot)){var ze=ot;break t}}ze=null}if(p=ze)Na(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sy(this,p);else{this.o=!1,this.s=3,bn(12),mo(this),Sc(this);break e}}if(this.P){p=!0;let wr;for(;!this.J&&this.C<J.length;)if(wr=k4(this,J),wr==ny){dn==4&&(this.s=4,bn(14),p=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==cC){this.s=4,bn(15),Na(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else Na(this.i,this.l,wr,null),sy(this,wr);if(dC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||J.length!=0||this.h.h||(this.s=1,bn(16),p=!1),this.o=this.o&&p,!p)Na(this.i,this.l,J,"[Invalid Chunked Response]"),mo(this),Sc(this);else if(0<J.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),dy(un),un.M=!0,bn(11))}}else Na(this.i,this.l,J,null),sy(this,J);dn==4&&mo(this),this.o&&!this.J&&(dn==4?LC(this.j,this):(this.o=!1,Xd(this)))}else K4(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),mo(this),Sc(this)}}}catch{}finally{}};function dC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function k4(c,h){var p=c.C,v=h.indexOf(`
`,p);return v==-1?ny:(p=Number(h.substring(p,v)),isNaN(p)?cC:(v+=1,v+p>h.length?ny:(h=h.slice(v,v+p),c.C=v+p,h)))}_s.prototype.cancel=function(){this.J=!0,mo(this)};function Xd(c){c.S=Date.now()+c.I,hC(c,c.I)}function hC(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cc(m(c.ba,c),h)}function iy(c){c.B&&(a.clearTimeout(c.B),c.B=null)}_s.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(A4(this.i,this.A),this.L!=2&&(Dc(),bn(17)),mo(this),this.s=2,Sc(this)):hC(this,this.S-c)};function Sc(c){c.j.G==0||c.J||LC(c.j,c)}function mo(c){iy(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,eC(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function sy(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||oy(p.h,c))){if(!c.K&&oy(p.h,c)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)sh(p),rh(p);else break e;uy(p),bn(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=Cc(m(p.Za,p),6e3));if(1>=mC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else vo(p,11)}else if((c.K||p.g==c)&&sh(p),!H(h))for(P=p.Da.g.parse(h),h=0;h<P.length;h++){let ze=P[h];if(p.T=ze[0],ze=ze[1],p.G==2)if(ze[0]=="c"){p.K=ze[1],p.ia=ze[2];let un=ze[3];un!=null&&(p.la=un,p.j.info("VER="+p.la));let dn=ze[4];dn!=null&&(p.Aa=dn,p.j.info("SVER="+p.Aa));let Va=ze[5];Va!=null&&typeof Va=="number"&&0<Va&&(v=1.5*Va,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let wr=c.g;if(wr){let ah=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ah){var F=v.h;F.g||ah.indexOf("spdy")==-1&&ah.indexOf("quic")==-1&&ah.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ay(F,F.h),F.h=null))}if(v.D){let hy=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;hy&&(v.ya=hy,ft(v.I,v.D,hy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var J=c;if(v.qa=BC(v,v.J?v.ia:null,v.W),J.K){gC(v.h,J);var ot=J,Xt=v.L;Xt&&(ot.I=Xt),ot.B&&(iy(ot),Xd(ot)),v.g=J}else FC(v);0<p.i.length&&ih(p)}else ze[0]!="stop"&&ze[0]!="close"||vo(p,7);else p.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?vo(p,7):cy(p):ze[0]!="noop"&&p.l&&p.l.ta(ze),p.v=0)}}Dc(4)}catch{}}var R4=class{constructor(c,h){this.g=c,this.map=h}};function fC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pC(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mC(c){return c.h?1:c.g?c.g.size:0}function oy(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function ay(c,h){c.g?c.g.add(h):c.h=h}function gC(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}fC.prototype.cancel=function(){if(this.i=vC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function vC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.D);return h}return A(c.i)}function P4(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],p=c.length,v=0;v<p;v++)h.push(c[v]);return h}h=[],p=0;for(v in c)h[p++]=c[v];return h}function N4(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(let v in c)h[p++]=v;return h}}}function yC(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=N4(c),v=P4(c),P=v.length,F=0;F<P;F++)h.call(void 0,v[F],p&&p[F],c)}var _C=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O4(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var v=c[p].indexOf("="),P=null;if(0<=v){var F=c[p].substring(0,v);P=c[p].substring(v+1)}else F=c[p];h(F,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function go(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof go){this.h=c.h,Zd(this,c.j),this.o=c.o,this.g=c.g,Jd(this,c.s),this.l=c.l;var h=c.i,p=new Mc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),wC(this,p),this.m=c.m}else c&&(h=String(c).match(_C))?(this.h=!1,Zd(this,h[1]||"",!0),this.o=xc(h[2]||""),this.g=xc(h[3]||"",!0),Jd(this,h[4]),this.l=xc(h[5]||"",!0),wC(this,h[6]||"",!0),this.m=xc(h[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}go.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Ac(h,EC,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Ac(h,EC,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(Ac(p,p.charAt(0)=="/"?L4:V4,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",Ac(p,j4)),c.join("")};function ki(c){return new go(c)}function Zd(c,h,p){c.j=p?xc(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Jd(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function wC(c,h,p){h instanceof Mc?(c.i=h,B4(c.i,c.h)):(p||(h=Ac(h,U4)),c.i=new Mc(h,c.h))}function ft(c,h,p){c.i.set(h,p)}function eh(c){return ft(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xc(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ac(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,F4),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function F4(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var EC=/[#\/\?@]/g,V4=/[#\?:]/g,L4=/[#\?]/g,U4=/[#\?@]/g,j4=/#/g;function Mc(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function ws(c){c.g||(c.g=new Map,c.h=0,c.i&&O4(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Mc.prototype,t.add=function(c,h){ws(this),this.i=null,c=Oa(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function bC(c,h){ws(c),h=Oa(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function IC(c,h){return ws(c),h=Oa(c,h),c.g.has(h)}t.forEach=function(c,h){ws(this),this.g.forEach(function(p,v){p.forEach(function(P){c.call(h,P,v,this)},this)},this)},t.na=function(){ws(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){let P=c[v];for(let F=0;F<P.length;F++)p.push(h[v])}return p},t.V=function(c){ws(this);let h=[];if(typeof c=="string")IC(this,c)&&(h=h.concat(this.g.get(Oa(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},t.set=function(c,h){return ws(this),this.i=null,c=Oa(this,c),IC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function DC(c,h,p){bC(c,h),0<p.length&&(c.i=null,c.g.set(Oa(c,h),A(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];let F=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var P=F;J[v]!==""&&(P+="="+encodeURIComponent(String(J[v]))),c.push(P)}}return this.i=c.join("&")};function Oa(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function B4(c,h){h&&!c.j&&(ws(c),c.i=null,c.g.forEach(function(p,v){var P=v.toLowerCase();v!=P&&(bC(this,v),DC(this,P,p))},c)),c.j=h}function $4(c,h){let p=new Tc;if(a.Image){let v=new Image;v.onload=g(Es,p,"TestLoadImage: loaded",!0,h,v),v.onerror=g(Es,p,"TestLoadImage: error",!1,h,v),v.onabort=g(Es,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=g(Es,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else h(!1)}function W4(c,h){let p=new Tc,v=new AbortController,P=setTimeout(()=>{v.abort(),Es(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:v.signal}).then(F=>{clearTimeout(P),F.ok?Es(p,"TestPingServer: ok",!0,h):Es(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),Es(p,"TestPingServer: error",!1,h)})}function Es(c,h,p,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(p)}catch{}}function z4(){this.g=new T4}function H4(c,h,p){let v=p||"";try{yC(c,function(P,F){let J=P;u(P)&&(J=Xv(P)),h.push(v+F+"="+encodeURIComponent(J))})}catch(P){throw h.push(v+"type="+encodeURIComponent("_badmap")),P}}function kc(c){this.l=c.Ub||null,this.j=c.eb||!1}b(kc,Zv),kc.prototype.g=function(){return new th(this.l,this.j)},kc.prototype.i=function(c){return function(){return c}}({});function th(c,h){cn.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(th,cn),t=th.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Pc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pc(this)),this.g&&(this.readyState=3,Pc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function CC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?Rc(this):Pc(this),this.readyState==3&&CC(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Rc(this))},t.Qa=function(c){this.g&&(this.response=c,Rc(this))},t.ga=function(){this.g&&Rc(this)};function Rc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Pc(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function Pc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function TC(c){let h="";return Q(c,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function ly(c,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=TC(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):ft(c,h,p))}function Tt(c){cn.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tt,cn);var q4=/^https?$/i,G4=["POST","PUT"];t=Tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ty.g(),this.v=this.o?tC(this.o):tC(ty),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(F){SC(this,F);return}if(c=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)p.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let F of v.keys())p.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(G4,h,void 0))||v||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,J]of p)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{MC(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){SC(this,F)}};function SC(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,xC(c),nh(c)}function xC(c){c.A||(c.A=!0,En(c,"complete"),En(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,En(this,"complete"),En(this,"abort"),nh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?AC(this):this.bb())},t.bb=function(){AC(this)};function AC(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Ri(c)!=4||c.Z()!=2)){if(c.u&&Ri(c)==4)XD(c.Ea,0,c);else if(En(c,"readystatechange"),Ri(c)==4){c.h=!1;try{let J=c.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=J===0){var P=String(c.D).match(_C)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),v=!q4.test(P?P.toLowerCase():"")}p=v}if(p)En(c,"complete"),En(c,"success");else{c.m=6;try{var F=2<Ri(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",xC(c)}}finally{nh(c)}}}}function nh(c,h){if(c.g){MC(c);let p=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||En(c,"ready");try{p.onreadystatechange=v}catch{}}}function MC(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ri(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),C4(h)}};function kC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function K4(c){let h={};c=(c.g&&2<=Ri(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(H(c[v]))continue;var p=x(c[v]);let P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let F=h[P]||[];h[P]=F,F.push(p)}T(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function RC(c){this.Aa=0,this.i=[],this.j=new Tc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nc("baseRetryDelayMs",5e3,c),this.cb=Nc("retryDelaySeedMs",1e4,c),this.Wa=Nc("forwardChannelMaxRetries",2,c),this.wa=Nc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fC(c&&c.concurrentRequestLimit),this.Da=new z4,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=RC.prototype,t.la=8,t.G=1,t.connect=function(c,h,p,v){bn(0),this.W=c,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=BC(this,null,this.W),ih(this)};function cy(c){if(PC(c),c.G==3){var h=c.U++,p=ki(c.I);if(ft(p,"SID",c.K),ft(p,"RID",h),ft(p,"TYPE","terminate"),Oc(c,p),h=new _s(c,c.j,h),h.L=2,h.v=eh(ki(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=$C(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Xd(h)}jC(c)}function rh(c){c.g&&(dy(c),c.g.cancel(),c.g=null)}function PC(c){rh(c),c.u&&(a.clearTimeout(c.u),c.u=null),sh(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ih(c){if(!pC(c.h)&&!c.s){c.s=!0;var h=c.Ga;oe||rt(),ce||(oe(),ce=!0),de.add(h,c),c.B=0}}function Y4(c,h){return mC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cc(m(c.Ga,c,h),UC(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new _s(this,this.j,c),F=this.o;if(this.S&&(F?(F=_(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(P.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=OC(this,P,h),p=ki(this.I),ft(p,"RID",c),ft(p,"CVER",22),this.D&&ft(p,"X-HTTP-Session-Id",this.D),Oc(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(TC(F)))+"&"+h:this.m&&ly(p,this.m,F)),ay(this.h,P),this.Ua&&ft(p,"TYPE","init"),this.P?(ft(p,"$req",h),ft(p,"SID","null"),P.T=!0,ry(P,p,null)):ry(P,p,h),this.G=2}}else this.G==3&&(c?NC(this,c):this.i.length==0||pC(this.h)||NC(this))};function NC(c,h){var p;h?p=h.l:p=c.U++;let v=ki(c.I);ft(v,"SID",c.K),ft(v,"RID",p),ft(v,"AID",c.T),Oc(c,v),c.m&&c.o&&ly(v,c.m,c.o),p=new _s(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=OC(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ay(c.h,p),ry(p,v,h)}function Oc(c,h){c.H&&Q(c.H,function(p,v){ft(h,v,p)}),c.l&&yC({},function(p,v){ft(h,v,p)})}function OC(c,h,p){p=Math.min(c.i.length,p);var v=c.l?m(c.l.Na,c.l,c):null;e:{var P=c.i;let F=-1;for(;;){let J=["count="+p];F==-1?0<p?(F=P[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let ot=!0;for(let Xt=0;Xt<p;Xt++){let ze=P[Xt].g,un=P[Xt].map;if(ze-=F,0>ze)F=Math.max(0,P[Xt].g-100),ot=!1;else try{H4(un,J,"req"+ze+"_")}catch{v&&v(un)}}if(ot){v=J.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,v}function FC(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;oe||rt(),ce||(oe(),ce=!0),de.add(h,c),c.v=0}}function uy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cc(m(c.Fa,c),UC(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,VC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cc(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),rh(this),VC(this))};function dy(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function VC(c){c.g=new _s(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=ki(c.qa);ft(h,"RID","rpc"),ft(h,"SID",c.K),ft(h,"AID",c.T),ft(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&ft(h,"TO",c.ja),ft(h,"TYPE","xmlhttp"),Oc(c,h),c.m&&c.o&&ly(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=eh(ki(h)),p.m=null,p.P=!0,uC(p,c)}t.Za=function(){this.C!=null&&(this.C=null,rh(this),uy(this),bn(19))};function sh(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function LC(c,h){var p=null;if(c.g==h){sh(c),dy(c),c.g=null;var v=2}else if(oy(c.h,h))p=h.D,gC(c.h,h),v=1;else return;if(c.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var P=c.B;v=Kd(),En(v,new oC(v,p)),ih(c)}else FC(c);else if(P=h.s,P==3||P==0&&0<h.X||!(v==1&&Y4(c,h)||v==2&&uy(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),P){case 1:vo(c,5);break;case 4:vo(c,10);break;case 3:vo(c,6);break;default:vo(c,2)}}}function UC(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function vo(c,h){if(c.j.info("Error code "+h),h==2){var p=m(c.fb,c),v=c.Xa;let P=!v;v=new go(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zd(v,"https"),eh(v),P?$4(v.toString(),p):W4(v.toString(),p)}else bn(2);c.G=0,c.l&&c.l.sa(h),jC(c),PC(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function jC(c){if(c.G=0,c.ka=[],c.l){let h=vC(c.h);(h.length!=0||c.i.length!=0)&&(S(c.ka,h),S(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function BC(c,h,p){var v=p instanceof go?ki(p):new go(p);if(v.g!="")h&&(v.g=h+"."+v.g),Jd(v,v.s);else{var P=a.location;v=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var F=new go(null);v&&Zd(F,v),h&&(F.g=h),P&&Jd(F,P),p&&(F.l=p),v=F}return p=c.D,h=c.ya,p&&h&&ft(v,p,h),ft(v,"VER",c.la),Oc(c,v),v}function $C(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new Tt(new kc({eb:p})):new Tt(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WC(){}t=WC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oh(){}oh.prototype.g=function(c,h){return new jn(c,h)};function jn(c,h){cn.call(this),this.g=new RC(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!H(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Fa(this)}b(jn,cn),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){cy(this.g)},jn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=Xv(c),c=p);h.i.push(new R4(h.Ya++,c)),h.G==3&&ih(h)},jn.prototype.N=function(){this.g.l=null,delete this.j,cy(this.g),delete this.g,jn.aa.N.call(this)};function zC(c){Jv.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}b(zC,Jv);function HC(){ey.call(this),this.status=1}b(HC,ey);function Fa(c){this.g=c}b(Fa,WC),Fa.prototype.ua=function(){En(this.g,"a")},Fa.prototype.ta=function(c){En(this.g,new zC(c))},Fa.prototype.sa=function(c){En(this.g,new HC)},Fa.prototype.ra=function(){En(this.g,"b")},oh.prototype.createWebChannel=oh.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,gE=as.createWebChannelTransport=function(){return new oh},mE=as.getStatEventTarget=function(){return Kd()},pE=as.Event=po,Im=as.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yd.NO_ERROR=0,Yd.TIMEOUT=8,Yd.HTTP_ERROR=6,Yu=as.ErrorCode=Yd,aC.COMPLETE="complete",fE=as.EventType=aC,nC.EventType=Ic,Ic.OPEN="a",Ic.CLOSE="b",Ic.ERROR="c",Ic.MESSAGE="d",cn.prototype.listen=cn.prototype.K,kl=as.WebChannel=nC,_z=as.FetchXmlHttpFactory=kc,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,hE=as.XhrIo=Tt}).apply(typeof bm<"u"?bm:typeof self<"u"?self:typeof window<"u"?window:{});var sR="@firebase/firestore";var Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");var Xl="10.14.0";var la=new Ys("@firebase/firestore");function Qu(){return la.logLevel}function ae(t,...e){if(la.logLevel<=Le.DEBUG){let n=e.map(Zb);la.debug(`Firestore (${Xl}): ${t}`,...n)}}function ls(t,...e){if(la.logLevel<=Le.ERROR){let n=e.map(Zb);la.error(`Firestore (${Xl}): ${t}`,...n)}}function Ll(t,...e){if(la.logLevel<=Le.WARN){let n=e.map(Zb);la.warn(`Firestore (${Xl}): ${t}`,...n)}}function Zb(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ge(t="Unexpected state"){let e=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function nt(t,e){t||ge()}function Ee(t,e){return t}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},se=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var jr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var xm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},EE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}},bE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},IE=class{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>y(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new xm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new Yt(e)}},DE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},CE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},TE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},SE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){nt(this.o===void 0);let r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new TE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function wz(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Am=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=wz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function qe(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var an=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new an(0,0))}static max(){return new t(new an(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Mm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},It=class t extends Mm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Ez=/^[_a-zA-Z][_a-zA-Z0-9]*$/,er=class t extends Mm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Ez.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new se(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var pe=class t{constructor(e){this.path=e}static fromPath(e){return new t(It.fromString(e))}static fromName(e){return new t(It.fromString(e).popFirst(5))}static empty(){return new t(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new It(e.slice()))}};var xE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};xE.UNKNOWN_ID=-1;function bz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new an(n+1,0):new an(n,r));return new ca(i,pe.empty(),e)}function Iz(t){return new ca(t.readTime,t.key,-1)}var ca=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Te.min(),pe.empty(),-1)}static max(){return new t(Te.max(),pe.empty(),-1)}};function Dz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}var Cz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function yd(t){return y(this,null,function*(){if(t.code!==q.FAILED_PRECONDITION||t.message!==Cz)throw t;ae("LocalStore","Unexpectedly lost primary lease")})}var X=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Tz(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _d(t){return t.name==="IndexedDbTransactionError"}var jR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function og(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function Sz(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Zle=[...xz,"documentOverlays"],Az=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mz=Az,kz=[...Mz,"indexConfiguration","indexState","indexEntries"];var Jle=[...kz,"globals"];function oR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Rt=class t{constructor(e,n){this.comparator=e,this.root=n||pi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}},Ol=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pi=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();let e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var vn=class t{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new km(this.data.getIterator())}getIteratorFrom(e){return new km(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},km=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mr=class t{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new t([])}unionWith(e){let n=new vn(er.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Rm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _n=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Rm("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_n.EMPTY_BYTE_STRING=new _n("");var Rz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(nt(!!t),typeof t=="string"){let e=0,n=Rz.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}function Jb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eI(t){let e=t.mapValue.fields.__previous_value__;return Jb(e)?eI(e):e}function rd(t){let e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new an(e.seconds,e.nanos)}var ME=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Pm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Dm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jb(t)?4:WR(t)?9007199254740991:$R(t)?10:11:ge()}function yi(t,e){if(t===e)return!0;let n=ua(t);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=cs(i.timestampValue),a=cs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return no(i.bytesValue).isEqual(no(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return _t(i.geoPointValue.latitude)===_t(s.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _t(i.integerValue)===_t(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=_t(i.doubleValue),a=_t(s.doubleValue);return o===a?nd(o)===nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(oR(o)!==oR(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!yi(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function id(t,e){return(t.values||[]).find(n=>yi(n,e))!==void 0}function jl(t,e){if(t===e)return 0;let n=ua(t),r=ua(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=_t(s.integerValue||s.doubleValue),l=_t(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aR(t.timestampValue,e.timestampValue);case 4:return aR(rd(t),rd(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=no(s),l=no(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=qe(a[u],l[u]);if(d!==0)return d}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=qe(_t(s.latitude),_t(o.latitude));return a!==0?a:qe(_t(s.longitude),_t(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lR(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;let f=s.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(l=m.value)===null||l===void 0?void 0:l.arrayValue,A=qe(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=b?.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:lR(g,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Dm.mapValue&&o===Dm.mapValue)return 0;if(s===Dm.mapValue)return 1;if(o===Dm.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let m=qe(l[f],d[f]);if(m!==0)return m;let g=jl(a[l[f]],u[d[f]]);if(g!==0)return g}return qe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ge()}}function aR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);let n=cs(t),r=cs(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function lR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=jl(n[i],r[i]);if(s)return s}return qe(n.length,r.length)}function Bl(t){return kE(t)}function kE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=kE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${kE(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function cR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function RE(t){return!!t&&"integerValue"in t}function tI(t){return!!t&&"arrayValue"in t}function uR(t){return!!t&&"nullValue"in t}function dR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tm(t){return!!t&&"mapValue"in t}function $R(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Jn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=er.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Tm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Zu(this.value))}};function zR(t){let e=[];return ga(t.fields,(n,r)=>{let i=new er([n]);if(Tm(r)){let s=zR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new mr(e)}var Br=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Te.min(),Te.min(),Te.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Te.min(),Te.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Te.min(),Te.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $l=class{constructor(e,n){this.position=e,this.inclusive=n}};function hR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=jl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}var Wl=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Pz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nm=class{},jt=class t extends Nm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NE(e,n,r):n==="array-contains"?new VE(e,r):n==="in"?new LE(e,r):n==="not-in"?new UE(e,r):n==="array-contains-any"?new jE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OE(e,r):new FE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jl(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$r=class t extends Nm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return HR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function HR(t){return t.op==="and"}function qR(t){return Nz(t)&&HR(t)}function Nz(t){for(let e of t.filters)if(e instanceof $r)return!1;return!0}function PE(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(qR(t))return t.filters.map(e=>PE(e)).join(",");{let e=t.filters.map(n=>PE(n)).join(",");return`${t.op}(${e})`}}function GR(t,e){return t instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&yi(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&GR(o,i.filters[a]),!0):!1}(t,e):void ge()}function KR(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(KR).join(" ,")+"}"}(t):"Filter"}var NE=class extends jt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){let n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}},OE=class extends jt{constructor(e,n){super(e,"in",n),this.keys=YR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},FE=class extends jt{constructor(e,n){super(e,"not-in",n),this.keys=YR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function YR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}var VE=class extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return tI(n)&&id(n.arrayValue,this.value)}},LE=class extends jt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&id(this.value.arrayValue,n)}},UE=class extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!id(this.value.arrayValue,n)}},jE=class extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!tI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>id(this.value.arrayValue,r))}};var BE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function pR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BE(t,e,n,r,i,s,o)}function nI(t){let e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.ue=n}return e.ue}function rI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fR(t.startAt,e.startAt)&&fR(t.endAt,e.endAt)}function $E(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var da=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Oz(t,e,n,r,i,s,o,a){return new da(t,e,n,r,i,s,o,a)}function ag(t){return new da(t)}function mR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QR(t){return t.collectionGroup!==null}function Ju(t){let e=Ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vn(er.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wl(s,r))}),n.has(er.keyField().canonicalString())||e.ce.push(new Wl(er.keyField(),r))}return e.ce}function mi(t){let e=Ee(t);return e.le||(e.le=Fz(e,Ju(t))),e.le}function Fz(t,e){if(t.limitType==="F")return pR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Wl(i.field,s)});let n=t.endAt?new $l(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $l(t.startAt.position,t.startAt.inclusive):null;return pR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function WE(t,e){let n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zE(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lg(t,e){return rI(mi(t),mi(e))&&t.limitType===e.limitType}function XR(t){return`${nI(mi(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>KR(i)).join(", ")}]`),og(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(mi(t))}; limitType=${t.limitType})`}function cg(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ju(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let u=hR(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ju(r),i)||r.endAt&&!function(o,a,l){let u=hR(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ju(r),i))}(t,e)}function Vz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZR(t){return(e,n)=>{let r=!1;for(let i of Ju(t)){let s=Lz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lz(t,e,n){let r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?jl(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}var ro=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return BR(this.inner)}size(){return this.innerSize}};var Uz=new Rt(pe.comparator);function us(){return Uz}var JR=new Rt(pe.comparator);function Xu(...t){let e=JR;for(let n of t)e=e.insert(n.key,n);return e}function eP(t){let e=JR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function sa(){return ed()}function tP(){return ed()}function ed(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}var jz=new Rt(pe.comparator),Bz=new vn(pe.comparator);function Ue(...t){let e=Bz;for(let n of t)e=e.add(n);return e}var $z=new vn(qe);function Wz(){return $z}function iI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function nP(t){return{integerValue:""+t}}function zz(t,e){return Sz(e)?nP(e):iI(t,e)}var zl=class{constructor(){this._=void 0}};function Hz(t,e,n){return t instanceof Hl?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jb(s)&&(s=eI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ha?iP(t,e):t instanceof fa?sP(t,e):function(i,s){let o=rP(i,s),a=gR(o)+gR(i.Pe);return RE(o)&&RE(i.Pe)?nP(a):iI(i.serializer,a)}(t,e)}function qz(t,e,n){return t instanceof ha?iP(t,e):t instanceof fa?sP(t,e):n}function rP(t,e){return t instanceof ql?function(r){return RE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Hl=class extends zl{},ha=class extends zl{constructor(e){super(),this.elements=e}};function iP(t,e){let n=oP(e);for(let r of t.elements)n.some(i=>yi(i,r))||n.push(r);return{arrayValue:{values:n}}}var fa=class extends zl{constructor(e){super(),this.elements=e}};function sP(t,e){let n=oP(e);for(let r of t.elements)n=n.filter(i=>!yi(i,r));return{arrayValue:{values:n}}}var ql=class extends zl{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function gR(t){return _t(t.integerValue||t.doubleValue)}function oP(t){return tI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Gz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ha&&i instanceof ha||r instanceof fa&&i instanceof fa?Ul(r.elements,i.elements,yi):r instanceof ql&&i instanceof ql?yi(r.Pe,i.Pe):r instanceof Hl&&i instanceof Hl}(t.transform,e.transform)}var HE=class{constructor(e,n){this.version=e,this.transformResults=n}},gi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Gl=class{};function aP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sd(t.key,gi.none()):new pa(t.key,t.data,gi.none());{let n=t.data,r=Jn.empty(),i=new vn(er.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _i(t.key,r,new mr(i.toArray()),gi.none())}}function Kz(t,e,n){t instanceof pa?function(i,s,o){let a=i.value.clone(),l=yR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _i?function(i,s,o){if(!Sm(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=yR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(lP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function td(t,e,n,r){return t instanceof pa?function(s,o,a,l){if(!Sm(s.precondition,o))return a;let u=s.value.clone(),d=_R(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _i?function(s,o,a,l){if(!Sm(s.precondition,o))return a;let u=_R(s.fieldTransforms,l,o),d=o.data;return d.setAll(lP(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Sm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Yz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=rP(r.transform,i||null);s!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,s))}return n||null}function vR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,(s,o)=>Gz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var pa=class extends Gl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_i=class extends Gl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function lP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function yR(t,e,n){let r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qz(o,a,n[i]))}return r}function _R(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Hz(s,o,e))}return r}var sd=class extends Gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qE=class extends Gl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var GE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Kz(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=td(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=td(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let l=aP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>vR(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>vR(n,r))}},KE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return jz}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var YE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var QE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Lt,$e;function Qz(t){switch(t){default:return ge();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function cP(t){if(t===void 0)return ls("GRPC error has no .code"),q.UNKNOWN;switch(t){case Lt.OK:return q.OK;case Lt.CANCELLED:return q.CANCELLED;case Lt.UNKNOWN:return q.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return q.INTERNAL;case Lt.UNAVAILABLE:return q.UNAVAILABLE;case Lt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Lt.NOT_FOUND:return q.NOT_FOUND;case Lt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Lt.ABORTED:return q.ABORTED;case Lt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Lt.DATA_LOSS:return q.DATA_LOSS;default:return ge()}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";var wR=null;function Xz(){return new TextEncoder}var Zz=new eo([4294967295,4294967295],0);function ER(t){let e=Xz().encode(t),n=new dE;return n.update(e),new Uint8Array(n.digest())}function bR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new eo([n,r],0),new eo([i,s],0)]}var XE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oa(`Invalid padding: ${n}`);if(r<0)throw new oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=eo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(eo.fromNumber(r)));return i.compare(Zz)===1&&(i=new eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=ER(e),[r,i]=bR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=ER(e),[r,i]=bR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},oa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Om=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Te.min(),i,new Rt(qe),us(),Ue())}},od=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Ue(),Ue(),Ue())}};var Fl=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Fm=class{constructor(e,n){this.targetId=e,this.me=n}},Vm=class{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Lm=class{constructor(){this.fe=0,this.ge=DR(),this.pe=_n.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new od(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ZE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=us(),this.qe=IR(),this.Qe=new Rt(qe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if($E(s))if(r===0){let o=new pe(s.path);this.Ue(n,o,Br.newNoDocument(o,Te.min()))}else nt(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}wR?.et(function(d,f,m,g,b){var A,S,N,H,U,B;let re={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},Q=f.unchangedNames;return Q&&(re.bloomFilter={applied:b===0,hashCount:(A=Q?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(H=(N=(S=Q?.bits)===null||S===void 0?void 0:S.bitmap)===null||N===void 0?void 0:N.length)!==null&&H!==void 0?H:0,padding:(B=(U=Q?.bits)===null||U===void 0?void 0:U.padding)!==null&&B!==void 0?B:0,mightContain:T=>{var _;return(_=g?.mightContain(T))!==null&&_!==void 0&&_}}),re}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=no(r).toUint8Array()}catch(l){if(l instanceof Rm)return Ll("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new XE(o,i,s)}catch(l){return Ll(l instanceof oa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&$E(a.target)){let l=new pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Br.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Om(e,n,this.Qe,this.ke,r);return this.ke=us(),this.qe=IR(),this.Qe=new Rt(qe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Lm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vn(qe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Lm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function IR(){return new Rt(pe.comparator)}function DR(){return new Rt(pe.comparator)}var Jz={asc:"ASCENDING",desc:"DESCENDING"},eH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tH={and:"AND",or:"OR"},JE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function eb(t,e){return t.useProto3Json||og(e)?e:{value:e}}function Um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nH(t,e){return Um(t,e.toTimestamp())}function vi(t){return nt(!!t),Te.fromTimestamp(function(n){let r=cs(n);return new an(r.seconds,r.nanos)}(t))}function sI(t,e){return tb(t,e).canonicalString()}function tb(t,e){let n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dP(t){let e=It.fromString(t);return nt(gP(e)),e}function nb(t,e){return sI(t.databaseId,e.path)}function vE(t,e){let n=dP(e);if(n.get(1)!==t.databaseId.projectId)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(fP(n))}function hP(t,e){return sI(t.databaseId,e)}function rH(t){let e=dP(t);return e.length===4?It.emptyPath():fP(e)}function rb(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fP(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CR(t,e,n){return{name:nb(t,e),fields:n.value.mapValue.fields}}function iH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(nt(d===void 0||typeof d=="string"),_n.fromBase64String(d||"")):(nt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),_n.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?q.UNKNOWN:cP(u.code);return new se(d,u.message||"")}(o);n=new Vm(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vE(t,r.document.name),s=vi(r.document.updateTime),o=r.document.createTime?vi(r.document.createTime):Te.min(),a=new Jn({mapValue:{fields:r.document.fields}}),l=Br.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Fl(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vE(t,r.document),s=r.readTime?vi(r.readTime):Te.min(),o=Br.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vE(t,r.document),s=r.removedTargetIds||[];n=new Fl([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new QE(i,s),a=r.targetId;n=new Fm(a,o)}}return n}function sH(t,e){let n;if(e instanceof pa)n={update:CR(t,e.key,e.value)};else if(e instanceof sd)n={delete:nb(t,e.key)};else if(e instanceof _i)n={update:CR(t,e.key,e.data),updateMask:pH(e.fieldMask)};else{if(!(e instanceof qE))return ge();n={verify:nb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function oH(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vi(i.updateTime):vi(s);return o.isEqual(Te.min())&&(o=vi(s)),new HE(o,i.transformResults||[])}(n,e))):[]}function aH(t,e){return{documents:[hP(t,e.path)]}}function lH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hP(t,i);let s=function(u){if(u.length!==0)return mP($r.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Pl(m.field),direction:dH(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=eb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function cH(t){let e=rH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){nt(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=pP(f);return m instanceof $r&&qR(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new Wl(Nl(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,og(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){let m=!!f.before,g=f.values||[];return new $l(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,g=f.values||[];return new $l(g,m)}(n.endAt)),Oz(e,i,o,s,a,"F",l,u)}function uH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Nl(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Nl(n.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Nl(n.unaryFilter.field);return jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Nl(n.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(Nl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>pP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function dH(t){return Jz[t]}function hH(t){return eH[t]}function fH(t){return tH[t]}function Pl(t){return{fieldPath:t.canonicalString()}}function Nl(t){return er.fromServerFormat(t.fieldPath)}function mP(t){return t instanceof jt?function(n){if(n.op==="=="){if(dR(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NAN"}};if(uR(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dR(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NAN"}};if(uR(n.value))return{unaryFilter:{field:Pl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(n.field),op:hH(n.op),value:n.value}}}(t):t instanceof $r?function(n){let r=n.getFilters().map(i=>mP(i));return r.length===1?r[0]:{compositeFilter:{op:fH(n.op),filters:r}}}(t):ge()}function pH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ad=class t{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=_n.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ib=class{constructor(e){this.ct=e}};function mH(t){let e=cH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zE(e,e.limit,"L"):e}var jm=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(_t(e.integerValue));else if("doubleValue"in e){let r=_t(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),nd(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=cs(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(no(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?WR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):$R(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ge()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(_t(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),pe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};jm.vt=new jm;var sb=class{constructor(){this.un=new ob}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ca.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}},ob=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vn(It.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(It.comparator)).toArray()}};var tce=new Uint8Array(0);var fi=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);var ld=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ab=class{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var cb=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&td(r.mutation,i,mr.empty(),an.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){let i=sa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=sa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=us(),o=ed(),a=function(){return ed()}();return n.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof _i)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),td(d.mutation,u,d.mutation.getFieldMask(),an.now())):o.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new lb(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ed(),i=new Rt((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let d=r.get(l)||mr.empty();d=a.applyToLocalView(u,d),r.set(l,d);let f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,f=tP();d.forEach(m=>{if(!s.has(m)){let g=aP(n.get(m),r.get(m));g!==null&&f.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(sa()),a=-1,l=s;return o.next(u=>X.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ue())).next(d=>({batchId:a,changes:eP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Xu();return this.indexManager.getCollectionParents(e,s).next(a=>X.forEach(a,l=>{let u=function(f,m){return new da(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Br.newInvalidDocument(d)))});let a=Xu();return o.forEach((l,u)=>{let d=s.get(l);d!==void 0&&td(d.mutation,u,mr.empty(),an.now()),cg(n,u)&&(a=a.insert(l,u))}),a})}};var ub=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vi(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:mH(i.bundledQuery),readTime:vi(i.readTime)}}(n)),X.resolve()}};var db=class{constructor(){this.overlays=new Rt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){let r=sa();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){let i=sa(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Rt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=sa(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=sa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return X.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YE(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var hb=class{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}};var cd=class{constructor(){this.Tr=new vn(Ut.Er),this.dr=new vn(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new pe(new It([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new pe(new It([])),r=new Ut(n,e),i=new Ut(n,e+1),s=Ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ut=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||pe.comparator(e.key,n.key)}};var fb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vn(Ut.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new GE(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(qe);return n.forEach(i=>{let s=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;pe.isDocumentKey(s)||(s=s.child(""));let o=new Ut(new pe(s),0),a=new vn(qe);return this.br.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),X.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{let s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var pb=class{constructor(e){this.Mr=e,this.docs=function(){return new Rt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Br.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=us(),o=n.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Dz(Iz(d),r)<=0||(i.has(d.key)||cg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mb(this)}getSize(e){return X.resolve(this.size)}},mb=class extends ab{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var gb=class{constructor(e){this.persistence=e,this.Nr=new ro(n=>nI(n),rI),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cd,this.targetCount=0,this.kr=ld.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new ld(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}};var vb=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jR(0),this.Kr=!1,this.Kr=!0,this.$r=new hb,this.referenceDelegate=e(this),this.Ur=new gb(this),this.indexManager=new sb,this.remoteDocumentCache=function(i){return new pb(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ib(n),this.Gr=new ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new db,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new fb(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);let i=new yb(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},yb=class extends AE{constructor(e){super(),this.currentSequenceNumber=e}},_b=class t{constructor(e){this.persistence=e,this.Jr=new cd,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{let i=pe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var wb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ue(),i=Ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Eb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jM()?8:Tz(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Eb;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Qu()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Qu()<=Le.DEBUG&&ae("QueryEngine","Query:",Rl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qu()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):X.resolve())}Yi(e,n){if(mR(n))return X.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zE(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,zE(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return mR(n)||i.isEqual(Te.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?X.resolve(null):(Qu()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rl(n)),this.rs(e,o,n,bz(i,-1)).next(a=>a))})}ts(e,n){let r=new vn(ZR(e));return n.forEach((i,s)=>{cg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Qu()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.Ji.getDocumentsMatchingQuery(e,n,ca.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ib=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Rt(qe),this._s=new ro(s=>nI(s),rI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function gH(t,e,n,r){return new Ib(t,e,n,r)}function vP(t,e){return y(this,null,function*(){let n=Ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=Ue();for(let u of i){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function vH(t,e){let n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let f=u.batch,m=f.keys(),g=X.resolve();return m.forEach(b=>{g=g.next(()=>d.getEntry(l,b)).next(A=>{let S=u.docVersions.get(b);nt(S!==null),A.version.compareTo(S)<0&&(f.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),d.addEntry(A)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yP(t){let e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yH(t,e){let n=Ee(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(_n.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(A,S,N){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(s,g))});let l=us(),u=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(_H(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Te.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function _H(t,e,n){let r=Ue(),i=Ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=us();return n.forEach((a,l)=>{let u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function wH(t,e){let n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EH(t,e){let n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ad(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Db(t,e,n){return y(this,null,function*(){let r=Ee(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_d(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function TR(t,e,n){let r=Ee(t),i=Te.min(),s=Ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let f=Ee(l),m=f._s.get(d);return m!==void 0?X.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(r,o,mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Ue())).next(a=>(bH(r,Vz(e),a),{documents:a,Ts:s})))}function bH(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Bm=class{constructor(){this.activeTargetIds=Wz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Cb=class{constructor(){this.so=new Bm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Bm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tb=class{_o(e){}shutdown(){}};var $m=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Cm=null;function yE(){return Cm===null?Cm=function(){return 268435456+Math.round(2147483648*Math.random())}():Cm++,"0x"+Cm.toString(16)}var IH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Sb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var gn="WebChannelConnection",xb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=yE(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ll("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=IH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=yE();return new Promise((o,a)=>{let l=new hE;l.setWithCredentials(!0),l.listenOnce(fE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yu.NO_ERROR:let d=l.getResponseJson();ae(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Yu.TIMEOUT:ae(gn,`RPC '${e}' ${s} timed out`),a(new se(q.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:let f=l.getStatus();if(ae(gn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let b=function(S){let N=S.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(N)>=0?N:q.UNKNOWN}(g.status);a(new se(b,g.message))}else a(new se(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se(q.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(gn,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);ae(gn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){let i=yE(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gE(),a=mE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=s.join("");ae(gn,`Creating RPC '${e}' stream ${i}: ${d}`,l);let f=o.createWebChannel(d,l),m=!1,g=!1,b=new Sb({Io:S=>{g?ae(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(ae(gn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),ae(gn,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},To:()=>f.close()}),A=(S,N,H)=>{S.listen(N,U=>{try{H(U)}catch(B){setTimeout(()=>{throw B},0)}})};return A(f,kl.EventType.OPEN,()=>{g||(ae(gn,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),A(f,kl.EventType.CLOSE,()=>{g||(g=!0,ae(gn,`RPC '${e}' stream ${i} transport closed`),b.So())}),A(f,kl.EventType.ERROR,S=>{g||(g=!0,Ll(gn,`RPC '${e}' stream ${i} transport errored:`,S),b.So(new se(q.UNAVAILABLE,"The operation could not be completed")))}),A(f,kl.EventType.MESSAGE,S=>{var N;if(!g){let H=S.data[0];nt(!!H);let U=H,B=U.error||((N=U[0])===null||N===void 0?void 0:N.error);if(B){ae(gn,`RPC '${e}' stream ${i} received error:`,B);let re=B.status,Q=function(I){let C=Lt[I];if(C!==void 0)return cP(C)}(re),T=B.message;Q===void 0&&(Q=q.INTERNAL,T="Unknown error status: "+re+" with message "+B.message),g=!0,b.So(new se(Q,T)),f.close()}else ae(gn,`RPC '${e}' stream ${i} received:`,H),b.bo(H)}}),A(a,pE.STAT_EVENT,S=>{S.stat===Im.PROXY?ae(gn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Im.NOPROXY&&ae(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function _E(){return typeof document<"u"?document:null}function ug(t){return new JE(t,!0)}var Wm=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var zm=class{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Wm(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return y(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return y(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return y(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new se(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>y(this,null,function*(){this.state=0,this.start()}))}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ab=class extends zm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=iH(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?vi(o.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=rb(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=$E(l)?{documents:aH(s,l)}:{query:lH(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uP(s,o.resumeToken);let u=eb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=Um(s,o.snapshotVersion.toTimestamp());let u=eb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=uH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=rb(this.serializer),n.removeTarget=e,this.a_(n)}},Mb=class extends zm{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=oH(e.writeResults,e.commitTime),r=vi(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=rb(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>sH(this.serializer,r))};this.a_(n)}};var kb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,tb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,tb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Rb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ls(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Pb=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>y(this,null,function*(){va(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield function(l){return y(this,null,function*(){let u=Ee(l);u.L_.add(4),yield wd(u),u.q_.set("Unknown"),u.L_.delete(4),yield dg(u)})}(this))}))}),this.q_=new Rb(r,i)}};function dg(t){return y(this,null,function*(){if(va(t))for(let e of t.B_)yield e(!0)})}function wd(t){return y(this,null,function*(){for(let e of t.B_)yield e(!1)})}function _P(t,e){let n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cI(n)?lI(n):Zl(n).r_()&&aI(n,e))}function oI(t,e){let n=Ee(t),r=Zl(n);n.N_.delete(e),r.r_()&&wP(n,e),n.N_.size===0&&(r.r_()?r.o_():va(n)&&n.q_.set("Unknown"))}function aI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).A_(e)}function wP(t,e){t.Q_.xe(e),Zl(t).R_(e)}function lI(t){t.Q_=new ZE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.q_.v_()}function cI(t){return va(t)&&!Zl(t).n_()&&t.N_.size>0}function va(t){return Ee(t).L_.size===0}function EP(t){t.Q_=void 0}function DH(t){return y(this,null,function*(){t.q_.set("Online")})}function CH(t){return y(this,null,function*(){t.N_.forEach((e,n)=>{aI(t,e)})})}function TH(t,e){return y(this,null,function*(){EP(t),cI(t)?(t.q_.M_(e),lI(t)):t.q_.set("Unknown")})}function SH(t,e,n){return y(this,null,function*(){if(t.q_.set("Online"),e instanceof Vm&&e.state===2&&e.cause)try{yield function(i,s){return y(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hm(t,r)}else if(e instanceof Fl?t.Q_.Ke(e):e instanceof Fm?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{let r=yield yP(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(_n.EMPTY_BYTE_STRING,d.snapshotVersion)),wP(s,l);let f=new ad(d.target,l,u,d.sequenceNumber);aI(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),yield Hm(t,r)}})}function Hm(t,e,n){return y(this,null,function*(){if(!_d(e))throw e;t.L_.add(1),yield wd(t),t.q_.set("Offline"),n||(n=()=>yP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){ae("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield dg(t)}))})}function bP(t,e){return e().catch(n=>Hm(t,n,e))}function hg(t){return y(this,null,function*(){let e=Ee(t),n=io(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;xH(e);)try{let i=yield wH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,AH(e,i)}catch(i){yield Hm(e,i)}IP(e)&&DP(e)})}function xH(t){return va(t)&&t.O_.length<10}function AH(t,e){t.O_.push(e);let n=io(t);n.r_()&&n.V_&&n.m_(e.mutations)}function IP(t){return va(t)&&!io(t).n_()&&t.O_.length>0}function DP(t){io(t).start()}function MH(t){return y(this,null,function*(){io(t).p_()})}function kH(t){return y(this,null,function*(){let e=io(t);for(let n of t.O_)e.m_(n.mutations)})}function RH(t,e,n){return y(this,null,function*(){let r=t.O_.shift(),i=KE.from(r,e,n);yield bP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hg(t)})}function PH(t,e){return y(this,null,function*(){e&&io(t).V_&&(yield function(r,i){return y(this,null,function*(){if(function(o){return Qz(o)&&o!==q.ABORTED}(i.code)){let s=r.O_.shift();io(r).s_(),yield bP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield hg(r)}})}(t,e)),IP(t)&&DP(t)})}function SR(t,e){return y(this,null,function*(){let n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");let r=va(n);n.L_.add(3),yield wd(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield dg(n)})}function NH(t,e){return y(this,null,function*(){let n=Ee(t);e?(n.L_.delete(2),yield dg(n)):e||(n.L_.add(2),yield wd(n),n.q_.set("Unknown"))})}function Zl(t){return t.K_||(t.K_=function(n,r,i){let s=Ee(n);return s.w_(),new Ab(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:DH.bind(null,t),Ro:CH.bind(null,t),mo:TH.bind(null,t),d_:SH.bind(null,t)}),t.B_.push(e=>y(this,null,function*(){e?(t.K_.s_(),cI(t)?lI(t):t.q_.set("Unknown")):(yield t.K_.stop(),EP(t))}))),t.K_}function io(t){return t.U_||(t.U_=function(n,r,i){let s=Ee(n);return s.w_(),new Mb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MH.bind(null,t),mo:PH.bind(null,t),f_:kH.bind(null,t),g_:RH.bind(null,t)}),t.B_.push(e=>y(this,null,function*(){e?(t.U_.s_(),yield hg(t)):(yield t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Nb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uI(t,e){if(ls("AsyncQueue",`${e}: ${t}`),_d(t))return new se(q.UNAVAILABLE,`${e}: ${t}`);throw t}var qm=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Gm=class{constructor(){this.W_=new Rt(pe.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Kl=class t{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,qm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ob=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Fb=class{constructor(){this.queries=xR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ee(n),s=i.queries;i.queries=xR(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(r)})})(this,new se(q.ABORTED,"Firestore shutting down"))}};function xR(){return new ro(t=>XR(t),lg)}function dI(t,e){return y(this,null,function*(){let n=Ee(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Ob,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=uI(o,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&fI(n)})}function hI(t,e){return y(this,null,function*(){let n=Ee(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function OH(t,e){let n=Ee(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&fI(n)}function FH(t,e,n){let r=Ee(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function fI(t){t.Y_.forEach(e=>{e.next()})}var Vb,AR;(AR=Vb||(Vb={})).ea="default",AR.Cache="cache";var ud=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vb.Cache}};var Km=class{constructor(e){this.key=e}},Ym=class{constructor(e){this.key=e}},Lb=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=ZR(e),this.Ra=new qm(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Gm,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),g=cg(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),A=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),S=!1;m&&g?m.data.isEqual(g.data)?b!==A&&(r.track({type:3,doc:g}),S=!0):this.ga(m,g)||(r.track({type:2,doc:g}),S=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),S=!0):m&&!g&&(r.track({type:1,doc:m}),S=!0,(l||u)&&(a=!0)),S&&(g?(o=o.add(g),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(g,b){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return A(g)-A(b)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Kl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ym(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Km(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Ub=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},jb=class{constructor(e){this.key=e,this.va=!1}},Bb=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ro(a=>XR(a),lg),this.Ma=new Map,this.xa=new Set,this.Oa=new Rt(pe.comparator),this.Na=new Map,this.La=new cd,this.Ba={},this.ka=new Map,this.qa=ld.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VH(t,e,n=!0){return y(this,null,function*(){let r=MP(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield CP(r,e,n,!0),i})}function LH(t,e){return y(this,null,function*(){let n=MP(t);yield CP(n,e,!0,!1)})}function CP(t,e,n,r){return y(this,null,function*(){let i=yield EH(t.localStore,mi(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield UH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_P(t.remoteStore,i),a})}function UH(t,e,n,r,i){return y(this,null,function*(){t.Ka=(f,m,g)=>function(A,S,N,H){return y(this,null,function*(){let U=S.view.ma(N);U.ns&&(U=yield TR(A.localStore,S.query,!1).then(({documents:T})=>S.view.ma(T,U)));let B=H&&H.targetChanges.get(S.targetId),re=H&&H.targetMismatches.get(S.targetId)!=null,Q=S.view.applyChanges(U,A.isPrimaryClient,B,re);return kR(A,S.targetId,Q.wa),Q.snapshot})}(t,f,m,g);let s=yield TR(t.localStore,e,!0),o=new Lb(e,s.Ts),a=o.ma(s.documents),l=od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);kR(t,n,u.wa);let d=new Ub(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function jH(t,e,n){return y(this,null,function*(){let r=Ee(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!lg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Db(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oI(r.remoteStore,i.targetId),$b(r,i.targetId)}).catch(yd))):($b(r,i.targetId),yield Db(r.localStore,i.targetId,!0))})}function BH(t,e){return y(this,null,function*(){let n=Ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oI(n.remoteStore,r.targetId))})}function $H(t,e,n){return y(this,null,function*(){let r=YH(t);try{let i=yield function(o,a){let l=Ee(o),u=an.now(),d=a.reduce((g,b)=>g.add(b.key),Ue()),f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=us(),A=Ue();return l.cs.getEntries(g,d).next(S=>{b=S,b.forEach((N,H)=>{H.isValidDocument()||(A=A.add(N))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,b)).next(S=>{f=S;let N=[];for(let H of a){let U=Yz(H,f.get(H.key).overlayedDocument);U!=null&&N.push(new _i(H.key,U,zR(U.value.mapValue),gi.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,N,a)}).next(S=>{m=S;let N=S.applyToLocalDocumentSet(f,A);return l.documentOverlayCache.saveOverlays(g,S.batchId,N)})}).then(()=>({batchId:m.batchId,changes:eP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Rt(qe)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ed(r,i.changes),yield hg(r.remoteStore)}catch(i){let s=uI(i,"Failed to persist write");n.reject(s)}})}function TP(t,e){return y(this,null,function*(){let n=Ee(t);try{let r=yield yH(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?nt(o.va):i.removedDocuments.size>0&&(nt(o.va),o.va=!1))}),yield Ed(n,r,e)}catch(r){yield yd(r)}})}function MR(t,e,n){let r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=Ee(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&fI(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WH(t,e,n){return y(this,null,function*(){let r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Rt(pe.comparator);o=o.insert(s,Br.newNoDocument(s,Te.min()));let a=Ue().add(s),l=new Om(Te.min(),new Map,new Rt(qe),o,a);yield TP(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),pI(r)}else yield Db(r.localStore,e,!1).then(()=>$b(r,e,n)).catch(yd)})}function zH(t,e){return y(this,null,function*(){let n=Ee(t),r=e.batch.batchId;try{let i=yield vH(n.localStore,e);xP(n,r,null),SP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ed(n,i)}catch(i){yield yd(i)}})}function HH(t,e,n){return y(this,null,function*(){let r=Ee(t);try{let i=yield function(o,a){let l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(nt(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);xP(r,e,n),SP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ed(r,i)}catch(i){yield yd(i)}})}function SP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function xP(t,e,n){let r=Ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $b(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||AP(t,r)})}function AP(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(oI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),pI(t))}function kR(t,e,n){for(let r of n)r instanceof Km?(t.La.addReference(r.key,e),qH(t,r)):r instanceof Ym?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||AP(t,r.key)):ge()}function qH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),pI(t))}function pI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new pe(It.fromString(e)),r=t.qa.next();t.Na.set(r,new jb(n)),t.Oa=t.Oa.insert(n,r),_P(t.remoteStore,new ad(mi(ag(n.path)),r,"TargetPurposeLimboResolution",jR.oe))}}function Ed(t,e,n){return y(this,null,function*(){let r=Ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=n?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);let f=wb.Wi(l.targetId,u);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(l,u){return y(this,null,function*(){let d=Ee(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>X.forEach(u,m=>X.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>X.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!_d(f))throw f;ae("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),b=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(b);d.os=d.os.insert(m,A)}}})}(r.localStore,s))})}function GH(t,e){return y(this,null,function*(){let n=Ee(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());let r=yield vP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new se(q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ed(n,r.hs)}})}function KH(t,e){let n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let i=Ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function MP(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WH.bind(null,e),e.Ca.d_=OH.bind(null,e.eventManager),e.Ca.$a=FH.bind(null,e.eventManager),e}function YH(t){let e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HH.bind(null,e),e}var RR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return y(this,null,function*(){this.serializer=ug(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return gH(this.persistence,new bb,n.initialUser,this.serializer)}Ga(n){return new vb(_b.Zr,this.serializer)}Wa(n){return new Cb}terminate(){return y(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var QH=(()=>{class t{initialize(n,r){return y(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>MR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GH.bind(null,this.syncEngine),yield NH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Fb}()}createDatastore(n){let r=ug(n.databaseInfo.databaseId),i=function(o){return new xb(o)}(n.databaseInfo);return function(o,a,l,u){return new kb(o,a,l,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,l){return new Pb(i,s,o,a,l)}(this.localStore,this.datastore,n.asyncQueue,r=>MR(this.syncEngine,r,0),function(){return $m.D()?new $m:new Tb}())}createSyncEngine(n,r){return function(s,o,a,l,u,d,f){let m=new Bb(s,o,a,l,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return y(this,null,function*(){var n,r;yield function(s){return y(this,null,function*(){let o=Ee(s);ae("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield wd(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var dd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Wb=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=Am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>y(this,null,function*(){ae("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=uI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wE(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield vP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function PR(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield XH(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SR(e.remoteStore,i)),t._onlineComponents=e})}function XH(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),yield wE(t,new RR)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield wE(t,new RR);return t._offlineComponents})}function kP(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield PR(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield PR(t,new QH))),t._onlineComponents})}function ZH(t){return kP(t).then(e=>e.syncEngine)}function Qm(t){return y(this,null,function*(){let e=yield kP(t),n=e.eventManager;return n.onListen=VH.bind(null,e.syncEngine),n.onUnlisten=jH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BH.bind(null,e.syncEngine),n})}function JH(t,e,n={}){let r=new jr;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,l,u){let d=new dd({next:m=>{d.Za(),o.enqueueAndForget(()=>hI(s,f));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new se(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new se(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new ud(ag(a.path),d,{includeMetadataChanges:!0,_a:!0});return dI(s,f)}(yield Qm(t),t.asyncQueue,e,n,r)})),r.promise}function eq(t,e,n={}){let r=new jr;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,l,u){let d=new dd({next:m=>{d.Za(),o.enqueueAndForget(()=>hI(s,f)),m.fromCache&&l.source==="server"?u.reject(new se(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new ud(a,d,{includeMetadataChanges:!0,_a:!0});return dI(s,f)}(yield Qm(t),t.asyncQueue,e,n,r)})),r.promise}function RP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var NR=new Map;function PP(t,e,n){if(!n)throw new se(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tq(t,e,n,r){if(e===!0&&r===!0)throw new se(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OR(t){if(!pe.isDocumentKey(t))throw new se(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FR(t){if(pe.isDocumentKey(t))throw new se(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fg(t);throw new se(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Xm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EE;switch(r.type){case"firstParty":return new CE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=NR.get(n);r&&(ae("ComponentProvider","Removing Datastore"),NR.delete(n),r.terminate())}(this),Promise.resolve()}};function NP(t,e,n,r={}){var i;let s=(t=Ln(t,Yl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Yt.MOCK_USER;else{a=Gp(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new se(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yt(u)}t._authCredentials=new bE(new xm(a,l))}}var ma=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},to=class t extends ma{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new pe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function OP(t,e,...n){if(t=gt(t),PP("collection","path",e),t instanceof Yl){let r=It.fromString(e,...n);return FR(r),new to(t,null,r)}{if(!(t instanceof yn||t instanceof to))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(It.fromString(e,...n));return FR(r),new to(t.firestore,null,r)}}function so(t,e,...n){if(t=gt(t),arguments.length===1&&(e=Am.newId()),PP("doc","path",e),t instanceof Yl){let r=It.fromString(e,...n);return OR(r),new yn(t,null,new pe(r))}{if(!(t instanceof yn||t instanceof to))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(It.fromString(e,...n));return OR(r),new yn(t.firestore,t instanceof to?t.converter:null,new pe(r))}}var Zm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Wm(this,"async_queue_retry"),this.Vu=()=>{let r=_E();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=_E();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=_E();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return y(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_d(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Nb.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}wu(){return y(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function VR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Wr=class extends Yl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zm(e),this._firestoreClient=void 0,yield e}})}};function FP(t,e){let n=typeof t=="object"?t:Fr(),r=typeof t=="string"?t:e||"(default)",i=pr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=qp("firestore");s&&NP(i,...s)}return i}function pg(t){if(t._terminated)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nq(t),t._firestoreClient}function nq(t){var e,n,r;let i=t._freezeSettings(),s=function(a,l,u,d){return new ME(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Wb(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}var hd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_n.fromBase64String(e))}catch(n){throw new se(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ql=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fd=class{constructor(e){this._methodName=e}};var pd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}};var md=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var rq=/^__.*__$/,zb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new pa(e,this.data,n,this.fieldTransforms)}},Jm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _i(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function VP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var Hb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VP(this.Cu)&&rq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},qb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ug(e)}Qu(e,n,r,i=!1){return new Hb({Cu:e,methodName:n,qu:r,path:er.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mg(t){let e=t._freezeSettings(),n=ug(t._databaseId);return new qb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LP(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);mI("Data must be an object, but it was:",o,r);let a=UP(r,o),l,u;if(s.merge)l=new mr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=Gb(e,f,n);if(!o.contains(m))throw new se(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);BP(d,m)||d.push(m)}l=new mr(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new zb(new Jn(a),l,u)}var eg=class t extends fd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function iq(t,e,n,r){let i=t.Qu(1,e,n);mI("Data must be an object, but it was:",i,r);let s=[],o=Jn.empty();ga(r,(l,u)=>{let d=gI(e,l,n);u=gt(u);let f=i.Nu(d);if(u instanceof eg)s.push(d);else{let m=bd(u,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new mr(s);return new Jm(o,a,i.fieldTransforms)}function sq(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[Gb(e,r,n)],l=[i];if(s.length%2!=0)throw new se(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Gb(e,s[m])),l.push(s[m+1]);let u=[],d=Jn.empty();for(let m=a.length-1;m>=0;--m)if(!BP(u,a[m])){let g=a[m],b=l[m];b=gt(b);let A=o.Nu(g);if(b instanceof eg)u.push(g);else{let S=bd(b,A);S!=null&&(u.push(g),d.set(g,S))}}let f=new mr(u);return new Jm(d,f,o.fieldTransforms)}function oq(t,e,n,r=!1){return bd(n,t.Qu(r?4:3,e))}function bd(t,e){if(jP(t=gt(t)))return mI("Unsupported field value:",e,t),UP(t,e);if(t instanceof fd)return function(r,i){if(!VP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=bd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=an.fromDate(r);return{timestampValue:Um(i.serializer,s)}}if(r instanceof an){let s=new an(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Um(i.serializer,s)}}if(r instanceof pd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hd)return{bytesValue:uP(i.serializer,r._byteString)};if(r instanceof yn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof md)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return iI(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${fg(r)}`)}(t,e)}function UP(t,e){let n={};return BR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{let s=bd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof pd||t instanceof hd||t instanceof yn||t instanceof fd||t instanceof md)}function mI(t,e,n){if(!jP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=fg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Gb(t,e,n){if((e=gt(e))instanceof Ql)return e._internalPath;if(typeof e=="string")return gI(t,e);throw tg("Field path arguments must be of type string or ",t,!1,void 0,n)}var aq=new RegExp("[~\\*/\\[\\]]");function gI(t,e,n){if(e.search(aq)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ql(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tg(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se(q.INVALID_ARGUMENT,a+t+l)}function BP(t,e){return t.some(n=>n.isEqual(e))}var ng=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(vI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Kb=class extends ng{data(){return super.data()}};function vI(t,e){return typeof e=="string"?gI(t,e):e instanceof Ql?e._internalPath:e._delegate._internalPath}function $P(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gd=class{},Yb=class extends gd{};function WP(t,e,...n){let r=[];e instanceof gd&&r.push(e),r=r.concat(n),function(s){let o=s.filter(l=>l instanceof Qb).length,a=s.filter(l=>l instanceof rg).length;if(o>1||o>0&&a>0)throw new se(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var rg=class t extends Yb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return HP(e._query,n),new ma(e.firestore,e.converter,WE(e._query,n))}_parse(e){let n=mg(e.firestore);return function(s,o,a,l,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new se(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){UR(f,d);let g=[];for(let b of f)g.push(LR(l,s,b));m={arrayValue:{values:g}}}else m=LR(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||UR(f,d),m=oq(a,o,f,d==="in"||d==="not-in");return jt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function zP(t,e,n){let r=e,i=vI("where",t);return rg._create(i,r,n)}var Qb=class t extends gd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let l of a)HP(o,l),o=WE(o,l)}(e._query,n),new ma(e.firestore,e.converter,WE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function LR(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new se(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QR(e)&&n.indexOf("/")!==-1)throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(It.fromString(n));if(!pe.isDocumentKey(r))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cR(t,new pe(r))}if(n instanceof yn)return cR(t,n._key);throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function UR(t,e){if(!Array.isArray(t)||t.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HP(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Xb=class{convertValue(e,n="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ga(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>_t(o.doubleValue));return new md(s)}convertGeoPoint(e){return new pd(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=eI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){let n=cs(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=It.fromString(e);nt(gP(r));let i=new Pm(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||ls(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function qP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var aa=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ig=class extends ng{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(vI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Vl=class extends ig{data(e={}){return super.data(e)}},sg=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vl(this._firestore,this._userDataWriter,r.key,r,new aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let l=new Vl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Vl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:lq(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function lq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}function ya(t){t=Ln(t,yn);let e=Ln(t.firestore,Wr);return JH(pg(e),t._key).then(n=>YP(e,t,n))}var vd=class extends Xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new hd(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}};function gg(t){t=Ln(t,ma);let e=Ln(t.firestore,Wr),n=pg(e),r=new vd(e);return $P(t._query),eq(n,t._query).then(i=>new sg(e,r,t,i))}function vg(t,e,n){t=Ln(t,yn);let r=Ln(t.firestore,Wr),i=qP(t.converter,e,n);return yg(r,[LP(mg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gi.none())])}function _a(t,e,n,...r){t=Ln(t,yn);let i=Ln(t.firestore,Wr),s=mg(i),o;return o=typeof(e=gt(e))=="string"||e instanceof Ql?sq(s,"updateDoc",t._key,e,n,r):iq(s,"updateDoc",t._key,e),yg(i,[o.toMutation(t._key,gi.exists(!0))])}function GP(t){return yg(Ln(t.firestore,Wr),[new sd(t._key,gi.none())])}function KP(t,e){let n=Ln(t.firestore,Wr),r=so(t),i=qP(t.converter,e);return yg(n,[LP(mg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then(()=>r)}function yI(t,...e){var n,r,i;t=gt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||VR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(VR(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof yn)u=Ln(t.firestore,Wr),d=ag(t._key.path),l={next:f=>{e[o]&&e[o](YP(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Ln(t,ma);u=Ln(f.firestore,Wr),d=f._query;let m=new vd(u);l={next:g=>{e[o]&&e[o](new sg(u,m,f,g))},error:e[o+1],complete:e[o+2]},$P(t._query)}return function(m,g,b,A){let S=new dd(A),N=new ud(g,S,b);return m.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return dI(yield Qm(m),N)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return hI(yield Qm(m),N)}))}}(pg(u),d,a,l)}function yg(t,e){return function(r,i){let s=new jr;return r.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return $H(yield ZH(r),i,s)})),s.promise}(pg(t),e)}function YP(t,e,n){let r=n.docs.get(e._key),i=new vd(t);return new ig(t,i,e._key,r,new aa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xl=i})(ci),mn(new Vt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Wr(new IE(r.getProvider("auth-internal")),new SE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pm(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),He(sR,"4.7.3",e),He(sR,"4.7.3","esm2017")})();var _g=function(){return _g=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_g.apply(this,arguments)};var dq={includeMetadataChanges:!1};function QP(t,e){return e===void 0&&(e=dq),new Ie(function(n){var r=yI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function XP(t){return QP(t,{includeMetadataChanges:!0})}function ZP(t,e){return e===void 0&&(e={}),XP(t).pipe(le(function(n){return JP(n,e)}))}function JP(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:_g(_g({},r),(n={},n[e.idField]=t.id,n))}var qt=class{constructor(e){return e}},eN="firestore",_I=class{constructor(){return rs(eN)}};var wI=new te("angularfire2.firestore-instances");function hq(t,e){let n=Zs(eN,t,e);return n&&new qt(n)}function fq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qt(r)}}var pq={provide:_I,deps:[[new yt,wI]]},mq={provide:qt,useFactory:hq,deps:[[new yt,wI],Zn]};function tN(t,...e){return He("angularfire",Vr.full,"fst"),Gt([mq,pq,{provide:wI,useFactory:fq(t),multi:!0,deps:[we,bt,ui,Lr,[new yt,ia],[new yt,Xs],...e]}])}var nN=ht(ZP,!0);var Id=ht(KP,!0);var Un=ht(OP,!0);var Jl=ht(GP,!0);var Dt=ht(so,!0);var oo=ht(ya,!0);var ao=ht(gg,!0);var rN=ht(FP,!0);var wg=ht(WP,!0);var ec=ht(vg,!0);var EI=ht(_a,!0);var Eg=ht(zP,!0);var bg={production:!0,googleFitApiUrl:"fit-me-a409a.web.app/api/google-fit",firebaseConfig:{apiKey:"AIzaSyAWsDWF2x7AF7wmkqBHALn3h2IiFG1gm4E",authDomain:"fit-me-a409a.firebaseapp.com",projectId:"fit-me-a409a",storageBucket:"fit-me-a409a.appspot.com",messagingSenderId:"86701435614",appId:"1:86701435614:web:1655cfa2d93dca0ef4f04f"}};var gr=class t{constructor(e,n,r){this.http=e;this.auth=n;this.firestore=r}fitApiUrl=bg.googleFitApiUrl;peopleApiUrl="https://people.googleapis.com/v1/people/me?personFields=names,photos,birthdays,genders";getAccessToken(){return new Promise((e,n)=>y(this,null,function*(){let r=this.auth.currentUser?.uid;if(r){let i=Dt(this.firestore,`users/${r}`),s=yield oo(i);s.exists()?e(s.data()?.googleFitAccessToken||null):e(null)}else e(null)}))}getGooglePeopleProfile(){return tt(this.getAccessToken()).pipe(Jt(e=>{if(!e)throw new Error("Access token not available");let n={Authorization:`Bearer ${e}`};return this.http.get(this.peopleApiUrl,{headers:n})}),le(e=>({name:e.names?.[0]?.displayName||null,gender:e.genders?.[0]?.value||null,profilePicture:e.photos?.[0]?.url||null,birthday:e.birthdays?.[0]?.date?`${e.birthdays[0].date.year}-${e.birthdays[0].date.month}-${e.birthdays[0].date.day}`:null})))}fetchGoogleFitData(e,n){return tt(this.getAccessToken()).pipe(Jt(r=>{if(!r)throw new Error("Access token not available");return this.http.post(this.fitApiUrl,{accessToken:r,path:e,body:n}).pipe(wt({error:i=>console.error("API Error:",i)}))}))}getGoogleFitProfile(){return this.getGooglePeopleProfile()}getUserWeightFromGoogleFit(){let e={aggregateBy:[{dataTypeName:"com.google.weight",dataSourceId:"derived:com.google.weight:com.google.android.gms:merge_weight"}],bucketByTime:{durationMillis:864e5},startTimeMillis:Date.now()-2592e6,endTimeMillis:Date.now()};return this.fetchGoogleFitData("users/me/dataset:aggregate",e).pipe(le(n=>{if(n.bucket&&n.bucket.length>0)for(let r=n.bucket.length-1;r>=0;r--){let i=n.bucket[r].dataset;if(i&&i.length>0&&i[0].point.length>0)return i[0].point[0].value[0]?.fpVal||null}return console.warn("No weight data found."),null}),Wn(n=>(console.error("Error fetching weight data:",n),fe(null))))}getUserWeightForDate(e){let n={aggregateBy:[{dataTypeName:"com.google.weight",dataSourceId:"derived:com.google.weight:com.google.android.gms:merge_weight"}],bucketByTime:{durationMillis:864e5},startTimeMillis:e.getTime(),endTimeMillis:e.getTime()+864e5};return this.fetchGoogleFitData("users/me/dataset:aggregate",n).pipe(le(r=>{if(r.bucket&&r.bucket.length>0){let i=r.bucket[0].dataset;if(i&&i.length>0&&i[0].point.length>0)return i[0].point[0].value[0]?.fpVal||null}return console.warn("No weight data found for the specified date."),null}),Wn(r=>(console.error("Error fetching weight data:",r),fe(null))))}getUserHeightFromGoogleFit(){let e={aggregateBy:[{dataTypeName:"com.google.height",dataSourceId:"derived:com.google.height:com.google.android.gms:merge_height"}],bucketByTime:{durationMillis:864e5},startTimeMillis:Date.now()-2592e6,endTimeMillis:Date.now()};return this.fetchGoogleFitData("users/me/dataset:aggregate",e).pipe(le(n=>{if(n.bucket&&n.bucket.length>0)for(let r=n.bucket.length-1;r>=0;r--){let i=n.bucket[r].dataset;if(i&&i.length>0&&i[0].point.length>0)return i[0].point[0].value[0]?.fpVal||null}return console.warn("No height data found."),null}),Wn(n=>(console.error("Error fetching height data:",n),fe(null))))}getSteps(){let e=new Date;e.setHours(0,0,0,0);let n=new Date;n.setHours(23,59,59,999);let r={aggregateBy:[{dataTypeName:"com.google.step_count.delta"}],bucketByTime:{durationMillis:864e5},startTimeMillis:e.getTime(),endTimeMillis:n.getTime()};return this.fetchGoogleFitData("users/me/dataset:aggregate",r).pipe(le(i=>{let s=0;return i.bucket&&i.bucket.length>0&&i.bucket.forEach(o=>{o.dataset.forEach(a=>{a.point.forEach(l=>{s+=l.value[0]?.intVal||0})})}),s}))}getCalories(){let e=new Date;e.setHours(0,0,0,0);let n=new Date;n.setHours(23,59,59,999);let r={aggregateBy:[{dataTypeName:"com.google.calories.expended"}],bucketByTime:{durationMillis:864e5},startTimeMillis:e.getTime(),endTimeMillis:n.getTime()};return this.fetchGoogleFitData("users/me/dataset:aggregate",r).pipe(le(i=>{let s=0;return i.bucket&&i.bucket.length>0&&i.bucket.forEach(o=>{o.dataset.forEach(a=>{a.point.forEach(l=>{s+=l.value[0]?.floatVal||0})})}),s}))}static \u0275fac=function(n){return new(n||t)(ee(fu),ee(je),ee(qt))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};var Se=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Se||{}),wi="*";function Ig(t,e){return{type:Se.Trigger,name:t,definitions:e,options:{}}}function tc(t,e=null){return{type:Se.Animate,styles:e,timings:t}}function iN(t,e=null){return{type:Se.Sequence,steps:t,options:e}}function Ei(t){return{type:Se.Style,styles:t,offset:null}}function Ea(t,e,n){return{type:Se.State,name:t,styles:e,options:n}}function nc(t,e,n=null){return{type:Se.Transition,expr:t,animation:e,options:n}}var lo=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Cd=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Dg="!";var sN=["toast-component",""];function gq(t,e){if(t&1){let n=Ve();w(0,"button",5),G("click",function(){W(n);let i=O();return z(i.remove())}),w(1,"span",6),R(2,"\xD7"),E()()}}function vq(t,e){if(t&1&&(Bs(0),R(1),$s()),t&2){let n=O(2);k(),me("[",n.duplicatesCount+1,"]")}}function yq(t,e){if(t&1&&(w(0,"div"),R(1),ue(2,vq,2,1,"ng-container",4),E()),t&2){let n=O();Gi(n.options.titleClass),Cn("aria-label",n.title),k(),me(" ",n.title," "),k(),$("ngIf",n.duplicatesCount)}}function _q(t,e){if(t&1&&L(0,"div",7),t&2){let n=O();Gi(n.options.messageClass),$("innerHTML",n.message,Gf)}}function wq(t,e){if(t&1&&(w(0,"div",8),R(1),E()),t&2){let n=O();Gi(n.options.messageClass),Cn("aria-label",n.message),k(),me(" ",n.message," ")}}function Eq(t,e){if(t&1&&(w(0,"div"),L(1,"div",9),E()),t&2){let n=O();k(),js("width",n.width()+"%")}}function bq(t,e){if(t&1){let n=Ve();w(0,"button",5),G("click",function(){W(n);let i=O();return z(i.remove())}),w(1,"span",6),R(2,"\xD7"),E()()}}function Iq(t,e){if(t&1&&(Bs(0),R(1),$s()),t&2){let n=O(2);k(),me("[",n.duplicatesCount+1,"]")}}function Dq(t,e){if(t&1&&(w(0,"div"),R(1),ue(2,Iq,2,1,"ng-container",4),E()),t&2){let n=O();Gi(n.options.titleClass),Cn("aria-label",n.title),k(),me(" ",n.title," "),k(),$("ngIf",n.duplicatesCount)}}function Cq(t,e){if(t&1&&L(0,"div",7),t&2){let n=O();Gi(n.options.messageClass),$("innerHTML",n.message,Gf)}}function Tq(t,e){if(t&1&&(w(0,"div",8),R(1),E()),t&2){let n=O();Gi(n.options.messageClass),Cn("aria-label",n.message),k(),me(" ",n.message," ")}}function Sq(t,e){if(t&1&&(w(0,"div"),L(1,"div",9),E()),t&2){let n=O();k(),js("width",n.width()+"%")}}var bI=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},II=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},DI=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ut;_activate=new ut;_manualClose=new ut;_resetTimeout=new ut;_countDuplicate=new ut;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},rc=class{toastId;config;message;title;toastType;toastRef;_onTap=new ut;_onAction=new ut;constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},oN={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},aN=new te("ToastConfig"),CI=class extends II{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},xq=(()=>{class t{_document=Y(kt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TI=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},Aq=(()=>{class t{_overlayContainer=Y(xq);_componentFactoryResolver=Y(ji);_appRef=Y(ur);_document=Y(kt);_paneElements=new Map;create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new CI(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new TI(this._createPortalHost(n))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bt=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig=j(j({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=j(j({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}error(n,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}info(n,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}warning(n,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,r,this.applyConfig(i))}clear(n){for(let r of this.toasts)if(n!==void 0){if(r.toastId===n){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(n){let r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===n;if((!o||l)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return j(j({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(Hn.HTML,r));let d=new DI(l),f=new rc(this.index,s,u,i,n,d),m=[{provide:rc,useValue:f}],g=bt.create({providers:m,parent:this._injector}),b=new bI(s.toastComponent,g),A=l.attach(b,s.newestOnTop);d.componentInstance=A.instance;let S={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:A};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{S.toastRef.activate()})),this.toasts.push(S),S}static \u0275fac=function(r){return new(r||t)(ee(aN),ee(Aq),ee(bt),ee(w1),ee(we))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mq=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=cr(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=cr({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>he(j({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>he(j({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>he(j({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(r){return new(r||t)(V(Bt),V(rc),V(we))};static \u0275cmp=_e({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&G("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(K_("@flyInOut",i._state),Gi(i.toastClasses),js("display",i.displayStyle))},standalone:!0,features:[De],attrs:sN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&ue(0,gq,3,0,"button",0)(1,yq,3,5,"div",1)(2,_q,1,3,"div",2)(3,wq,2,4,"div",3)(4,Eq,2,2,"div",4),r&2&&($("ngIf",i.options.closeButton),k(),$("ngIf",i.title),k(),$("ngIf",i.message&&i.options.enableHtml),k(),$("ngIf",i.message&&!i.options.enableHtml),k(),$("ngIf",i.options.progressBar))},dependencies:[Xe],encapsulation:2,data:{animation:[Ig("flyInOut",[Ea("inactive",Ei({opacity:0})),Ea("active",Ei({opacity:1})),Ea("removed",Ei({opacity:0})),nc("inactive => active",tc("{{ easeTime }}ms {{ easing }}")),nc("active => removed",tc("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),kq=he(j({},oN),{toastComponent:Mq}),Rq=(t={})=>Gt([{provide:aN,useValue:{default:kq,config:t}}]),lN=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[Rq(n)]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=mt({type:t});static \u0275inj=pt({})}return t})();var Pq=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=cr(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=cr("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),r=this.hideTime-n;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||t)(V(Bt),V(rc),V(ur))};static \u0275cmp=_e({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&G("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Gi(i.toastClasses),js("display",i.displayStyle))},standalone:!0,features:[De],attrs:sN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&ue(0,bq,3,0,"button",0)(1,Dq,3,5,"div",1)(2,Cq,1,3,"div",2)(3,Tq,2,4,"div",3)(4,Sq,2,2,"div",4),r&2&&($("ngIf",i.options.closeButton),k(),$("ngIf",i.title),k(),$("ngIf",i.message&&i.options.enableHtml),k(),$("ngIf",i.message&&!i.options.enableHtml),k(),$("ngIf",i.options.progressBar))},dependencies:[Xe],encapsulation:2,changeDetection:0})}return t})(),Yue=he(j({},oN),{toastComponent:Pq});var wn=class t{constructor(e,n,r,i){this.auth=e;this.firestore=n;this.gfitService=r;this.toastr=i}userProfile={};isMetric=!0;createUserProfileIfNotExists(e){return y(this,null,function*(){let n=Dt(this.firestore,`users/${e.user.uid}`);if(!(yield oo(n)).exists()){let i=yield this.gfitService.getGoogleFitProfile().toPromise(),s={email:e.user.email,name:e.user.displayName,profilePicture:e.user.photoURL,dob:i?.birthday||null,gender:i?.gender||null,points:0,achievements:[],weight:i?.height,height:i?.weight};yield ec(n,s),this.toastr.success("User profile created successfully")}})}getGoogleFitProfileData(){return new Ie(e=>{this.gfitService.getGoogleFitProfile().subscribe({next:n=>{n?e.next({name:n.name,gender:n.gender,profilePicture:n.profilePicture,dob:n.birthday}):e.next(null),e.complete()},error:n=>e.error(n)})})}calculateAge(e){if(!e)return null;let n=new Date(e),r=Date.now()-n.getTime(),i=new Date(r);return Math.abs(i.getUTCFullYear()-1970)}getUserWeight(){return this.gfitService.getUserWeightFromGoogleFit().pipe(le(e=>e?Math.round(e):null))}getUserHeight(){return this.gfitService.getUserHeightFromGoogleFit().pipe(le(e=>e!==null?Math.round(e*100):null))}loadUnitPreference(){return y(this,null,function*(){let e=this.auth.currentUser?.uid;if(e){let n=Dt(this.firestore,`users/${e}`),r=yield oo(n);if(r.exists()){let i=r.data();this.isMetric=i.unitPreference==="metric"}else console.log("No unit preference found, defaulting to metric")}})}saveUnitPreference(e){return y(this,null,function*(){let n=this.auth.currentUser?.uid;if(n){let r=Dt(this.firestore,`users/${n}`);yield _a(r,{unitPreference:e?"metric":"imperial"}),this.isMetric=e}})}getUserGoals(){let e=this.auth.currentUser?.uid,n=Dt(this.firestore,`users/${e}`);return nN(n).pipe(le(r=>{let i=r;return{stepGoal:i.stepGoal||null,caloriesGoal:i.caloriesGoal||null,weightGoal:i.weightGoal||null}}))}saveUserGoals(e){let n=this.auth.currentUser?.uid,r=Dt(this.firestore,`users/${n}`);return ec(r,{stepGoal:e.stepGoal,caloriesGoal:e.caloriesGoal,weightGoal:e.weightGoal},{merge:!0})}updateUserPoints(e){return y(this,null,function*(){let n=this.auth.currentUser;if(n){let r=Dt(this.firestore,`users/${n.uid}`),o=((yield oo(r)).data()?.points||0)+e;return yield _a(r,{points:o}),o}return 0})}getUserTotalPoints(){return y(this,null,function*(){let e=this.auth.currentUser;if(e){let n=Dt(this.firestore,`users/${e.uid}`),r=yield oo(n);return r.exists()&&r.data()?.points||0}return 0})}saveAchievement(e){return y(this,null,function*(){let n=this.auth.currentUser;if(n){let r=Dt(this.firestore,`users/${n.uid}/achievements/${e}`);if((yield oo(r)).exists())return;yield ec(r,{unlocked:!0,dateUnlocked:new Date}),this.toastr.success("Achievement unlocked:",e)}})}getUserAchievements(){return y(this,null,function*(){let e=this.auth.currentUser;if(e){let n=Un(this.firestore,`users/${e.uid}/achievements`);return(yield gg(n)).docs.map(i=>j({id:i.id},i.data()))}return[]})}static \u0275fac=function(n){return new(n||t)(ee(je),ee(qt),ee(gr),ee(Bt))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};function Nq(t,e){if(t&1){let n=Ve();w(0,"div",40)(1,"button",41),L(2,"i",42),R(3," Profile Settings "),E(),w(4,"button",43),G("click",function(){W(n);let i=O();return z(i.logout())}),L(5,"i",27),R(6," Logout "),E()()}}var Cg=class t{constructor(e,n,r){this.auth=e;this.router=n;this.userService=r}profileData={name:"",dob:"",profilePicture:null};errorMessage=null;isProfileMenuOpen=!1;ngOnInit(){this.fetchProfileData()}fetchProfileData(){this.userService.getGoogleFitProfileData().subscribe({next:e=>{e?this.profileData=e:this.errorMessage="No profile data found."},error:e=>this.errorMessage="Error fetching profile data"})}get age(){return this.userService.calculateAge(this.profileData.dob)}toggleProfileMenu(){this.isProfileMenuOpen=!this.isProfileMenuOpen}logout(){return nR(this.auth).then(()=>{this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||t)(V(je),V(Ft),V(wn))};static \u0275cmp=_e({type:t,selectors:[["app-navbar"]],standalone:!0,features:[De],decls:57,vars:4,consts:[[1,"ml-[-100%]","fixed","z-10","top-0","pb-3","px-6","w-full","flex","flex-col","justify-between","h-screen","bg-gray-800","text-white","transition","duration-300","md:w-4/12","lg:ml-0","lg:w-[25%]","xl:w-[20%]","2xl:w-[15%]","shadow-lg"],[1,"-mx-6","px-6","py-4"],["title","home","routerLink","/dashboard"],[1,"font-black","text-4xl","flex","justify-center","items-center","bg-clip-text","text-transparent","bg-gradient-to-r","from-green-800","via-green-600","to-green-300","animate-text"],["src","./assets/logo.svg","alt","logo",1,"w-12","h-12"],["orbitron","",1,"orbitron","pl-2"],[1,"flex","flex-col","justify-center","items-center","gap-4","mb-6"],[1,"img-wrapper","rounded-full","w-20","h-20","overflow-hidden","relative"],["alt","Profile Picture",1,"w-full","h-full","object-cover",3,"src"],[1,"text-center"],[1,"font-bold","text-lg"],[1,"space-y-2"],["aria-label","Dashboard","routerLink","/dashboard","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-solid","fa-chart-line"],[1,"-mr-1","font-medium"],["aria-label","Exercises","routerLink","/exercises","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-solid","fa-person-running"],[1,""],["aria-label","Workouts","routerLink","/workouts","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-solid","fa-dumbbell"],["aria-label","Calendar","routerLink","/calendar","routerLinkActive","bg-gray-700",1,"relative","px-4","py-3","flex","items-center","space-x-4","rounded-lg","text-white","hover:bg-gray-700","transition","duration-200"],["routerLinkActive","text-green-600",1,"fa-regular","fa-calendar"],[1,"border-white/20"],[1,"px-6","-mx-6","pt-4","flex","flex-col","items-start"],["aria-label","Profile Settings","routerLink","/profile",1,"px-4","py-3","flex","items-center","space-x-4","rounded-md","text-white","group"],["routerLinkActive","text-green-600",1,"fa-solid","fa-user"],["aria-label","Logout",1,"px-4","py-3","flex","items-center","space-x-4","rounded-md","text-white","group",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket"],[1,"fixed","bottom-0","left-0","right-0","z-100","bg-gray-800","text-white","flex","justify-around","py-3","shadow-lg","md:hidden"],["title","Dashboard","aria-label","Dashboard","routerLink","/dashboard","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-chart-line","text-xl"],["title","Exercises","aria-label","Exercises","routerLink","/exercises","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-person-running","text-xl"],["title","Workouts","aria-label","Workouts","routerLink","/workouts","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-solid","fa-dumbbell","text-xl"],["title","Calendar","aria-label","Calendar","routerLink","/calendar","routerLinkActive","text-green-600",1,"flex","flex-col","items-center"],[1,"fa-regular","fa-calendar","text-xl"],["title","Profile","aria-label","Profile","routerLinkActive","text-green-600",1,"flex","flex-col","items-center",3,"click"],[1,"fa-solid","fa-user","text-xl"],["class","fixed bottom-16 right-5 bg-gray-800 text-white rounded-lg p-3 shadow-lg z-20",4,"ngIf"],[1,"fixed","bottom-16","right-5","bg-gray-800","text-white","rounded-lg","p-3","shadow-lg","z-20"],["routerLink","/profile",1,"w-full","py-2","text-left","transition","duration-200"],[1,"fa-solid","fa-user"],[1,"w-full","py-2","text-left","transition","duration-200",3,"click"]],template:function(n,r){n&1&&(w(0,"aside",0)(1,"div")(2,"div",1)(3,"a",2)(4,"div",3),L(5,"img",4),w(6,"p",5),R(7,"CoreUp"),E()()()(),w(8,"div",6)(9,"div",7),L(10,"img",8),E(),w(11,"div",9)(12,"p",10),R(13),E()()(),w(14,"ul",11)(15,"li")(16,"a",12),L(17,"i",13),w(18,"span",14),R(19,"Dashboard"),E()()(),w(20,"li")(21,"a",15),L(22,"i",16),w(23,"span",17),R(24,"Exercises"),E()()(),w(25,"li")(26,"a",18),L(27,"i",19),w(28,"span",17),R(29,"Workouts"),E()()(),w(30,"li")(31,"a",20),L(32,"i",21),w(33,"span",17),R(34,"Calendar"),E()()()()(),L(35,"hr",22),w(36,"div",23)(37,"button",24),L(38,"i",25),w(39,"span"),R(40,"Profile Settings"),E()(),w(41,"button",26),G("click",function(){return r.logout()}),L(42,"i",27),w(43,"span"),R(44,"Logout"),E()()()(),w(45,"nav",28)(46,"a",29),L(47,"i",30),E(),w(48,"a",31),L(49,"i",32),E(),w(50,"a",33),L(51,"i",34),E(),w(52,"a",35),L(53,"i",36),E(),w(54,"a",37),G("click",function(){return r.toggleProfileMenu()}),L(55,"i",38),E(),ue(56,Nq,7,0,"div",39),E()),n&2&&(k(10),$("src",r.profileData.profilePicture,qn),k(3),Vn("",r.profileData.name," | ",r.age,""),k(43),$("ngIf",r.isProfileMenuOpen))},dependencies:[Dl,MM,Ne,Xe]})};var ic=class t{constructor(e,n,r,i){this.auth=e;this.router=n;this.toastr=r;this.firestore=i}quotes=["Believe in yourself and all that you are.","The only way to do great work is to love what you do.","Success is not final, failure is not fatal.","Your body can stand almost anything. It\u2019s your mind that you have to convince."];currentQuote=this.quotes[0];currentVideoIndex=0;videos=[];ngOnInit(){let e=0;setInterval(()=>{e=(e+1)%this.quotes.length,this.currentQuote=this.quotes[e]},15e3)}ngAfterViewInit(){this.videos=Array.from(document.querySelectorAll("video")),this.playVideo(this.currentVideoIndex)}playVideo(e){let n=this.videos[e];this.videos.forEach(r=>{r.classList.remove("visible"),r.style.opacity="0",r.style.visibility="hidden"}),n.style.visibility="visible",n.classList.add("visible"),setTimeout(()=>{n.style.opacity="1"},10),n.play().catch(r=>{console.error("Error playing video:",r)}),n.onended=()=>{this.currentVideoIndex=(this.currentVideoIndex+1)%this.videos.length,this.playVideo(this.currentVideoIndex)}}loginWithGoogle(){return y(this,null,function*(){let e=new _m;e.addScope("https://www.googleapis.com/auth/fitness.activity.read"),e.addScope("https://www.googleapis.com/auth/fitness.body.read"),e.addScope("https://www.googleapis.com/auth/userinfo.profile"),e.addScope("https://www.googleapis.com/auth/userinfo.email"),e.addScope("https://www.googleapis.com/auth/user.birthday.read");try{let n=yield tR(this.auth,e),i=_m.credentialFromResult(n)?.accessToken;if(i){let s=this.auth.currentUser?.uid;if(s){let o=Dt(this.firestore,`users/${s}`);yield ec(o,{googleFitAccessToken:i},{merge:!0}),this.router.navigate(["/dashboard"])}}else this.toastr.error("Google Fit access token not available.")}catch(n){this.toastr.error("Error signing in with Google"),console.error("Google Sign-In error",n)}})}static \u0275fac=function(n){return new(n||t)(V(je),V(Ft),V(Bt),V(qt))};static \u0275cmp=_e({type:t,selectors:[["app-login"]],standalone:!0,features:[De],decls:31,vars:1,consts:[[1,"login","p-4","flex","flex-col","items-center","justify-center","h-screen","w-screen","relative","overflow-hidden"],[1,"absolute","inset-0","z-0"],["autoplay","","muted","","playsinline","","id","video1",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/barbell.mp4","type","video/mp4"],["muted","","playsinline","","id","video2",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/pushups.mp4","type","video/mp4"],["muted","","playsinline","","id","video3",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/running.mp4","type","video/mp4"],["muted","","playsinline","","id","video4",1,"absolute","w-full","h-full","object-cover"],["src","./assets/videos/pullups.mp4","type","video/mp4"],[1,"absolute","inset-0","bg-black","opacity-50","z-10"],[1,"relative","z-20","flex","flex-col","rounded-xl","shadow-lg","w-full","sm:w-3/4","lg:w-1/2","bg-gray-800","text-white","p-6","space-y-8"],[1,"font-black","text-4xl","flex","flex-col","justify-center","items-center","bg-clip-text","text-transparent","bg-gradient-to-r","from-green-800","via-green-600","to-green-300","animate-text"],["src","./assets/logo.svg","alt","logo",1,"w-12","h-12"],["orbitron","",1,"orbitron"],[1,"text-center","text-xl","font-semibold","italic"],[1,"text-4xl","text-center","font-thin"],[1,"text-center","text-sm","mb-4"],[1,"flex","items-center","justify-center","bg-red-600","hover:bg-red-700","text-white","text-sm","font-semibold","py-2","px-4","rounded-full","mt-6",3,"click"],[1,"fab","fa-google","mr-2"],[1,"text-center","text-sm","mt-4"],["href","/about",1,"text-gray-400","hover:underline"],["href","/contact",1,"text-gray-400","hover:underline"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"video",2),L(3,"source",3),E(),w(4,"video",4),L(5,"source",5),E(),w(6,"video",6),L(7,"source",7),E(),w(8,"video",8),L(9,"source",9),E()(),L(10,"div",10),w(11,"div",11)(12,"div",12),L(13,"img",13),w(14,"p",14),R(15,"CoreUp"),E()(),w(16,"div",15),R(17),E(),w(18,"h1",16),R(19,"Welcome Back!"),E(),w(20,"p",17),R(21,"Seamless integration with Google Fit!"),E(),w(22,"button",18),G("click",function(){return r.loginWithGoogle()}),L(23,"i",19),R(24," Sign in with Google "),E(),w(25,"div",20)(26,"a",21),R(27,"About Us"),E(),R(28," | "),w(29,"a",22),R(30,"Contact"),E()()()()),n&2&&(k(17),me(' "',r.currentQuote,'" '))},dependencies:[Ne],styles:[".login[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transition:opacity .5s ease,visibility .5s ease;opacity:0;visibility:hidden}.login[_ngcontent-%COMP%]   video.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}"]})};function Oq(t,e){t&1&&(w(0,"div",2),L(1,"i",3),E())}function Fq(t,e){t&1&&(w(0,"div")(1,"div"),L(2,"app-navbar"),E(),w(3,"div",4),L(4,"router-outlet"),E()())}function Vq(t,e){t&1&&(w(0,"div"),L(1,"app-login"),E())}function Lq(t,e){if(t&1&&(w(0,"div"),ue(1,Fq,5,0,"div",1)(2,Vq,2,0,"div",1),E()),t&2){let n=O();k(),$("ngIf",n.isAuthenticated),k(),$("ngIf",!n.isAuthenticated)}}var Tg=class t{constructor(e,n){this.auth=e;this.router=n;eR(this.auth,r=>{this.isAuthenticated=!!r,this.isLoading=!1,this.isAuthenticated&&(this.router.url==="/login"||this.router.url==="/register")&&this.router.navigate(["/dashboard"])})}title="fit-me";isAuthenticated=!1;isLoading=!0;static \u0275fac=function(n){return new(n||t)(V(je),V(Ft))};static \u0275cmp=_e({type:t,selectors:[["app-root"]],standalone:!0,features:[De],decls:2,vars:2,consts:[["class","p-6 flex w-full h-full justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"p-6","flex","w-full","h-full","justify-center","items-center"],[1,"fa-solid","fa-circle-notch","fa-spin","text-green-600","text-8xl"],[1,"ml-auto","mb-6","lg:w-[75%]","xl:w-[80%]","2xl:w-[85%]"]],template:function(n,r){n&1&&ue(0,Oq,2,0,"div",0)(1,Lq,3,2,"div",1),n&2&&($("ngIf",r.isLoading),k(),$("ngIf",!r.isLoading))},dependencies:[ew,ic,Cg,Ne,Xe],encapsulation:2})};var SI=class{constructor(){this.change=new Oe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return e.id==null&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let n=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],n=!0);return n}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,n){if(this.instances[e]){let r=this.instances[e],i=Math.ceil(r.totalItems/r.itemsPerPage);n<=i&&1<=n&&(this.instances[e].currentPage=n,this.change.emit(e))}}setTotalItems(e,n){this.instances[e]&&0<=n&&(this.instances[e].totalItems=n,this.change.emit(e))}setItemsPerPage(e,n){this.instances[e]&&(this.instances[e].itemsPerPage=n,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}},Vde=Number.MAX_SAFE_INTEGER;var Sg=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({providers:[SI],imports:[[Ne]]}),t})();var sc=class t{constructor(e){this.http=e}apiUrl="https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/dist/exercises.json";videoData={"Ab Crunch Machine":"https://app.fitnessai.com/exercises/18571201-Lever-Total-Abdominal-Crunch-Waist.mp4","Air Bike":"https://app.fitnessai.com/exercises/00031201-air-bike-m-waist.mp4","Barbell Curl":"https://app.fitnessai.com/exercises/00311201-Barbell-Curl-Upper-Arms.mp4","Bent Over Barbell Row":"https://app.fitnessai.com/exercises/00271201-Barbell-Bent-Over-Row-Back.mp4","Barbell Shoulder Press":"https://app.fitnessai.com/exercises/11651201-Barbell-Standing-Military-Press-without-rack-Shoulders.mp4","Standing Military Press":"https://app.fitnessai.com/exercises/11651201-Barbell-Standing-Military-Press-without-rack-Shoulders.mp4","Reverse Barbell Curl":"https://app.fitnessai.com/exercises/00801201-Barbell-Reverse-Curl-Forearm.mp4","Cable Seated Crunch":"https://app.fitnessai.com/exercises/02121201-Cable-Seated-Crunch-Waist.mp4",Plank:"https://app.fitnessai.com/exercises/04631201-Front-Plank-m-waist.mp4",Pushups:"https://app.fitnessai.com/exercises/06621201-Push-up-m-Chest.mp4","Sit-Up":"https://app.fitnessai.com/exercises/24761201-3-4-Sit-up-female-Waist.mp4"};getExercises(){return this.http.get(this.apiUrl).pipe(le(e=>this.addVideosToExercises(e)))}addVideosToExercises(e){return e.map(n=>(n.videoUrl=this.videoData[n.name]||void 0,n))}static \u0275fac=function(n){return new(n||t)(ee(fu))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};var vN=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(V(tn),V(At))},e.\u0275dir=it({type:e});let t=e;return t})(),Og=(()=>{let e=class e extends vN{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ii(e)))(s||e)}})(),e.\u0275dir=it({type:e,features:[Mr]});let t=e;return t})(),Rd=new te("");var jq={provide:Rd,useExisting:$i(()=>vr),multi:!0};function Bq(){let t=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $q=new te(""),vr=(()=>{let e=class e extends vN{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Bq())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(V(tn),V(At),V($q,8))},e.\u0275dir=it({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&G("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[kr([jq]),Mr]});let t=e;return t})();var yN=new te(""),_N=new te("");function wN(t){return t!=null}function EN(t){return $o(t)?tt(t):t}function bN(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function IN(t,e){return e.map(n=>n(t))}function Wq(t){return!t.validate}function DN(t){return t.map(e=>Wq(e)?e:n=>e.validate(n))}function zq(t){if(!t)return null;let e=t.filter(wN);return e.length==0?null:function(n){return bN(IN(n,e))}}function AI(t){return t!=null?zq(DN(t)):null}function Hq(t){if(!t)return null;let e=t.filter(wN);return e.length==0?null:function(n){let r=IN(n,e).map(EN);return Oy(r).pipe(le(bN))}}function MI(t){return t!=null?Hq(DN(t)):null}function cN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qq(t){return t._rawValidators}function Gq(t){return t._rawAsyncValidators}function xI(t){return t?Array.isArray(t)?t:[t]:[]}function Ag(t,e){return Array.isArray(t)?t.includes(e):t===e}function uN(t,e){let n=xI(e);return xI(t).forEach(i=>{Ag(n,i)||n.push(i)}),n}function dN(t,e){return xI(e).filter(n=>!Ag(t,n))}var Mg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},lc=class extends Mg{get formDirective(){return null}get path(){return null}},kd=class extends Mg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Kq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nhe=he(j({},Kq),{"[class.ng-submitted]":"isSubmitted"}),bi=(()=>{let e=class e extends kg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(kd,2))},e.\u0275dir=it({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&hl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Mr]});let t=e;return t})(),CN=(()=>{let e=class e extends kg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(lc,10))},e.\u0275dir=it({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&hl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Mr]});let t=e;return t})();var Td="VALID",xg="INVALID",oc="PENDING",Sd="DISABLED",cc=class{},Rg=class extends cc{constructor(e,n){super(),this.value=e,this.source=n}},Ad=class extends cc{constructor(e,n){super(),this.pristine=e,this.source=n}},Md=class extends cc{constructor(e,n){super(),this.touched=e,this.source=n}},ac=class extends cc{constructor(e,n){super(),this.status=e,this.source=n}};function TN(t){return(Fg(t)?t.validators:t)||null}function Yq(t){return Array.isArray(t)?AI(t):t||null}function SN(t,e){return(Fg(e)?e.asyncValidators:t)||null}function Qq(t){return Array.isArray(t)?MI(t):t||null}function Fg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Xq(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function Zq(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new K(1002,"")})}var Pg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=au(()=>this.statusReactive()),this.statusReactive=cr(void 0),this._pristine=au(()=>this.pristineReactive()),this.pristineReactive=cr(!0),this._touched=au(()=>this.touchedReactive()),this.touchedReactive=cr(!1),this._events=new ut,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ki(this.statusReactive)}set status(e){Ki(()=>this.statusReactive.set(e))}get valid(){return this.status===Td}get invalid(){return this.status===xg}get pending(){return this.status==oc}get disabled(){return this.status===Sd}get enabled(){return this.status!==Sd}get pristine(){return Ki(this.pristineReactive)}set pristine(e){Ki(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ki(this.touchedReactive)}set touched(e){Ki(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dN(e,this._rawAsyncValidators))}hasValidator(e){return Ag(this._rawValidators,e)}hasAsyncValidator(e){return Ag(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Md(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Md(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ad(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ad(!0,r))}markAsPending(e={}){this.status=oc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ac(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this.errors=null,this._forEachChild(i=>{i.disable(he(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rg(this.value,r)),this._events.next(new ac(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Td,this._forEachChild(r=>{r.enable(he(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Td||this.status===oc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rg(this.value,n)),this._events.next(new ac(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sd:Td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=oc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=EN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ac(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Sd:this.errors?xg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oc)?oc:this._anyControlsHaveStatus(xg)?xg:Td}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ad(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Md(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Fg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Yq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qq(this._rawAsyncValidators)}},Ng=class extends Pg{constructor(e,n,r){super(TN(n),SN(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Zq(this,!0,e),Object.keys(e).forEach(r=>{Xq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kI=new te("CallSetDisabledState",{providedIn:"root",factory:()=>RI}),RI="always";function Jq(t,e){return[...e.path,t]}function xN(t,e,n=RI){AN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),tG(t,e),rG(t,e),nG(t,e),eG(t,e)}function hN(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function eG(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function AN(t,e){let n=qq(t);e.validator!==null?t.setValidators(cN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Gq(t);e.asyncValidator!==null?t.setAsyncValidators(cN(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hN(e._rawValidators,i),hN(e._rawAsyncValidators,i)}function tG(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&MN(t,e)})}function nG(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&MN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function MN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rG(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function iG(t,e){t==null,AN(t,e)}function sG(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oG(t){return Object.getPrototypeOf(t.constructor)===Og}function aG(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function lG(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===vr?n=s:oG(s)?r=s:i=s}),i||r||n||null}var cG={provide:lc,useExisting:$i(()=>PI)},xd=Promise.resolve(),PI=(()=>{let e=class e extends lc{get submitted(){return Ki(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=au(()=>this.submittedReactive()),this.submittedReactive=cr(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new Ng({},AI(r),MI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){xd.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),xN(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){xd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){xd.then(()=>{let i=this._findContainer(r.path),s=new Ng({});iG(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){xd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){xd.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),aG(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(V(yN,10),V(_N,10),V(kI,8))},e.\u0275dir=it({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&G("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kr([cG]),Mr]});let t=e;return t})();function fN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uG=class extends Pg{constructor(e=null,n,r){super(TN(n),SN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(pN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){pN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dG={provide:kd,useExisting:$i(()=>zr)},mN=Promise.resolve(),zr=(()=>{let e=class e extends kd{constructor(r,i,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new uG,this._registered=!1,this.name="",this.update=new Oe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=lG(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),sG(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){mN.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&zo(i);mN.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Jq(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(V(lc,9),V(yN,10),V(_N,10),V(Rd,10),V(dr,8),V(kI,8))},e.\u0275dir=it({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[kr([dG]),Mr,Ht]});let t=e;return t})(),kN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=it({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),hG={provide:Rd,useExisting:$i(()=>Pd),multi:!0},Pd=(()=>{let e=class e extends Og{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ii(e)))(s||e)}})(),e.\u0275dir=it({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&G("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[kr([hG]),Mr]});let t=e;return t})();var fG={provide:Rd,useExisting:$i(()=>uc),multi:!0};function RN(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function pG(t){return t.split(":")[0]}var uc=(()=>{let e=class e extends Og{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=RN(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=pG(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ii(e)))(s||e)}})(),e.\u0275dir=it({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&G("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[kr([fG]),Mr]});let t=e;return t})(),Vg=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(RN(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(V(At),V(tn),V(uc,9))},e.\u0275dir=it({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),mG={provide:Rd,useExisting:$i(()=>PN),multi:!0};function gN(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function gG(t){return t.split(":")[0]}var PN=(()=>{let e=class e extends Og{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let u=a[l],d=this._getOptionValue(u.value);s.push(d)}}else{let a=i.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=gG(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ii(e)))(s||e)}})(),e.\u0275dir=it({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&G("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[kr([mG]),Mr]});let t=e;return t})(),Lg=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(gN(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(gN(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(V(At),V(tn),V(PN,9))},e.\u0275dir=it({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var vG=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=pt({});let t=e;return t})();var Qt=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:kI,useValue:r.callSetDisabledState??RI}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=pt({imports:[vG]});let t=e;return t})();var yG=(t,e)=>({"opacity-0 transition-opacity duration-500 ease-in-out":t,"opacity-100 transition-opacity duration-500 ease-in-out":e});function _G(t,e){if(t&1&&(w(0,"tr")(1,"td",12),R(2,"Secondary Muscles:"),E(),w(3,"td",13)(4,"strong"),R(5),E()()()),t&2){let n=O(2);k(5),Me(n.selectedExercise.secondaryMuscles.join(", "))}}function wG(t,e){if(t&1){let n=Ve();w(0,"div",1)(1,"div",2),G("click",function(){W(n);let i=O();return z(i.closeModal())}),E(),w(2,"div",3)(3,"button",4),G("click",function(){W(n);let i=O();return z(i.closeModal())}),L(4,"i",5),E(),w(5,"h2",6),R(6),E(),w(7,"p",7),R(8),E(),w(9,"div",8)(10,"div",9)(11,"table",10)(12,"tbody",11)(13,"tr")(14,"td",12),R(15,"Category:"),E(),w(16,"td",13)(17,"strong"),R(18),E()()(),w(19,"tr")(20,"td",12),R(21,"Force:"),E(),w(22,"td",13)(23,"strong"),R(24),E()()(),w(25,"tr")(26,"td",12),R(27,"Level:"),E(),w(28,"td",13)(29,"strong"),R(30),E()()(),w(31,"tr")(32,"td",12),R(33,"Mechanic:"),E(),w(34,"td",13)(35,"strong"),R(36),E()()(),w(37,"tr")(38,"td",12),R(39,"Equipment:"),E(),w(40,"td",13)(41,"strong"),R(42),E()()(),w(43,"tr")(44,"td",12),R(45,"Primary Muscles:"),E(),w(46,"td",13)(47,"strong"),R(48),E()()(),ue(49,_G,6,1,"tr",14),E()()(),w(50,"div",15),L(51,"img",16),E()()()()}if(t&2){let n=O();k(6),Me(n.selectedExercise.name),k(2),Me(n.selectedExercise.instructions),k(10),Me(n.selectedExercise.category),k(6),Me(n.selectedExercise.force),k(6),Me(n.selectedExercise.level),k(6),Me(n.selectedExercise.mechanic),k(6),Me(n.selectedExercise.equipment),k(6),Me(n.selectedExercise.primaryMuscles.join(", ")),k(),$("ngIf",n.selectedExercise.secondaryMuscles.length>0),k(2),Uo("alt",n.selectedExercise.name),$("src","https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/"+n.selectedExercise.images[n.modalImageIndex],qn)("ngClass",ou(12,yG,!n.showModal,n.showModal))}}var Ug=class t{selectedExercise;showModal=!1;close=new Oe;modalImageIndex=0;modalImageInterval;ngOnChanges(e){e.showModal&&e.showModal.currentValue?this.startModalImageSwitch():this.stopModalImageSwitch()}startModalImageSwitch(){this.modalImageInterval=setInterval(()=>{this.modalImageIndex=this.modalImageIndex===0?1:0},3e3)}stopModalImageSwitch(){this.modalImageInterval&&clearInterval(this.modalImageInterval)}ngOnDestroy(){this.stopModalImageSwitch()}closeModal(){this.close.emit(),this.selectedExercise=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_e({type:t,selectors:[["app-exercise-details"]],inputs:{selectedExercise:"selectedExercise",showModal:"showModal"},outputs:{close:"close"},standalone:!0,features:[Ht,De],decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","opacity-70","z-40",3,"click"],[1,"bg-gray-900","text-white","p-8","py-16","relative","max-w-4xl","w-full","z-50","overflow-y-visible"],[1,"absolute","top-4","right-4","text-white","text-2xl","hover:text-green-600","transition","duration-200",3,"click"],[1,"fa-solid","fa-x"],[1,"text-2xl","font-bold","mb-4"],[1,"font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text"],[1,"min-w-full","divide-y","divide-gray-700","border-1","border-gray-700","rounded-xl"],[1,"bg-gray-900","divide-y","divide-gray-700"],[1,"py-2","text-gray-400"],[1,"py-2","capitalize"],[4,"ngIf"],[1,"img","relative"],[1,"rounded-xl","shadow-lg","w-full","h-auto","grayscale",3,"src","alt","ngClass"]],template:function(n,r){n&1&&ue(0,wG,52,15,"div",0),n&2&&$("ngIf",r.showModal)},dependencies:[Ne,qo,Xe]})};var EG=Math.pow(10,8)*24*60*60*1e3,phe=-EG,jg=6048e5,NN=864e5,Bg=6e4,ON=36e5;var bG=3600;var FN=bG*24,mhe=FN*7,IG=FN*365.2425,DG=IG/12,ghe=DG*3,NI=Symbol.for("constructDateFrom");function Je(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&NI in t?t[NI](e):t instanceof Date?new t.constructor(e):new Date(e)}function ne(t,e){return Je(e||t,t)}function dc(t,e,n){let r=ne(t,n?.in);return isNaN(e)?Je(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function $g(t,e,n){let r=ne(t,n?.in);if(isNaN(e))return Je(n?.in||t,NaN);if(!e)return r;let i=r.getDate(),s=Je(n?.in||t,r.getTime());s.setMonth(r.getMonth()+e+1,0);let o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function Wg(t,e,n){return Je(n?.in||t,+ne(t)+e)}function VN(t,e,n){return Wg(t,e*ON,n)}var CG={};function Ii(){return CG}function Hr(t,e){let n=Ii(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ne(t,e?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ia(t,e){return Hr(t,he(j({},e),{weekStartsOn:1}))}function zg(t,e){let n=ne(t,e?.in),r=n.getFullYear(),i=Je(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let s=Ia(i),o=Je(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let a=Ia(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function OI(t){let e=ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function co(t,...e){let n=Je.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Di(t,e){let n=ne(t,e?.in);return n.setHours(0,0,0,0),n}function Hg(t,e,n){let[r,i]=co(n?.in,t,e),s=Di(r),o=Di(i),a=+s-OI(s),l=+o-OI(o);return Math.round((a-l)/NN)}function LN(t,e){let n=zg(t,e),r=Je(e?.in||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ia(r)}function UN(t,e,n){let r=ne(t,n?.in);return r.setTime(r.getTime()+e*Bg),r}function jN(t,e,n){return Wg(t,e*1e3,n)}function qg(t,e,n){return dc(t,e*7,n)}function BN(t,e){let n,r=e?.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Je.bind(null,i));let s=ne(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),Je(r,n||NaN)}function $N(t,e,n){let[r,i]=co(n?.in,t,e);return+Di(r)==+Di(i)}function WN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zN(t){return!(!WN(t)&&typeof t!="number"||isNaN(+ne(t)))}function qN(t,e,n){let[r,i]=co(n?.in,t,e),s=HN(r,i),o=Math.abs(Hg(r,i));r.setDate(r.getDate()-s*o);let a=+(HN(r,i)===-s),l=s*(o-a);return l===0?0:l}function HN(t,e){let n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Gg(t){return e=>{let r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Kg(t,e){return+ne(t)-+ne(e)}function GN(t,e,n){let r=Kg(t,e)/Bg;return Gg(n?.roundingMethod)(r)}function Yg(t,e){let n=ne(t,e?.in);return n.setHours(23,59,59,999),n}function KN(t,e){let n=ne(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function YN(t,e,n){let r=Kg(t,e)/1e3;return Gg(n?.roundingMethod)(r)}function QN(t,e){let n=ne(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function XN(t,e){let n=ne(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ZN(t,e){let n=Ii(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ne(t,e?.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}var TG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JN=(t,e,n)=>{let r,i=TG[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qg(t){return(e={})=>{let n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var SG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eO={date:Qg({formats:SG,defaultWidth:"full"}),time:Qg({formats:xG,defaultWidth:"full"}),dateTime:Qg({formats:AG,defaultWidth:"full"})};var MG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tO=(t,e,n,r)=>MG[t];function hc(t){return(e,n)=>{let r=n?.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){let o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{let o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}let s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}var kG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VG=(t,e)=>{let n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nO={ordinalNumber:VG,era:hc({values:kG,defaultWidth:"wide"}),quarter:hc({values:RG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hc({values:PG,defaultWidth:"wide"}),day:hc({values:NG,defaultWidth:"wide"}),dayPeriod:hc({values:OG,defaultWidth:"wide",formattingValues:FG,defaultFormattingWidth:"wide"})};function fc(t){return(e,n={})=>{let r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;let o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?UG(a,f=>f.test(o)):LG(a,f=>f.test(o)),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;let d=e.slice(o.length);return{value:u,rest:d}}}function LG(t,e){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function UG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function rO(t){return(e,n={})=>{let r=e.match(t.matchPattern);if(!r)return null;let i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;let a=e.slice(i.length);return{value:o,rest:a}}}var jG=/^(\d+)(th|st|nd|rd)?/i,BG=/\d+/i,$G={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WG={any:[/^b/i,/^(a|c)/i]},zG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HG={any:[/1/i,/2/i,/3/i,/4/i]},qG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iO={ordinalNumber:rO({matchPattern:jG,parsePattern:BG,valueCallback:t=>parseInt(t,10)}),era:fc({matchPatterns:$G,defaultMatchWidth:"wide",parsePatterns:WG,defaultParseWidth:"any"}),quarter:fc({matchPatterns:zG,defaultMatchWidth:"wide",parsePatterns:HG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fc({matchPatterns:qG,defaultMatchWidth:"wide",parsePatterns:GG,defaultParseWidth:"any"}),day:fc({matchPatterns:KG,defaultMatchWidth:"wide",parsePatterns:YG,defaultParseWidth:"any"}),dayPeriod:fc({matchPatterns:QG,defaultMatchWidth:"any",parsePatterns:XG,defaultParseWidth:"any"})};var FI={code:"en-US",formatDistance:JN,formatLong:eO,formatRelative:tO,localize:nO,match:iO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sO(t,e){let n=ne(t,e?.in);return Hg(n,XN(n))+1}function Xg(t,e){let n=ne(t,e?.in),r=+Ia(n)-+LN(n);return Math.round(r/jg)+1}function Zg(t,e){let n=ne(t,e?.in),r=n.getFullYear(),i=Ii(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Je(e?.in||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);let a=Hr(o,e),l=Je(e?.in||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);let u=Hr(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function oO(t,e){let n=Ii(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Zg(t,e),s=Je(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Hr(s,e)}function aO(t,e){let n=ne(t,e?.in),r=+Hr(n,e)-+oO(n,e);return Math.round(r/jg)+1}function Qe(t,e){let n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}var hs={y(t,e){let n=t.getFullYear(),r=n>0?n:1-n;return Qe(e==="yy"?r%100:r,e.length)},M(t,e){let n=t.getMonth();return e==="M"?String(n+1):Qe(n+1,2)},d(t,e){return Qe(t.getDate(),e.length)},a(t,e){let n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Qe(t.getHours()%12||12,e.length)},H(t,e){return Qe(t.getHours(),e.length)},m(t,e){return Qe(t.getMinutes(),e.length)},s(t,e){return Qe(t.getSeconds(),e.length)},S(t,e){let n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Qe(i,e.length)}};var pc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VI={G:function(t,e,n){let r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){let r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return hs.y(t,e)},Y:function(t,e,n,r){let i=Zg(t,r),s=i>0?i:1-i;if(e==="YY"){let o=s%100;return Qe(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Qe(s,e.length)},R:function(t,e){let n=zg(t);return Qe(n,e.length)},u:function(t,e){let n=t.getFullYear();return Qe(n,e.length)},Q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Qe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Qe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){let r=t.getMonth();switch(e){case"M":case"MM":return hs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){let r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Qe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){let i=aO(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Qe(i,e.length)},I:function(t,e,n){let r=Xg(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Qe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):hs.d(t,e)},D:function(t,e,n){let r=sO(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Qe(r,e.length)},E:function(t,e,n){let r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){let i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Qe(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){let i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Qe(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){let r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Qe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){let i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){let r=t.getHours(),i;switch(r===12?i=pc.noon:r===0?i=pc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){let r=t.getHours(),i;switch(r>=17?i=pc.evening:r>=12?i=pc.afternoon:r>=4?i=pc.morning:i=pc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):hs.H(t,e)},K:function(t,e,n){let r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Qe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):hs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):hs.s(t,e)},S:function(t,e){return hs.S(t,e)},X:function(t,e,n){let r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cO(r);case"XXXX":case"XX":return Da(r);case"XXXXX":case"XXX":default:return Da(r,":")}},x:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"x":return cO(r);case"xxxx":case"xx":return Da(r);case"xxxxx":case"xxx":default:return Da(r,":")}},O:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lO(r,":");case"OOOO":default:return"GMT"+Da(r,":")}},z:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lO(r,":");case"zzzz":default:return"GMT"+Da(r,":")}},t:function(t,e,n){let r=Math.trunc(+t/1e3);return Qe(r,e.length)},T:function(t,e,n){return Qe(+t,e.length)}};function lO(t,e=""){let n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Qe(s,2)}function cO(t,e){return t%60===0?(t>0?"-":"+")+Qe(Math.abs(t)/60,2):Da(t,e)}function Da(t,e=""){let n=t>0?"-":"+",r=Math.abs(t),i=Qe(Math.trunc(r/60),2),s=Qe(r%60,2);return n+i+e+s}var uO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ZG=(t,e)=>{let n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return uO(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",uO(r,e)).replace("{{time}}",dO(i,e))},hO={p:dO,P:ZG};var JG=/^D+$/,eK=/^Y+$/,tK=["D","DD","YY","YYYY"];function fO(t){return JG.test(t)}function pO(t){return eK.test(t)}function mO(t,e,n){let r=nK(t,e,n);if(console.warn(r),tK.includes(t))throw new RangeError(r)}function nK(t,e,n){let r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var rK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sK=/^'([^]*?)'?$/,oK=/''/g,aK=/[a-zA-Z]/;function gO(t,e,n){let r=Ii(),i=n?.locale??r.locale??FI,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ne(t,n?.in);if(!zN(a))throw new RangeError("Invalid time value");let l=e.match(iK).map(d=>{let f=d[0];if(f==="p"||f==="P"){let m=hO[f];return m(d,i.formatLong)}return d}).join("").match(rK).map(d=>{if(d==="''")return{isToken:!1,value:"'"};let f=d[0];if(f==="'")return{isToken:!1,value:lK(d)};if(VI[f])return{isToken:!0,value:d};if(f.match(aK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));let u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(d=>{if(!d.isToken)return d.value;let f=d.value;(!n?.useAdditionalWeekYearTokens&&pO(f)||!n?.useAdditionalDayOfYearTokens&&fO(f))&&mO(f,e,String(t));let m=VI[f[0]];return m(a,f,i.localize,u)}).join("")}function lK(t){let e=t.match(sK);return e?e[1].replace(oK,"'"):t}function vO(t,e){return ne(t,e?.in).getDate()}function yO(t,e){return ne(t,e?.in).getDay()}function _O(t,e){let n=ne(t,e?.in),r=n.getFullYear(),i=n.getMonth(),s=Je(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function wO(t,e){return ne(t,e?.in).getHours()}function EO(t,e){return ne(t,e?.in).getMinutes()}function bO(t,e){return ne(t,e?.in).getMonth()}function IO(t,e){return ne(t,e?.in).getFullYear()}function DO(t,e){let n=ne(t,e?.in);return n.setSeconds(0,0),n}function CO(t,e,n){let[r,i]=co(n?.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function LI(t,e){let n=ne(t,e?.in);return n.setMilliseconds(0),n}function TO(t,e){return+LI(t)==+LI(e)}function Jg(t,e,n){return dc(t,-e,n)}function SO(t,e,n){let r=ne(t,n?.in),i=r.getFullYear(),s=r.getDate(),o=Je(n?.in||t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);let a=_O(o);return r.setMonth(e,Math.min(s,a)),r}function xO(t,e,n){let r=ne(t,n?.in);return r.setDate(e),r}function AO(t,e,n){let r=ne(t,n?.in);return r.setHours(e),r}function MO(t,e,n){let r=ne(t,n?.in);return r.setMinutes(e),r}function kO(t,e,n){let r=ne(t,n?.in);return isNaN(+r)?Je(n?.in||t,NaN):(r.setFullYear(e),r)}function RO(t,e,n){return $g(t,-e,n)}function PO(t,e,n){return qg(t,-e,n)}var $t=class t{constructor(e,n){this.firestore=e;this.auth=n}addWorkout(e,n){return y(this,null,function*(){let r=Un(this.firestore,`users/${e}/workouts`);yield Id(r,n)})}scheduleWorkout(e,n,r){return y(this,null,function*(){let i=Un(this.firestore,`users/${e}/workoutInstances`);yield Id(i,{workoutId:n,scheduledDate:r,status:"scheduled",completedAt:null})})}completeWorkout(e,n,r,i,s){return y(this,null,function*(){let o=n?Dt(this.firestore,`users/${e}/workoutInstances/${n}`):Dt(Un(this.firestore,`users/${e}/workoutInstances`));yield vg(o,{workoutId:r.id,name:r.name,exercises:r.exercises,status:"completed",completedAt:new Date,totalCalories:s,timeSpent:i})})}markWorkoutAsMissed(e,n){return y(this,null,function*(){let r=Dt(this.firestore,`users/${e}/workoutInstances/${n}`);yield EI(r,{status:"missed"})})}getUserWorkouts(e){return y(this,null,function*(){let n=[],r=Un(this.firestore,`users/${e}/workouts`);return(yield ao(r)).forEach(s=>n.push(j({id:s.id},s.data()))),n})}getUserWorkoutById(e,n){return y(this,null,function*(){let r=Dt(this.firestore,`users/${e}/workouts/${n}`),i=yield ya(r);return i.exists()?j({id:i.id},i.data()):null})}getScheduledWorkouts(e){return y(this,null,function*(){let n=[],r=Un(this.firestore,`users/${e}/workoutInstances`),i=wg(r,Eg("status","==","scheduled"));return(yield ao(i)).forEach(o=>{n.push(j({id:o.id},o.data()))}),n})}getFinishedWorkouts(e){return y(this,null,function*(){let n=[],r=Un(this.firestore,`users/${e}/workoutInstances`),i=wg(r,Eg("status","==","completed"));return(yield ao(i)).forEach(o=>{n.push(j({id:o.id},o.data()))}),n})}getMissedWorkouts(e){return y(this,null,function*(){let n=[],r=Un(this.firestore,`users/${e}/workoutInstances`),i=wg(r,Eg("status","==","missed"));return(yield ao(i)).forEach(o=>{n.push(j({id:o.id},o.data()))}),n})}getMusclesWorkedLast7Days(e){return y(this,null,function*(){let n=Un(this.firestore,`users/${e}/workoutInstances`),r=yield ao(n),i={},s=new Date,o=[];return r.forEach(a=>{let l=a.data(),u=l.completedAt?.toDate();if(u&&u>=Di(Jg(s,7))&&u<=Yg(s)){let d=this.getWorkoutById(e,l.workoutId).then(f=>{if(!f||!Array.isArray(f.exercises)){console.error(`Workout not found or does not have exercises for ID: ${l.workoutId}`);return}f.exercises.forEach(m=>{m.primaryMuscles&&Array.isArray(m.primaryMuscles)&&m.primaryMuscles.forEach(g=>{i[g]?(i[g].count+=1,u>i[g].lastWorked&&(i[g].lastWorked=u)):i[g]={lastWorked:u,count:1}})})}).catch(f=>{console.error(`Error fetching workout data for ID ${l.workoutId}:`,f)});o.push(d)}}),yield Promise.all(o),i})}updateWorkout(e,n,r){return y(this,null,function*(){let i=Dt(this.firestore,`users/${e}/workouts/${n}`);yield EI(i,r)})}deleteWorkout(e,n){return y(this,null,function*(){let r=Dt(this.firestore,`users/${e}/workouts/${n}`);yield Jl(r)})}getWorkoutById(e,n){return y(this,null,function*(){let r=Dt(this.firestore,`users/${e}/workouts/${n}`);return(yield ya(r)).data()})}static \u0275fac=function(n){return new(n||t)(ee(qt),ee(je))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};function cK(t,e){if(t&1){let n=Ve();w(0,"div")(1,"button",18),G("click",function(){let i=W(n).$implicit,s=O(2);return z(s.addExerciseToWorkout(i))}),R(2),E()()}if(t&2){let n=e.$implicit;k(2),me(" ",n.name," ")}}function uK(t,e){t&1&&(w(0,"div"),R(1," No existing workouts! "),E())}function dK(t,e){if(t&1){let n=Ve();w(0,"div",1)(1,"div",2)(2,"button",3),G("click",function(){W(n);let i=O();return z(i.closeWorkoutSelectionModal())}),L(3,"i",4),E(),w(4,"h2",5),R(5),E(),w(6,"div",6)(7,"div")(8,"h3",7),R(9,"Select an existing workout:"),E(),w(10,"div",8),ue(11,cK,3,1,"div",9)(12,uK,2,0,"div",10),E()(),w(13,"div")(14,"h3",11),R(15,"Create a new workout:"),E(),w(16,"div",12)(17,"input",13),rn("ngModelChange",function(i){W(n);let s=O();return fn(s.newWorkoutName,i)||(s.newWorkoutName=i),z(i)}),E(),w(18,"button",14),G("click",function(){W(n);let i=O();return z(i.createAndAddWorkout())}),w(19,"span",15),R(20,"Create & Add"),E(),w(21,"span",16),R(22,"+"),E()()()()()(),w(23,"div",17),G("click",function(){W(n);let i=O();return z(i.closeWorkoutSelectionModal())}),E()()}if(t&2){let n=O();k(5),me("Add ",n.selectedExercise==null?null:n.selectedExercise.name," to a Workout"),k(6),$("ngForOf",n.workouts),k(),$("ngIf",!n.workouts),k(5),nn("ngModel",n.newWorkoutName)}}var ev=class t{constructor(e){this.workoutService=e}selectedExercise;showWorkoutSelectionModal=!1;newWorkoutName="";workouts=[];userId=null;close=new Oe;ngOnInit(){this.userId&&this.fetchUserWorkouts()}fetchUserWorkouts(){return y(this,null,function*(){try{this.workouts=yield this.workoutService.getUserWorkouts(this.userId)}catch(e){console.error("Error fetching workouts:",e)}})}sanitizeExerciseData(e){return Object.keys(e).reduce((n,r)=>(e[r]!==void 0&&(n[r]=e[r]),n),{})}addExerciseToWorkout(e){return y(this,null,function*(){if(!e){console.error("No workout provided");return}let n=this.sanitizeExerciseData(this.selectedExercise),r=he(j({},n),{sets:0,reps:0});this.selectedExercise.videoUrl&&(r.videoUrl=this.selectedExercise.videoUrl),e.exercises.push(r);try{yield this.workoutService.updateWorkout(this.userId,e.id,{exercises:e.exercises}),this.close.emit()}catch(i){console.error("Error adding exercise to workout:",i)}})}createAndAddWorkout(){return y(this,null,function*(){let e=this.sanitizeExerciseData(this.selectedExercise),n=he(j({},e),{sets:0,reps:0});this.selectedExercise.videoUrl&&(n.videoUrl=this.selectedExercise.videoUrl);let r={name:this.newWorkoutName,exercises:[n]};try{yield this.workoutService.addWorkout(this.userId,r),this.newWorkoutName="",this.close.emit()}catch(i){console.error("Error creating new workout:",i)}})}closeWorkoutSelectionModal(){this.close.emit()}static \u0275fac=function(n){return new(n||t)(V($t))};static \u0275cmp=_e({type:t,selectors:[["app-exercise-add"]],inputs:{selectedExercise:"selectedExercise",showWorkoutSelectionModal:"showWorkoutSelectionModal",newWorkoutName:"newWorkoutName",workouts:"workouts",userId:"userId"},outputs:{close:"close"},standalone:!0,features:[De],decls:1,vars:1,consts:[["class","fixed inset-0 z-50 flex items-center justify-center p-8",4,"ngIf"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-8"],[1,"bg-gray-900","text-white","rounded-xl","shadow-lg","p-8","relative","z-50"],[1,"absolute","top-4","right-4","text-white","text-2xl","hover:text-green-600","transition","duration-200",3,"click"],[1,"fa-solid","fa-x"],[1,"text-2xl","font-bold","mb-4"],[1,"flex","flex-col","gap-4"],[1,"font-semibold","text-center"],[1,"flex","flex-wrap","gap-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"font-semibold","pb-2","text-center"],[1,"flex","items-center","justify-between","bg-gray-700","rounded-full","p-2"],["type","text","placeholder","New workout name",1,"pl-4","bg-gray-700","text-white","border-0","focus:outline-none","transition","duration-200","rounded-full",3,"ngModelChange","ngModel"],[1,"bg-green-600","text-white","font-bold","capitalize","px-4","py-2","rounded-full",3,"click"],[1,"hidden","lg:block"],[1,"block","lg:hidden"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"],[1,"my-2","bg-gray-700","text-white","font-bold","capitalize","px-4","py-2","rounded-full",3,"click"]],template:function(n,r){n&1&&ue(0,dK,24,4,"div",0),n&2&&$("ngIf",r.showWorkoutSelectionModal)},dependencies:[Ne,Sn,Xe,Qt,vr,bi,zr]})};var hK=(t,e)=>({"border-2 border-white bg-gray-700 !text-white":t,"bg-gray-800 text-white hover:bg-gray-700":e});function fK(t,e){if(t&1&&(w(0,"option",10),R(1),E()),t&2){let n=e.$implicit;$("value",n),k(),Me(n)}}function pK(t,e){if(t&1&&(w(0,"option",10),R(1),E()),t&2){let n=e.$implicit;$("value",n),k(),Me(n)}}function mK(t,e){t&1&&(w(0,"span"),L(1,"i",13),E())}function gK(t,e){if(t&1){let n=Ve();w(0,"button",11),G("click",function(){let i=W(n).$implicit,s=O();return z(s.toggleCategory(i))}),R(1),ue(2,mK,2,0,"span",12),E()}if(t&2){let n=e.$implicit,r=O();$("ngClass",ou(3,hK,r.isCategorySelected(n),!r.isCategorySelected(n))),k(),me(" ",n," "),k(),$("ngIf",r.isCategorySelected(n))}}var tv=class t{muscles=[];equipments=[];categories=[];exercises=[];filteredExercises=new Oe;selectedMuscle="";selectedEquipment="";selectedCategories=[];searchQuery="";onFilterChange(){this.filterExercises()}toggleCategory(e){this.isCategorySelected(e)?this.selectedCategories=this.selectedCategories.filter(n=>n!==e):this.selectedCategories.push(e),this.filterExercises()}isCategorySelected(e){return this.selectedCategories.includes(e)}clearCategoryFilter(){this.selectedCategories=[],this.filterExercises()}filterExercises(){let e=this.exercises.filter(n=>{let r=this.selectedMuscle?n.primaryMuscles.includes(this.selectedMuscle)||n.secondaryMuscles.includes(this.selectedMuscle):!0,i=this.selectedEquipment?n.equipment===this.selectedEquipment:!0,s=this.selectedCategories.length>0?this.selectedCategories.includes(n.category):!0,o=this.searchQuery?n.name.toLowerCase().includes(this.searchQuery.toLowerCase()):!0;return r&&i&&s&&o});this.filteredExercises.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_e({type:t,selectors:[["app-exercise-filter"]],inputs:{muscles:"muscles",equipments:"equipments",categories:"categories",exercises:"exercises"},outputs:{filteredExercises:"filteredExercises"},standalone:!0,features:[De],decls:17,vars:6,consts:[[1,"flex","flex-wrap","items-center","justify-center","gap-4","mt-2","mb-6"],[1,"rounded-xl","bg-gray-800","text-white","p-4","w-full","sm:w-auto","transition","duration-200","hover:bg-gray-700",3,"ngModelChange","change","ngModel"],["value",""],["class","capitalize",3,"value",4,"ngFor","ngForOf"],["placeholder","Search by name",1,"rounded-xl","bg-gray-800","text-white","p-4","w-full","sm:w-auto","transition","duration-200","hover:bg-gray-700",3,"ngModelChange","input","ngModel"],[1,"categories"],[1,"font-bold","pb-4","text-2xl","text-white"],[1,"grid","grid-cols-3","md:grid-cols-4","lg:grid-cols-7","gap-2"],["class","flex justify-evenly items-center px-4 py-2 rounded-full font-bold uppercase text-xs transition duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"bg-transparent","border-2","border-white","text-white","text-xs","font-bold","uppercase","px-4","py-2","rounded-full","transition","duration-200","hover:bg-gray-700",3,"click"],[1,"capitalize",3,"value"],[1,"flex","justify-evenly","items-center","px-4","py-2","rounded-full","font-bold","uppercase","text-xs","transition","duration-200",3,"click","ngClass"],[4,"ngIf"],[1,"fa-solid","fa-x","text-white","border-2","border-white","p-1","rounded-full","w-5","h-5","flex","justify-center","items-center"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"select",1),rn("ngModelChange",function(s){return fn(r.selectedMuscle,s)||(r.selectedMuscle=s),s}),G("change",function(){return r.onFilterChange()}),w(2,"option",2),R(3,"All Muscles"),E(),ue(4,fK,2,2,"option",3),E(),w(5,"select",1),rn("ngModelChange",function(s){return fn(r.selectedEquipment,s)||(r.selectedEquipment=s),s}),G("change",function(){return r.onFilterChange()}),w(6,"option",2),R(7,"All Equipment"),E(),ue(8,pK,2,2,"option",3),E(),w(9,"input",4),rn("ngModelChange",function(s){return fn(r.searchQuery,s)||(r.searchQuery=s),s}),G("input",function(){return r.onFilterChange()}),E(),w(10,"div",5)(11,"h3",6),R(12,"Filter by categories"),E(),w(13,"div",7),ue(14,gK,3,6,"button",8),w(15,"button",9),G("click",function(){return r.clearCategoryFilter()}),R(16," Clear All Categories "),E()()()()),n&2&&(k(),nn("ngModel",r.selectedMuscle),k(3),$("ngForOf",r.muscles),k(),nn("ngModel",r.selectedEquipment),k(3),$("ngForOf",r.equipments),k(),nn("ngModel",r.searchQuery),k(5),$("ngForOf",r.categories))},dependencies:[Ne,qo,Sn,Xe,Qt,Vg,Lg,vr,uc,bi,zr]})};function vK(t,e){t&1&&(w(0,"div",8),L(1,"i",9),E())}function yK(t,e){if(t&1){let n=Ve();w(0,"div",12),G("mouseenter",function(){let i=W(n).$implicit,s=O(2);return z(s.startImageSwitch(i))})("mouseleave",function(){let i=W(n).$implicit,s=O(2);return z(s.stopImageSwitch(i))}),w(1,"div",13),L(2,"img",14)(3,"div",15),w(4,"button",16),G("click",function(){let i=W(n).$implicit,s=O(2);return z(s.openWorkoutSelection(i))}),L(5,"i",17),E()(),w(6,"div",18)(7,"h3",19),R(8),E(),w(9,"p",20)(10,"strong"),R(11,"Category:"),E(),R(12),E(),w(13,"p",20)(14,"strong"),R(15,"Primary Muscles:"),E(),R(16),E(),w(17,"button",21),G("click",function(){let i=W(n).$implicit,s=O(2);return z(s.viewExercise(i))}),R(18,"View Exercise"),E()()()}if(t&2){let n=e.$implicit,r=O(2);k(2),Uo("alt",n.name),$("src","https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/"+r.currentImage(n),qn),k(6),Me(n.name),k(4),me(" ",n.category,""),k(4),me(" ",n.primaryMuscles.join(", "),"")}}function _K(t,e){if(t&1&&(w(0,"div",10),ue(1,yK,19,5,"div",11),E()),t&2){let n=O();k(),$("ngForOf",n.displayedExercises)}}function wK(t,e){t&1&&(w(0,"div",8),L(1,"i",22),w(2,"p",23),R(3,"Loading more exercises..."),E()())}function EK(t,e){if(t&1){let n=Ve();w(0,"app-exercise-details",24),G("close",function(){W(n);let i=O();return z(i.closeDetailsModal())}),E()}if(t&2){let n=O();$("selectedExercise",n.selectedExercise)("showModal",n.showModal)}}function bK(t,e){if(t&1){let n=Ve();w(0,"app-exercise-add",25),G("close",function(){W(n);let i=O();return z(i.closeWorkoutSelectionModal())}),E()}if(t&2){let n=O();$("showWorkoutSelectionModal",n.showWorkoutSelectionModal)("selectedExercise",n.selectedExercise)("userId",n.userId)}}var nv=class t{constructor(e,n,r,i){this.exerciseService=e;this.workoutService=n;this.auth=r;this.route=i}exercises=[];filteredExercises=[];displayedExercises=[];muscles=[];equipments=[];categories=[];currentImageIndex={};intervalId;loading=!0;loadingMore=!1;limit=12;loadIncrement=6;selectedMuscle="";selectedEquipment="";selectedCategories=[];searchQuery="";page=1;showModal=!1;selectedExercise=null;modalImageIndex=0;modalImageInterval;workouts=[];showWorkoutSelectionModal=!1;newWorkoutName="";userId=null;ngOnInit(){return y(this,null,function*(){this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,this.exerciseService.getExercises().subscribe({next:e=>{this.exercises=e,this.filteredExercises=this.exercises,this.muscles=[...new Set(this.exercises.flatMap(n=>n.primaryMuscles))],this.equipments=[...new Set(this.exercises.map(n=>n.equipment))],this.categories=[...new Set(this.exercises.map(n=>n.category))],this.loadMoreExercises(),this.exercises.forEach(n=>{this.currentImageIndex[n.name]=0}),this.loading=!1,this.route.queryParams.subscribe(n=>{let r=n.muscle;r&&(this.selectedMuscle=r,this.filterExercises())})},error:e=>{console.error("Error fetching exercises:",e)}})})}startImageSwitch(e){this.intervalId=setInterval(()=>{this.currentImageIndex[e.name]=this.currentImageIndex[e.name]===0?1:0},1e3)}stopImageSwitch(e){clearInterval(this.intervalId)}currentImage(e){return e.images[this.currentImageIndex[e.name]]}viewExercise(e){this.selectedExercise=e,this.showModal=!0}closeDetailsModal(){this.showModal=!1,this.selectedExercise=null}openWorkoutSelection(e){this.selectedExercise=e,this.showWorkoutSelectionModal=!0,this.userId&&this.workoutService.getUserWorkouts(this.userId).then(n=>{this.workouts=n}).catch(n=>{console.error("Error fetching workouts:",n)})}closeWorkoutSelectionModal(){this.showWorkoutSelectionModal=!1}filterExercises(){let e=this.exercises.filter(n=>{let r=this.selectedMuscle?n.primaryMuscles.includes(this.selectedMuscle)||n.secondaryMuscles.includes(this.selectedMuscle):!0,i=this.selectedEquipment?n.equipment===this.selectedEquipment:!0,s=this.selectedCategories.length>0?this.selectedCategories.includes(n.category):!0,o=this.searchQuery?n.name.toLowerCase().includes(this.searchQuery.toLowerCase()):!0;return r&&i&&s&&o});this.updateFilteredExercises(e)}updateFilteredExercises(e){this.filteredExercises=e,this.displayedExercises=[],this.loadMoreExercises()}loadMoreExercises(){let e=this.filteredExercises.slice(this.displayedExercises.length,this.displayedExercises.length+this.limit);this.displayedExercises=[...this.displayedExercises,...e],this.loadingMore=!1}onScroll(e){let n=e.target;n.scrollTop+n.clientHeight>=n.scrollHeight-50&&!this.loadingMore&&this.displayedExercises.length<this.filteredExercises.length&&(this.loadingMore=!0,setTimeout(()=>{this.loadMoreExercises()},1e3))}static \u0275fac=function(n){return new(n||t)(V(sc),V($t),V(je),V(Nr))};static \u0275cmp=_e({type:t,selectors:[["app-exercises"]],standalone:!0,features:[kr([sc]),De],decls:9,vars:9,consts:[[1,"container","mx-auto","px-4","py-4"],[3,"filteredExercises","muscles","equipments","categories","exercises"],["class","p-6 flex justify-center items-center",4,"ngIf"],[1,"exercise-list-container","h-screen","overflow-y-auto",3,"scroll"],[1,"gradient-overlay"],["class","grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],[3,"selectedExercise","showModal","close",4,"ngIf"],[3,"showWorkoutSelectionModal","selectedExercise","userId","close",4,"ngIf"],[1,"p-6","flex","justify-center","items-center"],[1,"fa-solid","fa-circle-notch","fa-spin","text-green-600","text-8xl"],[1,"grid","grid-cols-1","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-gray-800 rounded-xl shadow-lg transition-transform transform hover:bg-gray-700 lg:max-h-96",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"bg-gray-800","rounded-xl","shadow-lg","transition-transform","transform","hover:bg-gray-700","lg:max-h-96",3,"mouseenter","mouseleave"],[1,"relative","h-1/2"],[1,"w-full","h-full","object-cover","transition-opacity","duration-1000","ease-in-out","rounded-t-xl","grayscale",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-green-600","to-transparent","opacity-40"],[1,"absolute","bottom-2","right-2","p-2",3,"click"],[1,"fa-solid","fa-circle-plus","text-white","text-3xl"],[1,"p-4"],[1,"text-lg","text-white","font-bold","mb-2"],[1,"text-sm","text-gray-300","mb-2","capitalize"],[1,"my-2","bg-green-600","text-white","font-bold","px-4","py-2","rounded-full","transition","duration-200","hover:bg-green-600",3,"click"],[1,"fa-solid","fa-circle-notch","fa-spin","text-green-600","text-4xl"],[1,"ml-4","text-gray-300"],[3,"close","selectedExercise","showModal"],[3,"close","showWorkoutSelectionModal","selectedExercise","userId"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"app-exercise-filter",1),G("filteredExercises",function(s){return r.updateFilteredExercises(s)}),E(),ue(2,vK,2,0,"div",2),w(3,"div",3),G("scroll",function(s){return r.onScroll(s)}),L(4,"div",4),ue(5,_K,2,1,"div",5)(6,wK,4,0,"div",2),E(),ue(7,EK,1,2,"app-exercise-details",6)(8,bK,1,3,"app-exercise-add",7),E()),n&2&&(k(),$("muscles",r.muscles)("equipments",r.equipments)("categories",r.categories)("exercises",r.exercises),k(),$("ngIf",r.loading),k(3),$("ngIf",!r.loading),k(),$("ngIf",r.loadingMore),k(),$("ngIf",r.showModal),k(),$("ngIf",r.showWorkoutSelectionModal))},dependencies:[Ne,Sn,Xe,Qt,Sg,Ug,ev,tv],styles:['.exercise-list-container[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none;position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch}.exercise-list-container[_ngcontent-%COMP%]   .gradient-overlay[_ngcontent-%COMP%]{content:"";position:sticky;top:0;left:0;width:100%;height:50px;background:linear-gradient(to bottom,rgb(17,24,39),transparent);z-index:1;pointer-events:none}.exercise-list-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.exercise-list-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:0}']})};function IK(t,e){if(t&1){let n=Ve();w(0,"div",12)(1,"div",13)(2,"div",14),R(3),E(),w(4,"div",15)(5,"div",16)(6,"button",17),G("click",function(){let i=W(n).index,s=O(2);return z(s.moveExerciseUp(i))}),L(7,"i",18),E()(),w(8,"div",19)(9,"button",17),G("click",function(){let i=W(n).index,s=O(2);return z(s.moveExerciseDown(i))}),L(10,"i",20),E()()()(),w(11,"div",21)(12,"h3",22),R(13),E()(),w(14,"div",23)(15,"div",24)(16,"div",25)(17,"div",26)(18,"button",27),G("click",function(){let i=W(n).index,s=O(2);return z(s.moveExerciseUp(i))}),L(19,"i",18),E()(),w(20,"div",28)(21,"button",27),G("click",function(){let i=W(n).index,s=O(2);return z(s.moveExerciseDown(i))}),L(22,"i",20),E()()(),w(23,"div",29)(24,"div",30)(25,"button",31),G("click",function(){let i=W(n).$implicit;return z(i.sets=i.sets?i.sets-1:0)}),R(26,"-"),E(),w(27,"input",32),rn("ngModelChange",function(i){let s=W(n).$implicit;return fn(s.sets,i)||(s.sets=i),z(i)}),E(),w(28,"button",31),G("click",function(){let i=W(n).$implicit;return z(i.sets=i.sets?i.sets+1:1)}),R(29,"+"),E()(),w(30,"div",33),L(31,"i",34),E(),w(32,"div",35)(33,"button",31),G("click",function(){let i=W(n).$implicit;return z(i.reps=i.reps?i.reps-1:0)}),R(34,"-"),E(),w(35,"input",36),rn("ngModelChange",function(i){let s=W(n).$implicit;return fn(s.reps,i)||(s.reps=i),z(i)}),E(),w(36,"button",31),G("click",function(){let i=W(n).$implicit;return z(i.reps=i.reps?i.reps+1:1)}),R(37,"+"),E()()(),w(38,"div",37)(39,"button",38),G("click",function(){let i=W(n).index,s=O(2);return z(s.removeExercise(i))}),L(40,"i",39),E()()()()()}if(t&2){let n=e.$implicit,r=e.index,i=O(2);k(3),Me(r+1),k(3),$("disabled",r===0),k(3),$("disabled",r===i.editingWorkout.exercises.length-1),k(4),Me(n.name),k(5),$("disabled",r===0),k(3),$("disabled",r===i.editingWorkout.exercises.length-1),k(6),nn("ngModel",n.sets),k(8),nn("ngModel",n.reps)}}function DK(t,e){if(t&1){let n=Ve();w(0,"div",1)(1,"div",2)(2,"h2",3),R(3),E(),w(4,"div",4),ue(5,IK,41,8,"div",5),E(),w(6,"div",6)(7,"button",7),G("click",function(){W(n);let i=O();return z(i.saveWorkout())}),R(8," Save Workout "),E(),w(9,"button",8),G("click",function(){W(n);let i=O();return z(i.cancelEdit())}),R(10," Cancel "),E()(),w(11,"button",9),G("click",function(){W(n);let i=O();return z(i.cancelEdit())}),L(12,"i",10),E()(),w(13,"div",11),G("click",function(){W(n);let i=O();return z(i.cancelEdit())}),E()()}if(t&2){let n=O();k(3),me("Edit Workout: ",n.editingWorkout.name,""),k(2),$("ngForOf",n.editingWorkout.exercises)}}var rv=class t{constructor(e,n,r){this.workoutService=e;this.auth=n;this.toastr=r}workouts=[];editingWorkout=null;onSave=new Oe;moveExerciseUp(e){if(e===0)return;let n=this.editingWorkout.exercises;[n[e-1],n[e]]=[n[e],n[e-1]]}moveExerciseDown(e){if(e===this.editingWorkout.exercises.length-1)return;let n=this.editingWorkout.exercises;[n[e+1],n[e]]=[n[e],n[e+1]]}removeExercise(e){this.editingWorkout.exercises.splice(e,1),this.toastr.success("Exercise removed successfully!")}cancelEdit(){this.editingWorkout=null}saveWorkout(){return y(this,null,function*(){if(this.editingWorkout){let e=this.auth.currentUser;if(e){yield this.workoutService.updateWorkout(e.uid,this.editingWorkout.id,this.editingWorkout);let n=this.workouts.findIndex(r=>r.id===this.editingWorkout.id);n!==-1&&(this.workouts[n]=j({},this.editingWorkout),this.toastr.success("Workout saved successfully!")),this.cancelEdit(),this.onSave.emit()}}})}static \u0275fac=function(n){return new(n||t)(V($t),V(je),V(Bt))};static \u0275cmp=_e({type:t,selectors:[["app-edit-workout-modal"]],inputs:{workouts:"workouts",editingWorkout:"editingWorkout"},outputs:{onSave:"onSave"},standalone:!0,features:[De],decls:1,vars:1,consts:[["class","fixed inset-0 z-40 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-40","flex","items-center","justify-center"],[1,"bg-gray-900","text-white","p-8","relative","w-full","h-full","overflow-y-scroll","z-50"],[1,"text-2xl","font-bold","mb-4","capitalize"],[1,"flex","flex-col","gap-4"],["class","flex flex-col lg:flex-row justify-between items-center bg-gray-800 rounded-xl p-4 relative",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-4","mt-4"],[1,"bg-green-600","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"bg-gray-700","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"absolute","top-4","right-4","text-white","text-2xl",3,"click"],[1,"fa-solid","fa-x"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"],[1,"flex","flex-col","lg:flex-row","justify-between","items-center","bg-gray-800","rounded-xl","p-4","relative"],[1,"number","absolute","left-0","top-0","p-4","h-full","rounded-s-xl","text-center","bg-gray-700"],[1,"font-bold","text-3xl","text-gray-400","pb-4","lg:pb-0"],[1,"lg:hidden","flex","flex-col","gap-2"],[1,"move-up","p-1"],[1,"bg-gray-800","disabled:opacity-50","text-white","font-bold","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10",3,"click","disabled"],[1,"fa-solid","fa-arrow-up"],[1,"move-down","p-1"],[1,"fa-solid","fa-arrow-down"],[1,"name","w-full","mb-2"],[1,"text-xl","text-start","pl-20","pb-4","lg:pl-12","lg:pb-0","font-bold","flex","items-center"],[1,"flex","flex-col","lg:flex-row","gap-2","items-center","pl-20","lg:pl-0"],[1,"flex","controls","gap-2","items-center"],[1,"lg:flex","flex-col","lg:flex-row","gap-2","hidden"],[1,"move-up"],[1,"bg-gray-700","disabled:opacity-50","text-white","font-bold","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10",3,"click","disabled"],[1,"move-down"],[1,"flex","flex-col","lg:flex-row","gap-2"],[1,"sets","text-center","flex","flex-row","bg-gray-700","rounded-full","p-1","max-w-1/2","justify-between"],["type","button",1,"bg-gray-800","text-white","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10",3,"click"],["placeholder","Sets","type","number","id","sets","name","sets",1,"w-1/5","lg:w-10","bg-transparent","text-white","text-sm","font-black","focus:border-0","focus:outline-0","text-center",3,"ngModelChange","ngModel"],[1,"times","hidden","lg:flex","lg:items-center"],[1,"fa-solid","fa-x","text-xs"],[1,"reps","text-center","flex","flex-row","bg-gray-700","rounded-full","p-1","max-w-1/2","justify-between"],["placeholder","Reps","type","number","id","reps","name","reps",1,"w-1/5","lg:w-10","bg-transparent","text-white","text-sm","font-black","focus:border-0","focus:outline-0","text-center",3,"ngModelChange","ngModel"],[1,"delete"],[1,"bg-gray-700","text-white","flex","justify-center","items-center","px-4","py-2","rounded-full","w-10","h-10","border-2","border-red-600",3,"click"],[1,"fa-solid","fa-trash","text-gray-400","hover:text-white"]],template:function(n,r){n&1&&ue(0,DK,14,2,"div",0),n&2&&$("ngIf",r.editingWorkout)},dependencies:[Ne,Sn,Xe,Qt,vr,Pd,bi,zr]})};var NO={strength:3,stretching:1.25,plyometrics:4,strongman:3.3,powerlifting:2.5,cardio:4,olympicWeightlifting:3};var Ci={level_1:0,level_2:2e4,level_3:5e4,level_4:1e5,level_5:2e5,level_6:5e5,level_7:1e6,level_8:2e6,level_9:5e6,level_10:1e7},Ti={level_1:{name:"Rookie",badgeUrl:"https://firebasestorage.googleapis.com/v0/b/fit-me-a409a.appspot.com/o/achievements%2Frookie.png?alt=media&token=c0cda5e2-3c9c-4ed5-a21e-e6fa5d6a8585"},level_2:{name:"Adventurer",badgeUrl:"https://firebasestorage.googleapis.com/v0/b/fit-me-a409a.appspot.com/o/achievements%2Fadventurer.png?alt=media&token=f6998f64-0db5-4a4f-af95-e97600bcdfc9"},level_3:{name:"Warrior",badgeUrl:"https://firebasestorage.googleapis.com/v0/b/fit-me-a409a.appspot.com/o/achievements%2Fwarrior.png?alt=media&token=d63f8c29-6105-48c2-8792-d920e8c2256a"},level_4:{name:"Master",badgeUrl:""},level_5:{name:"Hero",badgeUrl:""},level_6:{name:"Legend",badgeUrl:""},level_7:{name:"Champion",badgeUrl:""},level_8:{name:"Titan",badgeUrl:""},level_9:{name:"Ascendant",badgeUrl:""},level_10:{name:"Supreme",badgeUrl:""}};function OO(t){let e=(t.timeSpent||0)*1e-4,n=(t.exercises?.length||0)*.5,r=(t.exercises||[]).reduce((o,a)=>o+(a.sets||0)*.2,0),i=(t.exercises||[]).reduce((o,a)=>o+(a.reps||0)*.1,0),s=(t.totalCalories||0)*.1;return e+n+r+i+s}function mc(t){return t>=Ci.level_10?Ti.level_10:t>=Ci.level_9?Ti.level_9:t>=Ci.level_8?Ti.level_8:t>=Ci.level_7?Ti.level_7:t>=Ci.level_6?Ti.level_6:t>=Ci.level_5?Ti.level_5:t>=Ci.level_4?Ti.level_4:t>=Ci.level_3?Ti.level_3:t>=Ci.level_2?Ti.level_2:t>=Ci.level_1?Ti.level_1:null}var CK=t=>({width:t});function TK(t,e){if(t&1&&(w(0,"div",26)(1,"div",27)(2,"h3",28)(3,"strong"),R(4),E()(),w(5,"p")(6,"strong"),R(7,"Set: "),E(),R(8),E(),w(9,"p")(10,"strong"),R(11,"Reps: "),E(),R(12),E()()()),t&2){let n=O(2);k(4),Me(n.startingWorkout.exercises[n.currentExerciseIndex].name),k(4),Vn("",n.startingWorkout.exercises[n.currentExerciseIndex].currentSet," of ",n.startingWorkout.exercises[n.currentExerciseIndex].sets,""),k(4),Me(n.startingWorkout.exercises[n.currentExerciseIndex].reps)}}function SK(t,e){if(t&1){let n=Ve();w(0,"div",2)(1,"div",3),L(2,"img",4)(3,"div",5),E(),w(4,"div",6)(5,"h2",7),R(6),E(),w(7,"div",8),R(8),E(),ue(9,TK,13,4,"div",9),w(10,"div",10)(11,"button",11),G("click",function(){W(n);let i=O();return z(i.completeSet())}),R(12),E()(),w(13,"div",12)(14,"div",13)(15,"div",14),L(16,"div",15),w(17,"div",16),R(18),E()()()(),w(19,"div",17)(20,"button",18),R(21),L(22,"i",19),E(),w(23,"button",20),G("click",function(){W(n);let i=O();return z(i.skipRest())}),R(24," Skip Rest "),L(25,"i",21),E(),w(26,"button",20),G("click",function(){W(n);let i=O();return z(i.addRestTime())}),R(27," +10s "),L(28,"i",22),E()(),w(29,"div",10)(30,"button",23),G("click",function(){W(n);let i=O();return z(i.finishWorkout())}),R(31," Finish Workout "),E()(),w(32,"button",24),G("click",function(){W(n);let i=O();return z(i.openConfirmCancelModal())}),L(33,"i",25),E()()()}if(t&2){let n=O();k(2),Uo("alt",n.startingWorkout.exercises[n.currentExerciseIndex].name),$("src","https://raw.githubusercontent.com/yuhonas/free-exercise-db/main/exercises/"+n.currentImage(n.startingWorkout.exercises[n.currentExerciseIndex]),qn),k(4),Me(n.startingWorkout.name),k(2),me(" ",n.formatDuration()," "),k(),$("ngIf",n.currentExerciseIndex!==null),k(2),$("disabled",n.startingWorkout.exercises[n.currentExerciseIndex].done||n.isResting),k(),me(" ",n.startingWorkout.exercises[n.currentExerciseIndex].done?"Exercise Completed":"Complete Set"," "),k(4),$("ngStyle",su(12,CK,n.progress+"%")),k(2),me("",n.progress.toFixed(0),"% Completed"),k(3),me(" Rest (",n.restTimeRemaining,") "),k(2),$("disabled",!n.isResting),k(3),$("disabled",!n.isResting)}}function xK(t,e){if(t&1){let n=Ve();w(0,"div",29)(1,"div",30)(2,"h3",31),R(3,"Are you sure you want to cancel this workout? All the progress will be lost."),E(),w(4,"div",32)(5,"button",33),G("click",function(){W(n);let i=O();return z(i.cancelWorkout())}),R(6,"Yes, Cancel"),E(),w(7,"button",34),G("click",function(){W(n);let i=O();return z(i.closeConfirmCancelModal())}),R(8,"No, Continue"),E()()(),w(9,"div",35),G("click",function(){W(n);let i=O();return z(i.closeConfirmCancelModal())}),E()()}}var iv=class t{constructor(e,n,r,i,s){this.auth=e;this.userService=n;this.workoutService=r;this.toastr=i;this.cdr=s}userWeight=null;startingWorkout=null;currentExerciseIndex=null;progress=0;restTimeRemaining=30;isResting=!1;timer;earnedBadges=[];elapsedSeconds=0;countdownDuration=3;countdown=0;isCountdownActive=!1;showConfirmCancelModal=!1;resetWorkout(){this.startingWorkout=null,this.currentExerciseIndex=0,this.progress=0,this.showConfirmCancelModal=!1,this.isResting=!1,this.elapsedSeconds=0,this.restTimeRemaining=30,clearInterval(this.timer)}currentImage(e){return e.images?.[0]||"assets/default-image.png"}completeSet(){let e=this.startingWorkout.exercises[this.currentExerciseIndex||0];this.toastr.success("Set finished! Take a bit of rest..."),e.currentSet<e.sets?(e.currentSet++,this.startRestBetweenSets(e)):this.finishExercise(e),this.updateProgress(),this.checkAllExercisesDone(),this.cdr.detectChanges()}finishExercise(e){if(e.done=!0,this.currentExerciseIndex<this.startingWorkout.exercises.length-1){this.currentExerciseIndex++;let n=this.startingWorkout.exercises[this.currentExerciseIndex];n.currentSet=1,this.toastr.info(`Get ready for ${n.name}`),this.resetAndLoadImage(n.images),this.startRest()}else this.finishWorkout()}checkAllExercisesDone(){this.startingWorkout.exercises.every(n=>n.done)&&this.toastr.success("All exercises are completed! Great job!")}resetAndLoadImage(e){let n=e?.[0];n&&(this.startingWorkout.exercises[this.currentExerciseIndex].currentImage=n)}updateProgress(){if(this.startingWorkout&&this.startingWorkout.exercises.length>0){let e=this.startingWorkout.exercises.reduce((r,i)=>r+(i.sets||0),0),n=this.startingWorkout.exercises.reduce((r,i)=>r+(i.done?i.sets:i.currentSet-1),0);this.progress=e>0?n/e*100:0}}calculateCalories(e,n){let r=NO[e.category.toLowerCase()];return r&&this.userWeight!==null?r*this.userWeight*(n/3600):0}finishWorkout(){if(!this.startingWorkout)return;let e=this.startingWorkout.exercises.reduce((i,s)=>i+this.calculateCalories(s,this.elapsedSeconds),0);this.startingWorkout.totalCalories=e;let n=OO(this.startingWorkout);this.userService.updateUserPoints(n).then(i=>{let s=mc(i);s&&this.userService.saveAchievement(s.name),this.toastr.success(`Workout completed! You earned ${n.toFixed(0)} points.`),this.toastr.info(`You burned approximately ${e.toFixed(0)} calories!`)}).catch(i=>{console.error("Error updating points:",i),this.toastr.error("Failed to update points")});let r=this.auth.currentUser;r&&this.workoutService.completeWorkout(r.uid,null,this.startingWorkout,this.elapsedSeconds,e).then(()=>{this.toastr.success("Workout completed! Great job!"),this.toastr.info(`You burned approximately ${e.toFixed(0)} calories!`)}).catch(i=>{console.error("Error saving finished workout:",i),this.toastr.error("Failed to save finished workout")}),this.startingWorkout.completed=!0,this.resetWorkout()}startRestBetweenSets(e){this.isResting=!0,this.restTimeRemaining=30,this.startRestTimer(()=>{this.isResting=!1,this.toastr.info(`Rest over! Start set ${e.currentSet} of ${e.name}.`)})}startRest(){this.isResting=!0,this.restTimeRemaining=60,this.startRestTimer(()=>{this.isResting=!1,this.toastr.info("Rest period over! Time to start the next exercise.")})}startRestTimer(e){this.timer=setInterval(()=>{this.restTimeRemaining>0?this.restTimeRemaining--:(clearInterval(this.timer),e())},1e3)}skipRest(){this.isResting=!1,clearInterval(this.timer),this.restTimeRemaining=0,this.toastr.info("Rest skipped! Time to move on.")}addRestTime(){this.restTimeRemaining+=10,this.toastr.info("Added 10 seconds to rest time!")}cancelWorkout(){this.resetWorkout(),clearInterval(this.timer),this.toastr.error("Workout has been cancelled.")}openConfirmCancelModal(){this.showConfirmCancelModal=!0}closeConfirmCancelModal(){this.showConfirmCancelModal=!1}formatDuration(){let e=Math.floor(this.elapsedSeconds/3600),n=Math.floor(this.elapsedSeconds%3600/60),r=this.elapsedSeconds%60;return`${this.pad(e)}:${this.pad(n)}:${this.pad(r)}`}pad(e){return e<10?"0"+e:e.toString()}static \u0275fac=function(n){return new(n||t)(V(je),V(wn),V($t),V(Bt),V(dr))};static \u0275cmp=_e({type:t,selectors:[["app-start-workout-modal"]],inputs:{userWeight:"userWeight",startingWorkout:"startingWorkout",currentExerciseIndex:"currentExerciseIndex",progress:"progress",restTimeRemaining:"restTimeRemaining",isResting:"isResting",timer:"timer",earnedBadges:"earnedBadges",elapsedSeconds:"elapsedSeconds",countdownDuration:"countdownDuration",countdown:"countdown",isCountdownActive:"isCountdownActive",showConfirmCancelModal:"showConfirmCancelModal"},standalone:!0,features:[De],decls:2,vars:2,consts:[["class","fixed inset-0 z-40 w-full h-full flex flex-col md:flex-row bg-gray-900 text-white overflow-y-auto",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center",4,"ngIf"],[1,"fixed","inset-0","z-40","w-full","h-full","flex","flex-col","md:flex-row","bg-gray-900","text-white","overflow-y-auto"],[1,"relative","w-full","md:w-1/2","flex-shrink-0"],[1,"w-full","h-full","object-cover","grayscale",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-black","via-transparent","to-black","opacity-70"],[1,"w-full","md:w-1/2","flex","flex-col","justify-between","p-8"],[1,"text-2xl","font-bold","text-center","uppercase","mb-4"],[1,"text-center","text-2xl","mb-4"],["class","mb-4",4,"ngIf"],[1,"flex","justify-center","mb-4"],[1,"w-full","bg-gray-800","disabled:opacity-50","text-white","font-bold","px-4","py-2","rounded-full",3,"click","disabled"],[1,"w-full","mb-4"],[1,"bg-gray-800/50","rounded-full","overflow-hidden","p-1"],[1,"relative","h-3","flex","items-center","justify-center"],[1,"absolute","top-0","bottom-0","left-0","rounded-full","bg-green-600",3,"ngStyle"],[1,"relative","text-white","font-medium","text-xs"],[1,"flex","gap-4","mb-4"],["disabled","",1,"w-full","bg-gray-700","text-sm","text-white","font-bold","px-4","py-2","rounded-xl","lg:rounded-full","disabled:opacity-50"],[1,"fa-solid","fa-clock","ml-2"],[1,"w-full","bg-gray-700","text-sm","text-white","font-bold","px-4","py-2","rounded-xl","lg:rounded-full","disabled:opacity-50",3,"click","disabled"],[1,"fa-solid","fa-forward","ml-2"],[1,"fa-solid","fa-plus","ml-2"],[1,"w-full","bg-green-600","text-white","font-bold","px-4","py-2","rounded-full",3,"click"],[1,"absolute","top-4","right-4","text-white","text-2xl",3,"click"],[1,"fa-solid","fa-x"],[1,"mb-4"],[1,"flex","flex-col","items-center","gap-2"],[1,"text-xl"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center"],[1,"bg-gray-900","text-white","rounded-xl","shadow-lg","p-8","m-8","md:m-0","relative","max-w-md","w-full","z-50"],[1,"text-2xl","mb-4","text-center"],[1,"flex","justify-between","gap-4"],[1,"bg-red-600","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"bg-gray-700","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"]],template:function(n,r){n&1&&ue(0,SK,34,14,"div",0)(1,xK,10,0,"div",1),n&2&&($("ngIf",r.startingWorkout&&r.currentExerciseIndex!==null),k(),$("ngIf",r.showConfirmCancelModal))},dependencies:[Ne,Xe,a1,Qt]})};function AK(t,e){if(t&1){let n=Ve();w(0,"div",9)(1,"h3",10),R(2),E(),w(3,"div",11)(4,"button",12),G("click",function(){let i=W(n).$implicit,s=O(2);return z(s.startWorkout(i))}),L(5,"i",13),E(),w(6,"button",14),G("click",function(){let i=W(n).$implicit,s=O(2);return z(s.editWorkout(i))}),L(7,"i",15),E(),w(8,"button",16),G("click",function(){let i=W(n).$implicit,s=O(2);return z(s.deleteWorkout(i.id))}),L(9,"i",17),E()()()}if(t&2){let n=e.$implicit;k(2),Me(n.name)}}function MK(t,e){if(t&1&&(w(0,"div",5),ue(1,AK,10,1,"div",6),w(2,"div",7),R(3," Visit "),w(4,"a",8),R(5,"Exercises"),E(),R(6," to add more exercises or create a new workout! "),E()()),t&2){let n=O();k(),$("ngForOf",n.workouts)}}function kK(t,e){if(t&1&&L(0,"app-edit-workout-modal",18),t&2){let n=O();$("editingWorkout",n.editingWorkout)}}function RK(t,e){if(t&1&&L(0,"app-start-workout-modal",19),t&2){let n=O();$("userWeight",n.profileData.weight)("startingWorkout",n.startingWorkout)("currentExerciseIndex",n.currentExerciseIndex)("progress",n.progress)("restTimeRemaining",n.restTimeRemaining)("isResting",n.isResting)("timer",n.timer)("earnedBadges",n.earnedBadges)("elapsedSeconds",n.elapsedSeconds)("countdownDuration",n.countdownDuration)("countdown",n.countdown)("isCountdownActive",n.isCountdownActive)("showConfirmCancelModal",n.showConfirmCancelModal)}}var sv=class t{constructor(e,n,r,i,s){this.userService=e;this.workoutService=n;this.auth=r;this.route=i;this.toastr=s}profileData={weight:null};userWeight=null;workouts=[];newWorkoutName="";editingWorkout=null;startingWorkout=null;currentExerciseIndex=null;progress=0;restTimeRemaining=30;isResting=!1;timer;earnedBadges=[];elapsedSeconds=0;countdownDuration=3;countdown=0;isCountdownActive=!1;showConfirmCancelModal=!1;errorMessage=null;ngOnInit(){this.fetchWorkouts(),this.fetchProfileData(),this.route.queryParams.subscribe(e=>{let n=e.workoutId;n&&this.startWorkoutById(n)})}fetchProfileData(){this.userService.getGoogleFitProfileData().subscribe({next:e=>{e?(this.profileData=e,this.fetchWeightAndHeight()):this.errorMessage="No profile data found."},error:e=>this.errorMessage="Error fetching profile data"})}fetchWeightAndHeight(){this.userService.getUserWeight().subscribe(e=>this.profileData.weight=e),this.userService.getUserHeight().subscribe(e=>this.profileData.height=e)}fetchWorkouts(){let e=this.auth.currentUser;e&&this.workoutService.getUserWorkouts(e.uid).then(n=>{this.workouts=n}).catch(n=>{this.toastr.error("Error fetching workouts:",n)})}startWorkoutById(e){return y(this,null,function*(){let n=this.auth.currentUser;if(n){let r=yield this.workoutService.getUserWorkoutById(n.uid,e);r?this.startWorkout(r):this.toastr.error("Workout not found!")}})}editWorkout(e){this.editingWorkout=j({},e)}deleteWorkout(e){return y(this,null,function*(){let n=this.auth.currentUser;n&&(yield this.workoutService.deleteWorkout(n.uid,e),this.workouts=this.workouts.filter(r=>r.id!==e),this.toastr.success("Workout deleted successfully!"))})}startWorkout(e){this.resetWorkoutState(),this.startingWorkout=he(j({},e),{exercises:e.exercises.map(n=>he(j({},n),{done:!1,currentSet:1,current:!1}))}),this.restTimeRemaining=30,this.isResting=!1,this.currentExerciseIndex=0,this.elapsedSeconds=0,this.progress=0,this.startTimer(),this.toastr.info(`Starting workout: ${e.name}`)}resetWorkoutState(){this.startingWorkout=null,this.currentExerciseIndex=0,this.progress=0,this.restTimeRemaining=30,this.isResting=!1,this.timer&&clearInterval(this.timer),this.timer=null,this.earnedBadges=[],this.elapsedSeconds=0,this.countdownDuration=3,this.countdown=0,this.isCountdownActive=!1,this.showConfirmCancelModal=!1}startTimer(){this.timer=setInterval(()=>{this.elapsedSeconds++},1e3)}static \u0275fac=function(n){return new(n||t)(V(wn),V($t),V(je),V(Nr),V(Bt))};static \u0275cmp=_e({type:t,selectors:[["app-workouts"]],standalone:!0,features:[De],decls:5,vars:3,consts:[[1,"container","mx-auto","px-4","py-4"],[1,"workouts"],["class","flex flex-col items-center gap-6 my-6 w-full",4,"ngIf"],[3,"editingWorkout",4,"ngIf"],[3,"userWeight","startingWorkout","currentExerciseIndex","progress","restTimeRemaining","isResting","timer","earnedBadges","elapsedSeconds","countdownDuration","countdown","isCountdownActive","showConfirmCancelModal",4,"ngIf"],[1,"flex","flex-col","items-center","gap-6","my-6","w-full"],["class","flex flex-col md:flex-row justify-between items-center bg-gray-800 text-white rounded-xl w-full p-6 shadow-md transition-all duration-300 ease-in-out hover:bg-gray-700 hover:shadow-xl",4,"ngFor","ngForOf"],[1,"text-white","text-center","border-2","border-dotted","border-white","rounded-xl","w-full","p-6","bg-gray-800","hover:bg-gray-700","transition-all","duration-300","ease-in-out"],["routerLink","/exercises",1,"font-semibold","uppercase","underline","text-green-600","hover:text-green-700","transition-all","duration-300"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","bg-gray-800","text-white","rounded-xl","w-full","p-6","shadow-md","transition-all","duration-300","ease-in-out","hover:bg-gray-700","hover:shadow-xl"],[1,"workout-name","text-xl","font-bold","capitalize","tracking-wide"],[1,"flex","gap-4","mt-4","md:mt-0"],[1,"bg-gray-700","border-2","border-green-600","text-white","font-bold","uppercase","px-4","py-2","rounded-full","w-10","h-10","flex","justify-center","items-center","gap-2",3,"click"],[1,"fa-solid","fa-play","text-gray-400","hover:text-white"],[1,"bg-gray-700","border-2","border-gray-400","text-white","font-bold","uppercase","px-4","py-2","rounded-full","w-10","h-10","flex","justify-center","items-center","gap-2",3,"click"],[1,"fa-solid","fa-pencil","text-gray-400","hover:text-white"],[1,"bg-gray-700","border-2","border-red-600","transition-all","duration-300","text-white","font-bold","uppercase","px-4","py-2","rounded-full","w-10","h-10","flex","justify-center","items-center","gap-2",3,"click"],[1,"fa-solid","fa-trash","text-gray-400","hover:text-white"],[3,"editingWorkout"],[3,"userWeight","startingWorkout","currentExerciseIndex","progress","restTimeRemaining","isResting","timer","earnedBadges","elapsedSeconds","countdownDuration","countdown","isCountdownActive","showConfirmCancelModal"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1),ue(2,MK,7,1,"div",2),E(),ue(3,kK,1,1,"app-edit-workout-modal",3)(4,RK,1,13,"app-start-workout-modal",4),E()),n&2&&(k(2),$("ngIf",r.workouts),k(),$("ngIf",r.editingWorkout),k(),$("ngIf",r.startingWorkout))},dependencies:[Ne,Sn,Xe,Qt,Dl,rv,iv]})};var PK=t=>({"bg-emerald-700":t});function NK(t,e){if(t&1){let n=Ve();w(0,"div",16),R(1),L(2,"br"),R(3),w(4,"div",17)(5,"button",18),G("click",function(){let i=W(n).$implicit,s=O(3);return z(s.startWorkout(i))}),L(6,"i",19),E(),w(7,"button",20),G("click",function(){let i=W(n).$implicit,s=O(2).$implicit,o=O();return z(o.deleteWorkoutFromDate(s,i.id))}),L(8,"i",21),E()()()}if(t&2){let n=e.$implicit,r=O(2).$implicit,i=O();$("ngClass",su(6,PK,i.hoveredDate===r.toDateString())),k(),me(" ",n.name," "),k(2),Y_(" ",r.getDate(),".",r.getMonth(),".",r.getFullYear()," at ",n.scheduledTime," ")}}function OK(t,e){if(t&1&&(w(0,"div"),ue(1,NK,9,8,"div",15),E()),t&2){let n=O().$implicit,r=O();k(),$("ngForOf",r.scheduledWorkouts[n.toDateString()])}}function FK(t,e){if(t&1&&(Bs(0),ue(1,OK,2,1,"div",14),$s()),t&2){let n=e.$implicit,r=O();k(),$("ngIf",n&&r.scheduledWorkouts[n.toDateString()])}}function VK(t,e){if(t&1){let n=Ve();w(0,"div",25),G("mouseenter",function(){W(n);let i=O().$implicit,s=O();return z(s.showFinishedWorkoutTooltip(i))})("mouseleave",function(){W(n);let i=O(2);return z(i.hideFinishedWorkoutTooltip())}),w(1,"div",26),L(2,"i",27),E()()}}function LK(t,e){t&1&&(w(0,"div",28),L(1,"i",29),w(2,"div",26),L(3,"i",29),E()())}function UK(t,e){if(t&1){let n=Ve();w(0,"span",32),G("mouseenter",function(){let i=W(n).$implicit,s=O(3);return z(s.showScheduledWorkoutTooltip(i))})("mouseleave",function(){W(n);let i=O(3);return z(i.hideScheduledWorkoutTooltip())}),L(1,"span",33)(2,"span",34),E()}}function jK(t,e){if(t&1&&(w(0,"div",28)(1,"div",30),ue(2,UK,3,0,"span",31),E()()),t&2){let n=O().$implicit,r=O();k(2),$("ngForOf",r.scheduledWorkouts[n.toDateString()])}}function BK(t,e){if(t&1){let n=Ve();Bs(0),w(1,"button",22),G("click",function(){let i=W(n).$implicit,s=O();return z(s.selectDate(i))}),R(2),ue(3,VK,3,0,"div",23)(4,LK,4,0,"div",24)(5,jK,3,1,"div",24),E(),$s()}if(t&2){let n=e.$implicit,r=O();k(),$("ngClass",r.getDayClasses(n))("disabled",r.isPastDay(n)),k(),me(" ",n?n.getDate():""," "),k(),$("ngIf",n&&r.hasFinishedWorkoutOnDate(n)),k(),$("ngIf",n&&r.hasMissedWorkoutOnDate(n)),k(),$("ngIf",n&&r.scheduledWorkouts[n.toDateString()])}}function $K(t,e){if(t&1&&(w(0,"div",35),R(1),jo(2,"date"),E()),t&2){let n=O();k(),Vn(" ",n.hoveredFinishedWorkout.name," done at ",Bo(2,2,n.hoveredFinishedWorkoutTime,"shortTime")," ")}}function WK(t,e){if(t&1&&(w(0,"div",35),R(1),E()),t&2){let n=O();k(),Vn(" ",n.hoveredScheduledWorkout.name," scheduled for ",n.hoveredScheduledWorkout.scheduledTime," ")}}function zK(t,e){if(t&1&&(w(0,"option",48),R(1),E()),t&2){let n=e.$implicit;$("ngValue",n),k(),Me(n.name)}}function HK(t,e){t&1&&(w(0,"div")(1,"p"),R(2,"No workouts available."),E()())}function qK(t,e){if(t&1){let n=Ve();w(0,"div",36)(1,"div",37)(2,"h2",38),R(3),jo(4,"date"),E(),w(5,"select",39),rn("ngModelChange",function(i){W(n);let s=O();return fn(s.selectedWorkout,i)||(s.selectedWorkout=i),z(i)}),ue(6,zK,2,2,"option",40),E(),ue(7,HK,3,0,"div",14),w(8,"input",41),rn("ngModelChange",function(i){W(n);let s=O();return fn(s.selectedTime,i)||(s.selectedTime=i),z(i)}),E(),w(9,"div",42)(10,"button",43),G("click",function(){W(n);let i=O();return z(i.addWorkoutToDate())}),R(11," Add Workout "),E(),w(12,"button",44),G("click",function(){W(n);let i=O();return z(i.cancelSelection())}),R(13," Cancel "),E()(),w(14,"button",45),G("click",function(){W(n);let i=O();return z(i.cancelSelection())}),L(15,"i",46),E()(),w(16,"div",47),G("click",function(){W(n);let i=O();return z(i.cancelSelection())}),E()()}if(t&2){let n=O();k(3),me("Add Workout to ",Bo(4,5,n.selectedDate,"fullDate"),""),k(2),nn("ngModel",n.selectedWorkout),k(),$("ngForOf",n.workouts),k(),$("ngIf",!n.workouts.length),k(),nn("ngModel",n.selectedTime)}}var ov=class t{constructor(e,n,r,i,s){this.firestore=e;this.auth=n;this.workoutService=r;this.router=i;this.toastr=s}currentDate=new Date;days=[];monthName="";year=0;scheduledWorkouts={};finishedWorkouts=[];workouts=[];selectedDate=null;hoveredDate=null;selectedWorkout=null;selectedTime="";hoveredFinishedWorkout=null;hoveredFinishedWorkoutTime=null;hoveredScheduledWorkout=null;ngOnInit(){this.updateCalendar(),this.loadWorkouts(),this.loadScheduledWorkouts(),this.loadFinishedWorkouts()}loadWorkouts(){return y(this,null,function*(){let e=this.auth.currentUser;e&&(this.workouts=yield this.workoutService.getUserWorkouts(e.uid))})}loadScheduledWorkouts(){return y(this,null,function*(){let e=this.auth.currentUser;if(e){let n={};try{(yield this.workoutService.getScheduledWorkouts(e.uid)).forEach(i=>y(this,null,function*(){let s;if(i.scheduledDate&&typeof i.scheduledDate.toDate=="function")s=i.scheduledDate.toDate();else if(typeof i.scheduledDate=="string")s=new Date(i.scheduledDate);else{console.warn("Invalid scheduledDate format:",i.scheduledDate);return}let o=s.toDateString();n[o]||(n[o]=[]),this.isPastDay(s)?(i.status="missed",yield this.markWorkoutAsMissed(i)):n[o].push(i)})),this.scheduledWorkouts=n}catch(r){this.toastr.error("Error loading scheduled workouts: "+r.message)}}})}markWorkoutAsMissed(e){return y(this,null,function*(){let n=this.auth.currentUser;if(n){let r=so(this.firestore,`users/${n.uid}/workoutInstances/${e.id}`);yield _a(r,{status:"missed"})}})}loadFinishedWorkouts(){return y(this,null,function*(){let e=this.auth.currentUser;e&&(this.finishedWorkouts=yield this.workoutService.getFinishedWorkouts(e.uid))})}showFinishedWorkoutTooltip(e){this.hoveredFinishedWorkout=this.finishedWorkouts.find(n=>{let r=n.completedAt?.toDate();return r&&this.isSameDate(r,e)}),this.hoveredFinishedWorkout&&(this.hoveredFinishedWorkoutTime=this.hoveredFinishedWorkout.completedAt?.toDate())}hideFinishedWorkoutTooltip(){this.hoveredFinishedWorkout=null,this.hoveredFinishedWorkoutTime=null}showScheduledWorkoutTooltip(e){this.hoveredScheduledWorkout=e}hideScheduledWorkoutTooltip(){this.hoveredScheduledWorkout=null}hasFinishedWorkoutOnDate(e){return this.finishedWorkouts.some(n=>{let r=n.completedAt?.toDate();return r&&this.isSameDate(r,e)})}hasMissedWorkoutOnDate(e){let n=this.scheduledWorkouts[e.toDateString()];return!n||!this.isPastDay(e)?!1:n.some(r=>r.status==="missed")}isSameDate(e,n){return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}updateCalendar(){let e=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),1),r=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,0).getDate();this.monthName=gO(e,"MMMM"),this.year=e.getFullYear(),this.days=Array.from({length:42},(i,s)=>{let o=s-e.getDay()+1;return o>0&&o<=r?new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),o):null})}changeMonth(e){let n=new Date(this.currentDate);n.setMonth(n.getMonth()+e);let r=new Date;r.setHours(0,0,0,0),!(n<r&&e<0)&&(this.currentDate.setMonth(this.currentDate.getMonth()+e),this.updateCalendar())}isToday(e){return e?e.getDate()===new Date().getDate()&&e.getMonth()===new Date().getMonth()&&e.getFullYear()===new Date().getFullYear():!1}isPastDay(e){if(!e)return!1;let n=new Date;return n.setHours(0,0,0,0),e.getTime()<n.getTime()}getDayClasses(e){return e?["rounded-full p-2",this.isToday(e)?"bg-green-600 text-white font-bold uppercase hover:bg-green-700":"",this.isPastDay(e)?"bg-transparent text-gray-400 disabled:cursor-not-allowed disabled:opacity-50":""].join(" "):"rounded-full p-2"}selectDate(e){e&&(this.selectedDate=e)}addWorkoutToDate(){return y(this,null,function*(){if(this.selectedDate&&this.selectedWorkout){let e=this.selectedDate.toDateString(),n=he(j({},this.selectedWorkout),{scheduledTime:this.selectedTime,scheduledDate:e,status:"scheduled"}),r=this.auth.currentUser;if(r){let i=Un(this.firestore,`users/${r.uid}/workoutInstances`);yield Id(i,n)}this.scheduledWorkouts[e]||(this.scheduledWorkouts[e]=[]),this.scheduledWorkouts[e].push(n),this.selectedWorkout=null,this.cancelSelection()}})}deleteWorkoutFromDate(e,n){return y(this,null,function*(){let r=e.toDateString();if(this.scheduledWorkouts[r]&&this.scheduledWorkouts[r].find(s=>s.id===n)){this.scheduledWorkouts[r]=this.scheduledWorkouts[r].filter(o=>o.id!==n),this.scheduledWorkouts[r].length===0&&delete this.scheduledWorkouts[r];let s=this.auth.currentUser;if(s){let o=Un(this.firestore,`users/${s.uid}/workoutInstances`),a=(yield ao(o)).docs.find(l=>l.data().id===n);a&&(yield Jl(so(this.firestore,`users/${s.uid}/workoutInstances/${a.id}`)))}}})}startWorkout(e){this.router.navigate(["/workouts"],{queryParams:{workoutId:e.id}})}cancelSelection(){this.selectedDate=null,this.selectedWorkout=null,this.selectedTime=""}static \u0275fac=function(n){return new(n||t)(V(qt),V(je),V($t),V(Ft),V(Bt))};static \u0275cmp=_e({type:t,selectors:[["app-calendar"]],standalone:!0,features:[De],decls:31,vars:7,consts:[[1,"container","mx-auto","px-4","py-4","mb-10","lg:mb-0"],[1,"flex","flex-col-reverse","md:flex-row","gap-4","my-6"],[1,"w-full","flex","flex-col","lg:w-1/3","h-1/2","text-white","gap-4"],[4,"ngFor","ngForOf"],[1,"flex-1","w-full","lg:w-2/3","h-1/2","lg:h-full","rounded-xl","shadow-lg","bg-gray-800","text-white","p-4","font-semibold","text-center"],[1,"flex","items-center","justify-around","p-6"],[1,"flex","justify-center","items-center","p-4","rounded-full","w-10","h-10","bg-gray-700","600","text-white",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"text-lg"],[1,"fa-solid","fa-chevron-right"],[1,"grid","grid-cols-7","grid-col-dense","grid-rows-6","gap-1"],[1,"text-white"],["class","tooltip absolute bg-black text-white p-2 rounded-lg",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center p-8",4,"ngIf"],[4,"ngIf"],["class","w-full flex justify-between items-center bg-gray-800 text-white rounded-xl p-4 capitalize",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-full","flex","justify-between","items-center","bg-gray-800","text-white","rounded-xl","p-4","capitalize",3,"ngClass"],[1,"buttons","flex","gap-2","lg:gap-4"],[1,"flex","justify-center","items-center","my-2","bg-gray-700","border-2","border-green-600","text-white","font-bold","uppercase","px-4","py-2","rounded-full","h-10","w-10",3,"click"],[1,"fa-solid","fa-play","text-gray-400","hover:text-white"],[1,"flex","justify-center","items-center","my-2","border-2","border-red-600","text-white","font-bold","uppercase","px-4","py-2","rounded-full","h-10","w-10",3,"click"],[1,"fa-solid","fa-trash","text-gray-400","hover:text-white"],[1,"text-center","hover:bg-gray-700","cursor-pointer","w-11","h-10","lg:w-full","lg:h-14",3,"click","ngClass","disabled"],["class","absolute",3,"mouseenter","mouseleave",4,"ngIf"],["class","absolute",4,"ngIf"],[1,"absolute",3,"mouseenter","mouseleave"],[1,"relative","bottom-11","lg:bottom-12"],[1,"fa","fa-check-circle","text-green-600"],[1,"absolute"],[1,"fa","fa-exclamation-circle","text-red-600"],[1,"flex","justify-center","gap-1"],["class","relative flex h-3 w-3",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"relative","flex","h-3","w-3",3,"mouseenter","mouseleave"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-amber-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-3","w-3","bg-amber-400"],[1,"tooltip","absolute","bg-black","text-white","p-2","rounded-lg"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-8"],[1,"bg-gray-900","text-white","rounded-xl","shadow-lg","p-8","relative","max-w-4xl","w-full","z-50"],[1,"text-2xl","font-bold","mb-4"],[1,"w-full","p-2","rounded-md","bg-gray-700","text-white",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","time",1,"w-full","mt-4","p-2","rounded-md","bg-gray-700","text-white",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-4","mt-4"],[1,"bg-green-600","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"bg-gray-400/50","text-white","font-bold","px-4","py-2","rounded-full","w-full",3,"click"],[1,"absolute","top-4","right-4","text-white","text-2xl",3,"click"],[1,"fa-solid","fa-x"],[1,"fixed","inset-0","bg-black","opacity-50","z-40",3,"click"],[3,"ngValue"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"div",2),ue(3,FK,2,1,"ng-container",3),E(),w(4,"div",4)(5,"div",5)(6,"button",6),G("click",function(){return r.changeMonth(-1)}),L(7,"i",7),E(),w(8,"div",8),R(9),E(),w(10,"button",6),G("click",function(){return r.changeMonth(1)}),L(11,"i",9),E()(),w(12,"div",10)(13,"div",11),R(14,"Sun"),E(),w(15,"div",11),R(16,"Mon"),E(),w(17,"div",11),R(18,"Tue"),E(),w(19,"div",11),R(20,"Wed"),E(),w(21,"div",11),R(22,"Thu"),E(),w(23,"div",11),R(24,"Fri"),E(),w(25,"div",11),R(26,"Sat"),E(),ue(27,BK,6,6,"ng-container",3)(28,$K,3,5,"div",12)(29,WK,2,2,"div",12),E()(),ue(30,qK,17,8,"div",13),E()()),n&2&&(k(3),$("ngForOf",r.days),k(6),Vn("",r.monthName,", ",r.year,""),k(18),$("ngForOf",r.days),k(),$("ngIf",r.hoveredFinishedWorkout),k(),$("ngIf",r.hoveredScheduledWorkout),k(),$("ngIf",r.selectedDate))},dependencies:[Ne,qo,Sn,Xe,zs,Qt,Vg,Lg,vr,uc,bi,zr]})};var GK=["chart"],FO=(()=>{let e=class e{constructor(){this.autoUpdateSeries=!0,this.chartReady=new Oe,this.chartInstance=cr(null),this.ngZone=Y(we),this.isBrowser=SA(Y(ar))}ngOnChanges(r){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{ky.schedule(()=>this.hydrate(r))})}ngOnDestroy(){this.destroy()}hydrate(r){if(this.autoUpdateSeries&&Object.keys(r).filter(s=>s!=="series").length===0){this.updateSeries(this.series,!0);return}this.createElement()}createElement(){return y(this,null,function*(){let{default:r}=yield import("./chunk-ZE6FZE4B.js");window.ApexCharts||=r;let i={};this.annotations&&(i.annotations=this.annotations),this.chart&&(i.chart=this.chart),this.colors&&(i.colors=this.colors),this.dataLabels&&(i.dataLabels=this.dataLabels),this.series&&(i.series=this.series),this.stroke&&(i.stroke=this.stroke),this.labels&&(i.labels=this.labels),this.legend&&(i.legend=this.legend),this.fill&&(i.fill=this.fill),this.tooltip&&(i.tooltip=this.tooltip),this.plotOptions&&(i.plotOptions=this.plotOptions),this.responsive&&(i.responsive=this.responsive),this.markers&&(i.markers=this.markers),this.noData&&(i.noData=this.noData),this.xaxis&&(i.xaxis=this.xaxis),this.yaxis&&(i.yaxis=this.yaxis),this.forecastDataPoints&&(i.forecastDataPoints=this.forecastDataPoints),this.grid&&(i.grid=this.grid),this.states&&(i.states=this.states),this.title&&(i.title=this.title),this.subtitle&&(i.subtitle=this.subtitle),this.theme&&(i.theme=this.theme),this.destroy();let s=this.ngZone.runOutsideAngular(()=>new r(this.chartElement.nativeElement,i));this.chartInstance.set(s),this.render(),this.chartReady.emit({chartObj:s})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(r,i,s,o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(r,i,s,o))}updateSeries(r,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(r,i))}appendSeries(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(r,i))}appendData(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(r))}highlightSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(r))}toggleSeries(r){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(r))}showSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(r))}hideSeries(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(r))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(r,i))}toggleDataPointSelection(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(r,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(r))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(r,i,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(r,i,s))}addYaxisAnnotation(r,i,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(r,i,s))}addPointAnnotation(r,i,s){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(r,i,s))}removeAnnotation(r,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(r,i))}clearAnnotations(r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(r))}dataURI(r){return this.chartInstance()?.dataURI(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_e({type:e,selectors:[["apx-chart"]],viewQuery:function(i,s){if(i&1&&X2(GK,7),i&2){let o;tp(o=np())&&(s.chartElement=o.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},outputs:{chartReady:"chartReady"},standalone:!0,features:[Ht,De],decls:2,vars:0,consts:[["chart",""]],template:function(i,s){i&1&&L(0,"div",null,0)},encapsulation:2,changeDetection:0});let t=e;return t})();var VO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=pt({});let t=e;return t})();var av=class t{constructor(e){this.workoutService=e}userId=null;chartReady=new Oe;mixedChartOptions={};ngOnInit(){return y(this,null,function*(){yield this.loadMixedChartData(),this.chartReady.emit()})}loadMixedChartData(){return y(this,null,function*(){let e=this.getCurrentWeekDates(),n=yield this.workoutService.getFinishedWorkouts(this.userId),r=e.map(s=>{let o=n.find(a=>a.completedAt.toDate().toDateString()===s.toDateString());return o?{timeSpent:Math.round(o.timeSpent/60),name:o.name}:{timeSpent:0,name:"No Workout"}}),i=e.map(s=>{let o=n.find(a=>a.completedAt.toDate().toDateString()===s.toDateString());return o?Math.round(o.totalCalories):0});this.mixedChartOptions={chart:{height:350,type:"line",zoom:{enabled:!1}},series:[{name:"Time Spent (minutes)",type:"area",data:r.map(s=>s.timeSpent)},{name:"Calories Burned (kcal)",type:"line",data:i}],fill:{colors:["#16a34a","#ef4444"]},xaxis:{categories:e.map(s=>s.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"})),labels:{style:{colors:"white"}}},yaxis:[{title:{text:"Time Spent (minutes)",style:{color:"white"}},labels:{style:{colors:"white"}}},{opposite:!0,title:{text:"Calories (kcal)",style:{color:"white"}},labels:{style:{colors:"white"}}}],tooltip:{marker:{fillColors:["#16a34a","#ef4444"]},shared:!0,x:{formatter:(s,{dataPointIndex:o})=>{let a=r[o];return`${e[o].toLocaleDateString("en-US",{weekday:"short"})}, ${s} - ${a.name}`}},y:{formatter:(s,{seriesIndex:o})=>o===0?`${Math.round(s)} minutes`:`${Math.round(s)} kcal`}},title:{text:"Workout Activity This Week",align:"center",style:{color:"white"}},stroke:{curve:"smooth",colors:["#16a34a","#ef4444"]},markers:{size:4,colors:["#16a34a","#ef4444"],strokeColors:["white"],hover:{size:6}},legend:{position:"top",horizontalAlign:"right",labels:{colors:"white"},markers:{fillColors:["#16a34a","#ef4444"]}}}})}getCurrentWeekDates(){let e=new Date,n=new Date(e.setDate(e.getDate()-e.getDay())),r=[];for(let i=0;i<7;i++)r.push(new Date(n)),n.setDate(n.getDate()+1);return r}static \u0275fac=function(n){return new(n||t)(V($t))};static \u0275cmp=_e({type:t,selectors:[["app-charts"]],inputs:{userId:"userId"},outputs:{chartReady:"chartReady"},standalone:!0,features:[De],decls:3,vars:10,consts:[[1,"charts","p-4","bg-gray-800","text-white","rounded-xl","shadow-lg","hover:bg-gray-700","transition-all"],[1,"chart-container"],[3,"series","chart","xaxis","yaxis","title","legend","tooltip","stroke","fill","markers"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1),L(2,"apx-chart",2),E()()),n&2&&(k(2),$("series",r.mixedChartOptions.series)("chart",r.mixedChartOptions.chart)("xaxis",r.mixedChartOptions.xaxis)("yaxis",r.mixedChartOptions.yaxis)("title",r.mixedChartOptions.title)("legend",r.mixedChartOptions.legend)("tooltip",r.mixedChartOptions.tooltip)("stroke",r.mixedChartOptions.stroke)("fill",r.mixedChartOptions.fill)("markers",r.mixedChartOptions.markers))},dependencies:[VO,FO],styles:[".charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-tooltip[_ngcontent-%COMP%]{background-color:#1f2937cc!important;color:#fff!important;border-radius:4px;padding:10px}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-tooltip-title[_ngcontent-%COMP%]{background-color:transparent!important;color:#fff!important}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-xaxistooltip[_ngcontent-%COMP%]{display:none}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .apexcharts-legend[_ngcontent-%COMP%]   .apexcharts-legend-text[_ngcontent-%COMP%]{color:#fff!important}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .hover\\:bg-gray-700[_ngcontent-%COMP%]:hover{background-color:#374151!important}.charts[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #00000080,0 4px 6px -2px #0006}"]})};function YK(t,e){if(t&1){let n=Ve();w(0,"div"),ul(),w(1,"svg",5),G("load",function(){W(n);let i=O();return z(i.highlightMuscles())}),w(2,"g",6),L(3,"path",7)(4,"path",8)(5,"path",9)(6,"path",10)(7,"path",11)(8,"path",12),E(),w(9,"g",13),L(10,"path",14)(11,"path",15)(12,"path",16)(13,"path",17)(14,"path",18)(15,"path",19)(16,"path",20)(17,"path",21)(18,"path",22)(19,"path",23),E(),w(20,"g",24),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"calves"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(21,"path",25)(22,"path",26)(23,"path",27)(24,"path",28),E(),w(25,"g",29),L(26,"path",30)(27,"path",31),E(),w(28,"g",32),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"hamstrings"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(29,"path",33)(30,"path",34)(31,"path",35)(32,"path",36)(33,"path",37)(34,"path",38),E(),w(35,"g",39),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"quadriceps"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(36,"path",40)(37,"path",41)(38,"path",42)(39,"path",43)(40,"path",44)(41,"path",45),E(),w(42,"g",46),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"adductors"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(43,"path",47)(44,"path",48)(45,"path",49)(46,"path",50)(47,"path",51)(48,"path",52)(49,"path",53)(50,"path",54),E(),w(51,"g",55),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"abductors"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(52,"path",56)(53,"path",57),E(),w(54,"g",58),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"glutes"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(55,"path",59)(56,"path",60),E(),w(57,"g",61),L(58,"path",62)(59,"path",63)(60,"path",64)(61,"path",65),E(),w(62,"g",66),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"abdominals"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(63,"path",67)(64,"path",68)(65,"path",69)(66,"path",70)(67,"path",71)(68,"path",72)(69,"path",73)(70,"path",74)(71,"path",75)(72,"path",76)(73,"path",77)(74,"path",78)(75,"path",79)(76,"path",80)(77,"path",81)(78,"path",82)(79,"path",83)(80,"path",84),E(),w(81,"g",85),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"middleBack"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(82,"path",86)(83,"path",87)(84,"path",88)(85,"path",89),E(),w(86,"g",90),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"middleBack "))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(87,"path",91)(88,"path",92),E(),w(89,"g",93),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"forearms"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(90,"path",94)(91,"path",95)(92,"path",96)(93,"path",97)(94,"path",98)(95,"path",99)(96,"path",100)(97,"path",101)(98,"path",102)(99,"path",103)(100,"path",104)(101,"path",105)(102,"path",106)(103,"path",107),E(),w(104,"g",108),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"lats"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(105,"path",109)(106,"path",110)(107,"path",111)(108,"path",112),E(),w(109,"g",113),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"triceps"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(110,"path",114)(111,"path",115)(112,"path",116)(113,"path",117)(114,"path",118)(115,"path",119)(116,"path",120)(117,"path",121),E(),w(118,"g",122),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"biceps"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(119,"path",123)(120,"path",124),E(),w(121,"g",125),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"traps"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(122,"path",126)(123,"path",127)(124,"path",128)(125,"path",129)(126,"path",130),E(),w(127,"g",131),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"chest"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(128,"path",132)(129,"path",133),E(),w(130,"g",134),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"shoulders"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(131,"path",135)(132,"path",136)(133,"path",137)(134,"path",138)(135,"path",139)(136,"path",140)(137,"path",141)(138,"path",142),E(),w(139,"g",143),G("mouseover",function(i){W(n);let s=O();return z(s.showTooltip(i,"neck"))})("mouseout",function(){W(n);let i=O();return z(i.hideTooltip())}),L(140,"path",144)(141,"path",145)(142,"path",146)(143,"path",147)(144,"path",148)(145,"path",149)(146,"path",150),E(),w(147,"g",151),L(148,"path",152)(149,"path",153),E()()()}}function QK(t,e){t&1&&L(0,"div")}var lv=class t{constructor(e,n,r,i,s,o,a,l,u){this.auth=e;this.firestore=n;this.router=r;this.userService=i;this.workoutService=s;this.toastr=o;this.renderer=a;this.elRef=l;this.datePipe=u}userId=null;userGender=null;profileData={firstName:"",dob:"",height:null,weight:null,gender:null,profilePicture:null};musclesWorked={};isSVGReady=!1;musclesHighlighted=!1;tooltipVisible=!1;tooltipContent="";tooltipPosition={left:0,top:0};tooltipTimeout=null;ngOnInit(){return y(this,null,function*(){this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,this.userId?(yield this.fetchProfileData(),yield this.fetchMusclesWorkedLast7Days()):this.router.navigate(["/login"])})}ngAfterViewChecked(){!this.musclesHighlighted&&this.isSVGLoaded()&&this.highlightMuscles()}fetchProfileData(){return y(this,null,function*(){let e=so(this.firestore,`users/${this.userId}`);ya(e).then(n=>{n.exists()?(this.profileData=n.data(),this.userGender=this.profileData.gender!==void 0?this.profileData.gender:null):this.toastr.error("No profile data found. You can create a new profile.")}).catch(n=>{console.error("Error fetching profile data",n)})})}fetchMusclesWorkedLast7Days(){return y(this,null,function*(){this.userId&&(this.musclesWorked=yield this.workoutService.getMusclesWorkedLast7Days(this.userId),this.highlightMuscles())})}isSVGLoaded(){return!!this.elRef.nativeElement.querySelector("svg")}highlightMuscles(){let e=this.elRef.nativeElement.querySelector("svg");e&&this.musclesWorked&&(Object.keys(this.musclesWorked).forEach(r=>{let i=e.querySelector(`#${r}`);i&&(this.renderer.removeClass(i,"healed"),this.renderer.removeClass(i,"healing"),this.renderer.removeClass(i,"highlighted"),this.isMuscleHealed(r)?this.renderer.addClass(i,"healed"):this.isMuscleHealing(r)?this.renderer.addClass(i,"healing"):this.renderer.addClass(i,"highlighted"))}),this.musclesHighlighted=!0)}isMuscleWorked(e){return e in this.musclesWorked}isMuscleHealed(e){let n=this.musclesWorked[e];return n?(new Date().getTime()-new Date(n.lastWorked).getTime())/(1e3*3600*24)>=3:!1}isMuscleHealing(e){let n=this.musclesWorked[e];if(!n)return!1;let r=(new Date().getTime()-new Date(n.lastWorked).getTime())/(1e3*3600*24);return r>=1.5&&r<3}getMuscleState(e){return this.isMuscleHealed(e)?"Healed Recently":this.isMuscleHealing(e)?"Healing":this.isMuscleWorked(e)?"Worked Recently":"Not Worked Recently"}showTooltip(e,n){let r=this.elRef.nativeElement.querySelector(".tooltip"),i=this.getMuscleState(n),s=this.musclesWorked[n]?.lastWorked,o=this.calculateDaysToHeal(n),a=this.router.createUrlTree(["/exercises"],{queryParams:{muscle:n}}).toString(),l=`
      <strong>Muscle: ${n.charAt(0).toUpperCase()+n.slice(1)}</strong><br>
      State: ${i}<br>
      Last Worked: ${s?this.datePipe.transform(s,"MMM d, y"):"N/A"}<br>
      Days to Heal: ${o?`${o.toFixed(0)} day(s)`:"Healed"}<br>
      <a href="${a}" class="text-green-600" target="_blank">View Exercises</a>
    `;r.innerHTML=l,r.style.display="block",r.style.left=e.pageX+10+"px",r.style.top=e.pageY+10+"px",clearTimeout(this.tooltipTimeout),r.addEventListener("mouseenter",()=>clearTimeout(this.tooltipTimeout)),r.addEventListener("mouseleave",()=>this.hideTooltip())}hideTooltip(){this.tooltipTimeout=setTimeout(()=>{let e=this.elRef.nativeElement.querySelector(".tooltip");e.style.display="none"},500)}calculateDaysToHeal(e){let n=this.musclesWorked[e];if(!n)return null;let r=(new Date().getTime()-new Date(n.lastWorked).getTime())/(1e3*3600*24);return r<3?Math.max(3-r,0):null}static \u0275fac=function(n){return new(n||t)(V(je),V(qt),V(Ft),V(wn),V($t),V(Bt),V(tn),V(At),V(zs))};static \u0275cmp=_e({type:t,selectors:[["app-body-stats"]],standalone:!0,features:[kr([zs]),De],decls:7,vars:2,consts:[[1,"body","p-4","bg-gray-800","text-white","rounded-xl","shadow-lg","hover:bg-gray-700","transition-all","lg:col-span-1","h-full"],[1,"text-xl","font-semibold","text-center","mb-2"],[1,"body-figure"],[4,"ngIf"],[1,"body-tooltip","tooltip","absolut","text-white","p-2","rounded","z-50","max-w-xs",2,"display","none","pointer-events","auto"],["id","bodyMale","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 15000 16000",1,"w-full","h-auto",3,"load"],["id","feet",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","p1BOkpx8sd","d","M10400 13478 c-36 -6 -69 -15 -73 -22 -8 -12 -2 -73 13 -121 32 -101 76 -228 89 -253 5 -9 17 -37 26 -62 25 -65 38 -91 43 -86 2 3 -4 60 -14 128 -16 116 -16 127 0 198 18 79 38 113 73 124 27 9 52 -27 75 -104 40 -133 46 -159 53 -222 3 -37 10 -70 14 -73 9 -5 41 86 41 115 0 10 7 46 16 80 20 78 24 251 6 272 -28 35 -216 48 -362 26z"],["id","pqgRRSuyJ","d","M11372 13476 c-29 -7 -56 -16 -59 -20 -24 -23 -17 -174 14 -316 39 -184 46 -192 63 -77 16 110 59 260 88 305 11 16 21 21 36 16 69 -19 96 -130 76 -317 -7 -65 -10 -120 -7 -123 2 -2 10 10 17 28 7 18 18 47 25 63 7 17 21 50 30 75 10 25 21 54 26 65 34 80 71 225 67 260 -2 24 -9 31 -38 37 -69 16 -282 18 -338 4z"],["id","p4pfFFPpJ","d","M3250 13459 c-106 -16 -125 -23 -128 -48 -3 -20 39 -95 83 -148 21 -26 33 -41 93 -120 56 -74 92 -102 92 -73 0 6 6 10 14 10 8 0 16 4 18 8 6 15 154 132 167 132 18 0 60 50 82 97 23 50 25 116 4 133 -18 15 -342 22 -425 9z"],["id","pwvuRgK7j","d","M4312 13462 c-26 -4 -37 -23 -47 -75 -6 -32 -2 -44 29 -91 23 -35 50 -61 78 -76 24 -12 63 -41 88 -64 111 -105 154 -118 181 -54 7 18 15 35 18 38 17 15 81 100 81 107 0 4 10 18 23 29 12 12 37 47 56 78 41 68 36 76 -54 96 -56 13 -397 22 -453 12z"],["id","p11v0u4Shs","d","M3698 13289 c-9 -5 -39 -40 -66 -77 -59 -82 -92 -117 -157 -168 -27 -21 -58 -48 -67 -58 -22 -24 -23 -71 -2 -111 8 -16 19 -75 24 -130 13 -146 24 -177 60 -168 11 3 20 9 20 14 0 5 7 9 15 9 8 0 15 3 15 8 0 4 10 18 23 32 28 30 127 231 127 257 0 6 7 25 16 43 20 39 28 175 17 282 -7 68 -10 76 -25 67z"],["id","p19fVWIzGP","d","M4243 13287 c-4 -7 -9 -71 -11 -143 -4 -116 -2 -139 18 -198 13 -37 27 -69 31 -72 5 -3 9 -12 9 -21 0 -35 92 -203 131 -237 73 -66 98 -42 109 108 5 56 15 125 24 155 14 49 14 56 -1 82 -9 15 -28 33 -41 41 -32 17 -134 134 -192 220 -47 71 -64 85 -77 65z"],["id","shin",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","pJTOHBBMu","d","M10577 12822 c-13 -14 -17 -38 -17 -98 0 -153 -38 -487 -76 -669 -26 -123 -95 -355 -121 -405 -7 -14 -13 -33 -13 -42 0 -9 -6 -29 -14 -45 -21 -43 -38 -100 -52 -183 -11 -60 -11 -90 -2 -147 10 -63 15 -73 36 -78 13 -3 32 -3 42 0 21 7 50 62 50 95 0 12 4 29 10 39 5 10 14 43 19 72 15 87 31 169 46 239 42 192 64 310 75 410 41 363 54 522 55 679 0 149 -6 169 -38 133z"],["id","p9fip3tm5","d","M11440 12830 c-14 -9 -14 -18 20 -499 5 -68 14 -158 20 -200 5 -42 17 -128 26 -191 15 -112 30 -193 58 -315 8 -33 22 -100 31 -150 43 -233 72 -321 111 -331 46 -12 74 46 74 153 0 79 -23 169 -95 368 -52 146 -90 274 -106 364 -5 30 -12 58 -15 63 -15 24 -45 296 -69 623 -3 44 -8 87 -11 97 -6 20 -27 29 -44 18z"],["id","p1HcdFktbt","d","M10692 12792 c-13 -23 -13 -34 18 -522 5 -85 14 -186 19 -225 6 -38 13 -200 17 -360 5 -234 10 -307 26 -380 11 -49 23 -102 25 -117 3 -15 11 -32 18 -38 10 -8 15 7 25 75 12 85 7 180 -21 365 -30 202 -40 275 -49 365 -6 55 -14 132 -20 170 -5 39 -15 167 -21 285 -22 404 -22 408 -37 382z"],["id","pP0rUIsYn","d","M11340 12698 c0 -239 -58 -857 -101 -1073 -31 -155 -34 -475 -5 -475 12 0 46 100 46 137 0 12 5 34 12 50 7 18 14 137 19 333 3 168 12 364 18 435 6 72 16 184 22 250 16 182 17 447 2 452 -10 4 -13 -22 -13 -109z"],["id","p22uE53WE","d","M3583 12338 c-6 -7 -13 -26 -16 -43 -29 -163 -67 -364 -111 -590 -8 -38 -21 -110 -30 -158 -9 -49 -18 -92 -21 -96 -4 -8 -11 -42 -39 -200 -9 -51 -23 -96 -36 -113 -13 -18 -25 -54 -30 -96 -5 -37 -15 -92 -23 -122 -22 -82 -65 -229 -81 -280 -23 -71 -44 -168 -58 -265 -14 -99 -18 -363 -5 -409 8 -28 9 -28 22 -9 24 34 101 265 159 478 9 33 21 74 26 90 5 17 18 71 29 120 12 50 26 110 32 135 10 44 27 166 34 245 2 22 9 72 15 110 6 39 15 113 21 165 5 52 14 133 20 180 5 47 14 141 19 210 10 124 23 200 55 315 69 247 80 336 44 343 -9 1 -20 -3 -26 -10z"],["id","pKF97fnnk","d","M4342 12338 c-19 -19 -15 -61 23 -198 12 -44 26 -100 59 -225 16 -60 29 -167 47 -390 5 -66 14 -144 19 -174 6 -30 10 -73 10 -95 0 -22 7 -83 15 -136 7 -52 19 -131 25 -175 27 -188 27 -189 67 -345 7 -30 20 -76 28 -101 8 -26 15 -54 15 -63 0 -9 11 -42 24 -74 13 -31 27 -77 31 -102 4 -25 13 -58 20 -75 7 -16 21 -61 31 -100 9 -38 23 -77 29 -85 7 -8 15 -23 18 -32 4 -10 10 -18 15 -18 11 0 35 87 27 100 -4 6 -9 84 -11 173 -4 170 -22 286 -67 427 -13 41 -32 104 -42 140 -9 36 -23 85 -30 110 -7 25 -20 72 -28 105 -9 33 -21 80 -28 105 -6 25 -17 70 -24 100 -7 30 -21 87 -30 125 -16 68 -28 128 -59 285 -8 41 -22 113 -31 160 -30 156 -45 234 -55 300 -6 36 -14 79 -19 95 -5 17 -12 51 -15 76 -10 83 -35 116 -64 87z"],["id","pijntktIZ","d","M3502 12268 c-15 -20 -52 -109 -52 -127 0 -9 -4 -21 -9 -26 -4 -6 -16 -35 -26 -65 -20 -63 -23 -74 -64 -230 -16 -63 -37 -142 -46 -175 -10 -33 -21 -85 -26 -115 -5 -30 -24 -100 -44 -154 -19 -55 -35 -109 -35 -120 0 -12 -12 -55 -25 -96 -14 -41 -25 -84 -25 -95 0 -12 -4 -25 -9 -30 -25 -27 -43 -150 -51 -345 -13 -311 -15 -395 -5 -365 1 6 10 37 19 70 10 33 23 83 31 110 7 28 21 77 30 110 9 33 23 80 30 105 7 25 21 74 30 110 10 36 23 85 30 110 7 25 19 70 25 100 6 30 20 91 30 135 19 83 38 190 71 405 51 335 64 409 83 460 28 75 46 137 52 188 7 53 4 61 -14 40z"],["id","pDodP5AGl","d","M4440 12245 c0 -18 18 -89 40 -157 22 -68 45 -154 51 -193 5 -38 14 -95 19 -125 5 -30 16 -95 24 -145 64 -398 76 -461 92 -527 22 -90 45 -179 59 -228 7 -25 21 -72 30 -105 9 -33 23 -82 30 -110 8 -27 21 -77 30 -110 9 -33 23 -81 31 -107 8 -26 14 -55 14 -65 0 -10 8 -27 16 -38 14 -18 15 -8 10 120 -12 271 -27 451 -41 500 -8 28 -21 77 -31 110 -9 33 -22 80 -29 105 -8 25 -21 74 -30 110 -10 36 -23 85 -30 110 -20 68 -41 147 -60 220 -10 36 -23 88 -30 115 -7 28 -21 79 -30 115 -21 82 -100 331 -123 387 -22 55 -42 64 -42 18z"],["id","p2EyJCAMx","d","M3630 12143 c0 -10 -6 -47 -14 -83 -21 -95 -35 -199 -46 -335 -5 -66 -14 -174 -20 -240 -22 -235 -17 -561 11 -790 16 -130 68 -374 88 -413 5 -9 14 -29 20 -44 15 -40 29 -35 41 15 5 23 17 65 25 93 8 28 15 59 15 70 0 10 7 37 15 59 8 22 14 61 15 86 0 26 7 63 15 82 8 20 15 51 15 70 0 18 5 38 12 45 20 20 23 276 4 405 -29 196 -59 370 -92 537 -8 41 -21 107 -28 145 -8 39 -21 106 -30 150 -8 44 -18 97 -21 117 -6 39 -25 63 -25 31z"],["id","p1BqOWmR9U","d","M4301 12083 c-7 -43 -19 -107 -26 -143 -34 -163 -70 -351 -89 -460 -8 -47 -20 -114 -26 -150 -6 -35 -16 -100 -21 -145 -5 -44 -14 -116 -19 -160 -15 -114 2 -251 61 -495 27 -113 57 -231 66 -263 17 -56 34 -69 42 -32 2 10 9 24 16 32 14 13 35 97 35 136 0 12 7 34 14 49 8 16 18 49 21 75 4 27 13 86 21 132 31 183 27 794 -6 1081 -29 252 -53 397 -68 412 -5 5 -14 -22 -21 -69z"],["id","calves","id","calves",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1ExEI98c8","d","M10745 11133 c-16 -9 -35 -21 -41 -27 -6 -6 -22 -20 -35 -31 -25 -22 -58 -62 -87 -106 -9 -15 -26 -39 -36 -54 -16 -22 -21 -53 -28 -164 -4 -75 -11 -167 -16 -206 -5 -38 -14 -137 -21 -220 -7 -82 -17 -202 -22 -265 -6 -63 -13 -260 -16 -437 -7 -400 -5 -402 110 -143 56 124 170 423 186 486 5 18 12 37 16 44 4 7 11 26 15 44 4 17 19 74 33 126 14 54 28 140 31 200 4 58 12 125 17 150 18 78 22 199 10 329 -17 182 -30 249 -54 272 -25 23 -24 23 -62 2z"],["id","pwzBReq6k","d","M11266 11131 c-32 -35 -46 -144 -46 -361 0 -113 5 -223 10 -245 5 -22 12 -96 15 -165 7 -163 31 -260 125 -500 12 -30 25 -66 30 -80 26 -81 131 -327 175 -414 61 -119 70 -82 61 243 -6 249 -20 486 -36 661 -6 58 -15 170 -21 250 -5 80 -14 172 -19 205 -6 33 -10 80 -10 105 0 34 -9 61 -37 109 -47 79 -139 175 -189 196 -44 18 -38 19 -58 -4z"],["id","pYqvZDrXi","d","M10338 11063 c-40 -48 -81 -127 -178 -348 -5 -11 -18 -47 -30 -80 -25 -73 -27 -222 -6 -365 8 -52 22 -149 31 -215 31 -229 48 -343 91 -615 40 -255 38 -249 80 -229 45 22 74 73 66 117 -4 20 -7 215 -7 432 0 470 13 665 53 785 25 74 27 92 27 250 0 149 -2 175 -20 210 -34 69 -77 92 -107 58z"],["id","psI3ZmLDT","d","M11656 11011 c-52 -68 -53 -76 -32 -221 26 -170 46 -382 62 -655 13 -218 15 -603 4 -721 -11 -121 -11 -134 5 -158 21 -31 66 -58 82 -48 11 7 31 97 57 262 9 52 18 111 21 130 3 19 10 71 16 115 5 44 17 112 26 150 9 39 17 95 18 125 1 30 7 93 14 140 47 319 50 387 25 471 -23 77 -78 211 -114 280 -4 8 -20 40 -36 70 -36 71 -72 119 -89 119 -8 0 -34 -27 -59 -59z"],["id","knees",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","pXWlJcK90","d","M3498 10370 c-11 -37 -10 -183 3 -259 14 -87 34 -167 85 -341 30 -105 45 -170 55 -250 6 -47 12 -86 14 -88 8 -9 29 178 29 268 0 157 -37 317 -113 484 -37 81 -59 144 -63 181 -3 30 -3 30 -10 5z"],["id","pyN5MHrJR","d","M4422 10343 c-5 -10 -10 -34 -10 -54 -1 -20 -13 -67 -27 -105 -69 -183 -87 -251 -97 -364 -14 -144 -3 -366 18 -374 11 -4 14 7 14 54 0 33 7 88 16 123 22 86 74 277 85 307 12 34 38 170 38 195 0 11 4 54 9 95 5 41 6 88 2 105 -7 34 -34 45 -48 18z"],["id","hamstrings","id","hamstrings",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pkA61EG8P","d","M10662 9572 c-15 -5 -17 -795 -2 -997 6 -71 13 -177 17 -234 8 -129 19 -109 33 57 5 65 14 162 19 217 35 356 39 538 16 705 -21 152 -57 261 -83 252z"],["id","pry06AAC","d","M11390 9561 c-6 -12 -18 -43 -26 -69 -60 -194 -64 -476 -12 -947 6 -55 14 -142 17 -194 9 -146 28 -129 34 31 3 73 10 219 17 323 14 242 10 849 -7 866 -8 8 -14 6 -23 -10z"],["id","pN5jb2j8e","d","M11910 9507 c0 -68 -42 -252 -91 -399 -32 -95 -35 -122 -18 -165 6 -15 20 -75 30 -133 24 -138 26 -489 4 -670 -27 -214 -65 -416 -91 -478 -8 -18 -14 -39 -14 -46 0 -8 -13 -44 -30 -81 -38 -85 -39 -99 -2 -90 15 3 29 11 30 16 2 5 9 9 15 9 12 0 123 110 168 168 36 44 58 124 99 352 18 97 24 477 10 590 -6 52 -15 129 -20 170 -4 41 -13 102 -19 135 -37 210 -44 274 -50 449 -4 108 -11 199 -14 203 -4 3 -7 -10 -7 -30z"],["id","p4UlE7kI5","d","M10158 9520 c-4 -8 -9 -91 -12 -183 -3 -93 -13 -210 -21 -260 -9 -51 -22 -132 -30 -182 -7 -49 -19 -121 -25 -160 -17 -100 -25 -614 -11 -701 7 -38 16 -98 22 -134 5 -36 14 -78 19 -95 5 -16 15 -52 21 -79 8 -33 31 -72 69 -121 56 -69 169 -165 195 -165 22 0 28 19 12 43 -29 46 -96 269 -121 407 -42 233 -49 323 -49 590 1 226 4 279 21 360 11 52 26 109 32 125 11 26 9 41 -15 110 -51 150 -84 287 -94 390 -4 39 -10 63 -13 55z"],["id","p14RKs8TsZ","d","M10551 9408 c-35 -62 -141 -285 -141 -297 0 -5 -7 -22 -15 -37 -8 -16 -15 -36 -15 -45 0 -8 -4 -19 -9 -25 -7 -8 -31 -104 -61 -254 -17 -83 -24 -352 -11 -455 6 -49 15 -130 21 -180 6 -49 15 -106 19 -125 5 -19 17 -71 26 -115 21 -103 55 -237 90 -355 8 -25 21 -73 31 -107 18 -67 29 -72 39 -20 3 17 13 61 20 97 13 62 29 187 56 435 16 153 23 765 11 900 -6 61 -18 180 -28 265 -15 139 -15 166 -2 263 8 59 11 107 7 107 -4 0 -21 -24 -38 -52z"],["id","pQuMFfCkM","d","M11487 9419 c13 -74 9 -328 -7 -419 -12 -67 -15 -181 -15 -535 0 -430 7 -585 36 -790 5 -38 14 -101 19 -140 6 -38 14 -83 19 -100 5 -16 12 -42 15 -57 7 -33 26 -38 26 -7 0 11 7 44 15 72 9 29 22 72 29 97 8 25 21 74 31 110 9 36 23 88 30 115 60 230 95 489 95 711 0 172 -10 271 -42 404 -34 144 -66 225 -165 427 -74 150 -98 182 -86 112z"],["id","quadriceps","id","quadriceps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1BEmZ3BWk","d","M3568 9348 c-22 -31 -23 -42 -23 -193 0 -149 4 -196 37 -410 14 -94 14 -116 4 -430 -8 -234 -2 -306 23 -291 11 7 37 88 46 141 4 22 11 55 17 73 5 18 13 56 18 85 4 29 13 79 19 112 39 227 43 278 38 478 -6 271 -33 399 -93 446 -37 29 -59 26 -86 -11z"],["id","ppZJRTcix","d","M4304 9353 c-41 -37 -62 -103 -80 -243 -29 -244 -15 -475 53 -810 42 -212 70 -296 90 -276 5 4 8 170 8 369 1 308 3 376 19 457 13 68 18 148 20 282 1 175 0 188 -20 215 -28 38 -53 39 -90 6z"],["id","p1GJFmPWKF","d","M3231 9322 c-10 -20 -76 -178 -98 -237 -8 -22 -21 -52 -29 -67 -8 -14 -14 -35 -14 -45 0 -10 -4 -23 -9 -28 -14 -16 -111 -325 -111 -354 0 -15 -4 -31 -9 -37 -9 -9 -23 -65 -41 -169 -36 -211 -46 -445 -30 -700 7 -104 16 -241 19 -304 4 -78 10 -116 19 -119 8 -2 12 7 12 30 0 18 6 62 15 98 8 36 22 101 31 145 9 44 20 96 25 115 5 19 14 55 19 80 14 65 35 158 49 210 7 25 19 71 27 103 8 31 21 84 29 117 8 33 22 87 30 120 8 33 21 86 29 118 26 102 47 186 57 222 36 126 54 601 27 676 -14 39 -34 50 -47 26z"],["id","pv8t8PFGA","d","M4683 9303 c-5 -16 -7 -145 -6 -289 1 -260 5 -293 45 -439 6 -22 16 -65 23 -95 11 -49 142 -574 164 -660 9 -33 20 -81 55 -233 8 -34 21 -98 30 -142 9 -44 21 -107 28 -140 l12 -60 13 95 c19 133 29 798 14 910 -19 142 -29 197 -39 232 -6 18 -18 62 -27 98 -24 98 -45 167 -76 255 -15 44 -31 92 -35 108 -3 15 -10 30 -15 33 -5 3 -9 12 -9 21 0 8 -6 29 -14 46 -7 18 -21 52 -31 77 -19 51 -32 82 -66 158 -27 59 -54 69 -66 25z"],["id","pza3WkQKS","d","M3381 9281 c-11 -7 -14 -64 -17 -302 -3 -305 -5 -325 -53 -434 -5 -11 -15 -38 -24 -60 -35 -94 -50 -132 -63 -163 -8 -18 -14 -39 -14 -47 0 -7 -6 -26 -14 -42 -14 -29 -31 -76 -46 -128 -5 -16 -16 -52 -24 -80 -46 -158 -54 -192 -91 -350 -96 -421 -114 -843 -53 -1215 6 -36 13 -84 15 -107 5 -47 33 -62 33 -19 0 14 4 27 9 31 5 3 12 20 16 38 4 17 17 64 30 102 12 39 33 104 45 145 13 41 28 93 35 115 7 22 21 67 31 100 9 33 30 98 44 145 15 47 36 112 45 145 10 33 24 74 32 92 7 17 13 40 13 50 0 10 4 23 8 29 4 5 18 36 31 69 13 33 29 74 36 90 27 63 61 192 85 325 47 261 52 867 9 1235 -24 199 -27 216 -46 230 -21 16 -52 19 -72 6z"],["id","p1DvDMRKzW","d","M4506 9272 c-16 -19 -22 -48 -46 -227 -22 -172 -34 -625 -22 -868 16 -319 34 -427 114 -682 28 -88 68 -201 90 -252 23 -56 38 -108 38 -133 0 -39 23 -109 57 -175 14 -28 41 -108 77 -230 8 -27 28 -93 44 -145 16 -52 33 -110 37 -127 3 -18 11 -35 16 -38 5 -4 9 -16 9 -28 1 -12 7 -33 14 -46 13 -24 14 -21 29 50 36 172 42 256 42 544 0 284 -5 348 -41 560 -26 155 -68 336 -109 475 -9 30 -20 71 -24 90 -4 19 -13 45 -19 57 -7 12 -12 30 -12 40 0 10 -7 31 -15 47 -8 15 -15 34 -15 42 0 7 -7 28 -14 46 -8 18 -29 71 -47 118 -17 47 -44 118 -60 157 -46 114 -52 159 -58 458 l-6 280 -31 3 c-20 2 -36 -4 -48 -16z"],["id","adductors","id","adductors",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pRWjwwf8U","d","M10770 8664 c0 -128 -53 -531 -104 -789 -62 -308 -71 -382 -67 -527 1 -40 6 -52 39 -84 42 -41 162 -124 179 -124 6 0 13 -5 15 -10 2 -6 20 -13 40 -16 l36 -6 7 58 c4 33 12 77 17 99 18 68 20 499 4 580 -8 39 -17 88 -21 110 -3 22 -10 54 -15 70 -11 34 -62 255 -84 360 -8 39 -20 124 -26 190 -12 123 -20 159 -20 89z"],["id","psgSoYMAf","d","M11298 8670 c-5 -14 -10 -56 -13 -95 -6 -73 -27 -198 -51 -300 -7 -33 -27 -118 -44 -190 -17 -71 -35 -150 -41 -174 -31 -137 -36 -471 -8 -627 6 -32 14 -84 17 -114 6 -43 11 -56 26 -58 45 -9 251 130 281 189 29 55 16 211 -42 499 -8 41 -18 99 -23 128 -5 29 -13 74 -19 100 -24 111 -61 407 -70 562 -4 70 -9 97 -13 80z"],["id","pyw2OSkKG","d","M3757 8342 c-33 -150 -100 -371 -143 -469 -8 -17 -14 -36 -14 -42 0 -6 -6 -25 -14 -43 -8 -18 -28 -71 -46 -118 -17 -47 -37 -101 -45 -120 -7 -19 -28 -75 -46 -125 -17 -49 -38 -104 -45 -122 -8 -17 -14 -37 -14 -45 0 -8 -4 -18 -9 -23 -5 -6 -14 -26 -19 -45 -6 -19 -26 -81 -46 -137 -103 -289 -159 -515 -170 -685 -5 -95 4 -113 23 -45 24 84 65 166 163 327 40 67 84 142 98 168 14 26 27 49 30 52 12 12 80 151 80 164 0 8 3 16 8 18 4 2 18 30 30 63 13 33 28 69 33 80 8 18 36 106 59 180 39 132 74 321 94 520 8 77 20 169 26 205 8 48 8 99 0 190 -6 68 -12 126 -14 127 -1 1 -10 -32 -19 -75z"],["id","pI10Sh332","d","M4171 8352 c1 -218 32 -579 60 -711 12 -53 25 -120 30 -150 5 -29 14 -62 19 -72 6 -10 10 -28 10 -41 0 -13 7 -36 15 -52 8 -15 15 -36 15 -45 0 -9 7 -29 15 -45 8 -15 15 -33 15 -38 0 -9 6 -24 45 -113 24 -57 115 -236 138 -273 13 -20 27 -44 31 -52 8 -17 19 -35 57 -95 14 -22 29 -47 32 -55 4 -8 16 -28 26 -45 25 -39 91 -169 91 -179 0 -4 6 -22 14 -39 8 -18 17 -43 19 -57 3 -25 3 -25 12 4 13 48 -16 244 -62 416 -36 134 -158 500 -188 565 -7 17 -20 53 -29 80 -30 99 -126 357 -172 463 -8 18 -14 37 -14 43 0 6 -6 25 -14 42 -15 33 -60 171 -89 267 -9 30 -23 78 -31 107 -9 28 -16 67 -16 86 0 22 -6 37 -15 41 -12 4 -15 -5 -14 -52z"],["id","p34rwjwLE","d","M3777 7764 c-3 -4 -4 -25 -1 -48 9 -67 -11 -228 -33 -277 -33 -70 -43 -99 -43 -119 0 -17 37 -99 141 -317 21 -44 39 -86 39 -92 0 -6 5 -11 10 -11 6 0 10 -6 10 -13 0 -7 7 -22 15 -33 15 -17 16 -3 12 156 -6 210 -35 469 -68 605 -6 22 -15 60 -21 85 -14 61 -38 86 -61 64z"],["id","p4dpFFpb0","d","M4133 7703 c-24 -58 -37 -110 -64 -268 -26 -157 -50 -585 -31 -585 9 0 40 59 97 185 15 33 50 106 77 162 58 117 58 132 11 229 -25 52 -29 73 -33 184 -4 109 -7 125 -23 128 -12 3 -22 -8 -34 -35z"],["id","p1BTvYa875","d","M3643 7178 c-11 -14 -18 -43 -39 -168 -11 -70 -27 -111 -86 -230 -40 -80 -75 -147 -78 -150 -3 -3 -18 -30 -33 -60 -16 -30 -36 -68 -46 -85 -53 -91 -92 -168 -87 -172 8 -8 134 88 217 167 20 19 68 64 105 99 229 212 251 239 225 289 -5 9 -17 37 -26 62 -29 78 -106 227 -124 244 -15 13 -20 14 -28 4z"],["id","pQDbJNPZD","d","M4282 7166 c-37 -47 -136 -263 -146 -318 -6 -33 -3 -42 31 -80 21 -24 45 -48 53 -54 8 -7 38 -34 66 -60 190 -183 281 -264 295 -264 5 0 9 -4 9 -8 0 -12 86 -72 93 -66 6 6 -8 34 -70 144 -14 25 -43 79 -65 120 -167 311 -191 368 -202 485 -6 66 -23 125 -36 125 -5 0 -17 -11 -28 -24z"],["id","abductors","id","abductors",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pNRKj7TLQ","d","M9973 8034 c-13 -48 -10 -811 4 -825 8 -8 14 -6 23 10 15 29 39 105 50 161 12 61 28 125 48 187 17 56 14 82 -22 203 -9 30 -21 73 -27 95 -5 21 -14 44 -18 50 -4 5 -13 35 -20 65 -16 76 -27 92 -38 54z"],["id","p11QW2sARU","d","M12071 8013 c-6 -26 -24 -88 -40 -138 -56 -178 -61 -198 -61 -239 0 -22 5 -57 11 -76 13 -43 37 -142 48 -195 7 -38 24 -94 42 -142 5 -13 13 -23 18 -23 16 0 21 43 27 255 6 218 -8 581 -24 597 -6 6 -14 -10 -21 -39z"],["id","glutes","id","glutes",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pHeVFaXg1","d","M10116 7468 c-9 -20 -21 -58 -27 -85 -6 -26 -15 -64 -20 -83 -4 -19 -13 -78 -19 -130 -6 -52 -15 -122 -20 -155 -6 -33 -10 -116 -10 -183 0 -125 2 -136 48 -232 20 -42 155 -180 176 -180 8 0 16 -4 18 -9 4 -12 142 -75 208 -96 99 -31 114 -34 185 -46 98 -16 297 -22 315 -10 13 9 15 52 15 290 l0 279 -40 59 c-21 32 -62 81 -90 108 -77 77 -93 87 -235 156 -58 28 -117 57 -132 65 -14 8 -31 14 -38 14 -6 0 -54 21 -106 47 -89 43 -173 110 -175 137 0 6 -9 29 -19 51 l-18 40 -16 -37z"],["id","pTsfHEZR1","d","M11898 7494 c-3 -5 -8 -25 -12 -45 -10 -55 -78 -117 -190 -172 -52 -26 -98 -47 -101 -47 -23 0 -265 -120 -320 -158 -73 -51 -157 -144 -191 -209 l-29 -58 0 -263 c0 -321 -13 -296 155 -288 125 6 217 17 271 34 19 5 61 18 94 28 33 10 76 26 95 36 19 10 40 18 47 18 6 0 13 3 15 8 2 4 21 16 43 27 50 25 176 148 199 195 42 83 51 125 50 220 -1 91 -13 216 -36 365 -6 39 -14 93 -18 120 -16 103 -58 214 -72 189z"],["id","hands",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","p1121Q3oxm","d","M1250 7267 c-48 -23 -78 -48 -84 -71 -6 -25 -49 -71 -120 -129 -25 -21 -46 -45 -46 -53 0 -21 47 -119 82 -170 15 -23 28 -47 28 -53 0 -6 4 -11 9 -11 5 0 12 -8 15 -18 3 -9 19 -32 36 -50 16 -18 42 -49 57 -68 36 -48 58 -55 140 -43 97 13 103 22 103 164 0 111 -29 286 -51 310 -5 5 -9 15 -9 22 0 26 -64 145 -88 164 -28 21 -37 22 -72 6z"],["id","pDy1fx2dH","d","M6650 7267 c-26 -20 -70 -83 -80 -113 -5 -16 -16 -48 -24 -71 -41 -113 -56 -193 -56 -305 0 -70 5 -122 13 -137 14 -28 48 -40 130 -43 64 -3 55 -10 142 98 17 20 35 42 40 48 10 10 90 143 128 213 28 51 22 66 -58 138 -41 37 -75 72 -75 79 0 19 -60 76 -98 92 -41 17 -43 17 -62 1z"],["id","pkBqMdHtg","d","M8285 7233 c-36 -19 -70 -54 -89 -91 -8 -15 -44 -53 -80 -85 -36 -32 -66 -66 -66 -74 0 -39 136 -264 199 -330 17 -18 31 -36 31 -41 0 -5 8 -16 18 -25 36 -33 191 -16 212 23 17 31 12 260 -6 321 -69 226 -118 320 -168 319 -12 -1 -34 -8 -51 -17z"],["id","pcspC028A","d","M13691 7223 c-13 -15 -28 -39 -35 -53 -6 -14 -13 -27 -16 -30 -8 -6 -43 -107 -63 -180 -21 -73 -29 -188 -21 -281 8 -92 17 -100 122 -107 82 -5 82 -5 157 96 21 28 43 52 47 52 4 0 8 4 8 9 0 5 17 36 39 68 43 66 91 162 91 185 0 18 -30 52 -80 90 -19 15 -51 51 -70 80 -36 53 -97 98 -135 98 -11 0 -31 -13 -44 -27z"],["id","abdominals","id","abdominals",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pMKdVzRbR","d","M3749 6643 c-69 -43 -129 -189 -193 -473 -8 -36 -20 -88 -26 -117 -6 -29 -15 -76 -20 -105 -10 -66 -27 -159 -41 -217 -5 -25 -13 -80 -16 -123 -8 -106 2 -118 105 -118 57 0 85 5 118 22 24 12 44 25 44 30 0 4 5 8 10 8 10 0 62 33 86 55 6 6 20 27 30 45 16 32 19 79 28 476 10 488 10 490 -49 518 -40 20 -44 19 -76 -1z"],["id","p1AW0lSIiM","d","M4143 6644 c-61 -30 -65 -56 -59 -327 11 -403 26 -649 43 -675 20 -32 51 -62 63 -62 6 0 10 -4 10 -8 0 -5 10 -14 23 -20 12 -7 40 -23 62 -37 34 -20 53 -24 122 -25 78 0 84 1 99 26 15 23 16 35 4 127 -6 56 -18 129 -25 162 -7 33 -21 101 -30 150 -27 147 -46 237 -61 284 -8 25 -14 52 -14 61 0 26 -59 196 -86 248 -29 57 -41 73 -74 95 -30 21 -36 21 -77 1z"],["id","p1HoGpNKzU","d","M3290 6184 c-74 -20 -134 -57 -143 -89 -11 -38 7 -923 19 -935 9 -9 19 -8 42 4 37 19 111 102 116 130 8 40 48 699 50 820 1 75 -16 89 -84 70z"],["id","p11chYmtbr","d","M4598 6178 c-16 -16 -18 -28 -13 -91 13 -166 26 -395 35 -582 6 -147 12 -208 24 -230 22 -44 97 -114 126 -117 24 -3 25 -1 31 82 4 47 10 258 14 470 l7 385 -29 25 c-39 35 -68 50 -125 65 -46 12 -52 11 -70 -7z"],["id","pCaISzMTu","d","M3840 5441 c-67 -37 -101 -45 -240 -52 -80 -3 -146 -7 -147 -8 -28 -19 -33 -38 -33 -136 0 -97 2 -105 26 -135 15 -17 43 -38 63 -46 148 -64 319 -61 368 5 29 40 23 374 -7 378 -8 1 -22 -2 -30 -6z"],["id","pPx1E5p4h","d","M4087 5443 c-4 -3 -7 -88 -7 -188 0 -210 -2 -204 94 -229 68 -18 143 -11 246 24 70 23 95 41 115 80 30 60 25 205 -9 238 -14 14 -44 18 -159 22 -117 5 -150 9 -187 27 -58 27 -85 35 -93 26z"],["id","pvv434iUB","d","M3184 5018 c-16 -12 -48 -41 -72 -64 -37 -36 -45 -53 -61 -121 -46 -188 -48 -225 -10 -182 10 12 19 26 19 30 0 15 119 129 135 129 8 0 15 5 15 10 0 6 9 10 20 10 13 0 24 10 30 26 11 28 14 143 4 168 -9 23 -46 20 -80 -6z"],["id","p1FJtDfnPl","d","M4708 5003 c-3 -21 -3 -66 0 -100 5 -62 5 -63 47 -83 53 -26 101 -70 151 -140 l39 -55 3 40 c3 39 -18 143 -44 221 -20 56 -129 154 -173 154 -14 0 -20 -9 -23 -37z"],["id","pZ930H41F","d","M3442 4898 c-8 -24 -16 -66 -19 -95 -6 -58 7 -84 82 -158 99 -99 219 -140 350 -120 l48 7 -6 131 c-4 73 -13 155 -20 182 l-14 50 -169 5 c-131 5 -177 10 -203 23 -19 9 -35 17 -35 17 -1 0 -7 -19 -14 -42z"],["id","p13U4Bs7kM","d","M4475 4922 c-22 -12 -75 -17 -198 -20 -195 -5 -183 2 -197 -120 -30 -245 -30 -245 41 -262 112 -27 278 40 366 148 60 73 64 89 49 177 -7 42 -17 80 -22 84 -5 4 -22 1 -39 -7z"],["id","p1Aol7YuXY","d","M3193 4676 c-39 -42 -114 -150 -136 -195 -19 -38 -22 -67 -7 -76 11 -7 130 45 130 57 0 4 6 8 13 8 29 0 45 36 52 117 7 79 2 123 -14 123 -4 0 -22 -15 -38 -34z"],["id","pkXZDatll","d","M4723 4695 c-11 -30 3 -173 20 -198 13 -21 147 -97 170 -97 4 0 7 17 7 38 0 40 -60 143 -135 230 -39 45 -52 51 -62 27z"],["id","pwTALyX5B","d","M3424 4478 c13 -133 23 -162 74 -215 85 -89 152 -121 272 -130 123 -8 130 -3 130 95 0 73 -10 132 -28 159 -4 7 -44 17 -87 23 -190 24 -292 59 -323 112 -9 15 -23 28 -30 28 -12 0 -13 -13 -8 -72z"],["id","p16Wql9oiz","d","M4509 4528 c-28 -54 -137 -94 -314 -117 -89 -12 -104 -18 -109 -45 -2 -11 -9 -45 -15 -74 -15 -72 -13 -113 5 -137 13 -18 26 -20 107 -19 73 1 102 5 142 23 120 55 205 149 205 228 1 21 4 56 8 78 9 46 5 85 -8 85 -5 0 -15 -10 -21 -22z"],["id","p4LFfbvXc","d","M3223 4410 c-31 -13 -135 -119 -158 -163 -37 -69 1 -86 112 -52 73 23 108 58 117 118 13 87 -12 121 -71 97z"],["id","pmklQXGx7","d","M4693 4413 c-9 -3 -13 -29 -13 -78 0 -72 1 -75 33 -98 41 -31 160 -70 187 -62 29 9 25 45 -11 94 -38 53 -129 141 -145 141 -7 0 -18 2 -26 4 -7 3 -19 2 -25 -1z"],["id","p6ZYafXRF","d","M3205 4121 c-83 -52 -165 -123 -165 -146 0 -7 7 -18 15 -25 16 -13 70 -4 175 31 138 45 154 56 144 99 -9 40 -47 90 -69 90 -11 0 -56 -23 -100 -49z"],["id","p1FBW4ssAp","d","M4632 4158 c-19 -25 -42 -77 -42 -98 0 -22 40 -43 150 -80 148 -49 200 -47 180 6 -14 37 -36 56 -140 123 -94 61 -129 72 -148 49z"],["id","lowerBack","id","middleBack",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","ptD6tZH3H","d","M10098 6470 c-11 -33 36 -298 62 -349 4 -9 19 -40 31 -68 13 -29 27 -53 31 -53 5 0 8 -5 8 -11 0 -5 17 -25 37 -44 42 -39 101 -51 186 -40 94 13 215 86 261 157 l18 27 -53 15 c-29 9 -59 16 -67 16 -25 0 -192 61 -250 92 -114 61 -194 136 -238 227 -12 23 -23 38 -26 31z"],["id","p6F6yOgF3","d","M11916 6432 c-17 -38 -126 -162 -143 -162 -3 0 -14 -6 -22 -14 -48 -42 -233 -117 -361 -146 -77 -18 -86 -23 -66 -43 9 -8 16 -18 16 -22 0 -16 81 -78 135 -104 114 -55 241 -54 297 2 55 54 74 87 122 215 27 71 47 187 44 252 l-3 65 -19 -43z"],["id","pUpTDFFw","d","M10890 6172 c0 -4 -10 -18 -23 -32 -13 -14 -56 -63 -96 -110 -40 -47 -83 -96 -95 -110 -45 -50 -146 -192 -146 -206 0 -8 -4 -14 -10 -14 -22 0 -10 -61 18 -88 15 -15 43 -48 61 -74 19 -27 38 -48 43 -48 4 0 8 -4 8 -10 0 -5 7 -18 15 -27 8 -10 37 -49 64 -88 28 -38 55 -75 61 -82 5 -7 10 -15 10 -18 0 -8 44 -69 53 -73 4 -2 7 -9 7 -15 1 -15 35 -57 47 -57 30 0 44 544 22 845 -13 183 -17 215 -29 215 -6 0 -10 -3 -10 -8z"],["id","pRsRnZxXf","d","M11119 6063 c-20 -164 -20 -802 0 -891 11 -50 16 -60 27 -51 8 6 14 17 14 24 0 8 3 15 8 17 10 5 52 66 52 77 0 5 4 11 9 13 4 2 34 41 67 88 32 47 62 87 66 88 4 2 8 10 8 17 0 7 3 15 8 17 4 2 32 35 62 73 30 39 60 75 65 80 36 34 37 43 10 96 -25 51 -134 197 -185 250 -14 15 -34 37 -45 50 -116 138 -139 164 -145 167 -4 1 -13 -50 -21 -115z"],["id","middleBack","id","middleBack ",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pVuuf4LhF","d","M10243 5548 c-16 -320 0 -395 58 -270 12 26 25 55 30 64 5 10 18 46 29 80 75 232 76 244 10 288 -12 8 -32 23 -44 32 -13 9 -34 20 -48 23 l-24 6 -11 -223z"],["id","pA8V2zXD6","d","M11750 5763 c-8 -3 -41 -26 -72 -50 -66 -50 -67 -55 -37 -158 11 -38 24 -83 29 -100 26 -93 87 -226 106 -232 20 -7 25 79 18 314 -7 235 -8 239 -44 226z"],["id","forearms","id","forearms",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pKApvSems","d","M13508 6542 c-19 -4 -25 -17 -38 -89 -5 -26 -16 -77 -24 -113 -8 -36 -21 -94 -29 -130 -15 -69 -30 -125 -53 -204 -8 -26 -14 -56 -14 -64 0 -9 -6 -34 -14 -57 -8 -22 -22 -67 -31 -100 -56 -203 -160 -518 -205 -620 -39 -88 -43 -120 -9 -79 17 20 79 163 79 181 0 7 4 13 9 13 5 0 12 12 16 28 3 15 12 41 19 57 15 33 41 101 62 158 8 20 20 54 28 75 8 20 21 55 29 77 9 22 30 81 47 130 38 108 57 159 76 203 8 18 14 39 14 47 0 9 4 23 10 33 9 16 86 236 116 335 14 43 13 50 -3 77 -18 30 -55 49 -85 42z"],["id","pyXffQJxZ","d","M8500 6513 c-18 -23 -20 -35 -15 -73 4 -24 13 -56 20 -70 7 -14 16 -40 20 -57 3 -18 11 -35 16 -38 5 -4 9 -15 9 -27 0 -11 6 -34 14 -51 8 -18 16 -41 19 -52 3 -11 22 -65 42 -120 21 -55 41 -116 47 -135 5 -19 14 -39 19 -44 5 -6 9 -16 9 -24 0 -8 6 -28 14 -45 7 -18 28 -72 45 -122 18 -49 38 -103 45 -120 8 -16 24 -59 37 -95 12 -36 26 -69 31 -75 4 -5 8 -15 8 -22 0 -28 119 -273 132 -273 6 0 7 8 3 18 -4 9 -12 31 -17 47 -6 17 -15 34 -19 40 -5 5 -9 16 -9 25 0 8 -7 28 -15 44 -8 15 -15 33 -15 38 0 6 -6 24 -13 41 -21 50 -38 99 -48 140 -5 21 -13 45 -18 55 -5 9 -16 44 -26 77 -10 33 -23 80 -31 105 -18 62 -38 133 -59 210 -9 36 -23 86 -31 112 -8 26 -14 53 -14 61 0 8 -6 37 -14 63 -24 83 -56 222 -76 326 -12 63 -15 68 -55 68 -25 0 -39 -7 -55 -27z"],["id","pkhuZDGbT","d","M1585 6407 c122 -110 335 -324 335 -336 0 -6 4 -11 8 -11 4 0 25 -24 47 -52 22 -29 47 -61 57 -71 10 -10 26 -30 36 -45 19 -29 47 -65 75 -94 9 -10 17 -21 17 -24 0 -6 60 -83 93 -119 10 -11 26 -33 35 -50 12 -23 17 -26 20 -13 7 33 -125 262 -211 365 -84 102 -348 352 -428 406 -35 24 -57 41 -114 90 -18 15 -37 27 -41 27 -5 -1 27 -33 71 -73z"],["id","p10BTVHOFP","d","M6427 6465 c-9 -8 -20 -15 -26 -15 -6 0 -11 -4 -11 -9 0 -4 -19 -21 -42 -37 -24 -16 -45 -31 -48 -34 -3 -3 -39 -32 -80 -65 -91 -72 -312 -293 -379 -378 -65 -83 -100 -138 -150 -236 -37 -72 -51 -110 -38 -105 15 7 77 91 77 104 0 6 4 10 8 10 5 0 28 27 52 60 24 33 47 60 52 60 4 0 8 6 8 14 0 8 4 16 9 18 5 2 39 44 77 93 37 50 73 95 79 101 5 6 37 42 70 79 33 38 71 78 84 89 13 12 42 39 65 62 22 22 73 67 111 99 98 83 109 94 103 100 -3 3 -13 -1 -21 -10z"],["id","pur9xweGh","d","M6462 6436 c-12 -18 -35 -47 -51 -65 -16 -18 -45 -51 -64 -74 -19 -23 -43 -52 -54 -63 -10 -12 -38 -45 -63 -74 -25 -29 -58 -67 -75 -84 -59 -64 -99 -113 -201 -249 -57 -76 -104 -142 -104 -147 0 -4 -3 -10 -7 -12 -18 -7 -52 -67 -41 -70 14 -5 78 23 78 34 0 4 5 8 11 8 11 0 153 139 199 195 54 66 90 116 90 125 0 6 4 10 8 10 5 0 51 64 103 142 110 167 104 156 177 290 34 62 30 86 -6 34z"],["id","ptL06coDE","d","M1490 6408 c17 -29 35 -65 41 -80 6 -16 15 -28 20 -28 5 0 9 -5 9 -11 0 -10 178 -286 205 -316 16 -20 28 -34 80 -103 54 -73 184 -205 230 -236 51 -34 85 -46 85 -29 0 7 -7 20 -15 29 -8 8 -15 17 -15 21 0 4 -19 32 -43 63 -23 31 -50 68 -59 82 -9 14 -26 36 -38 50 -12 14 -33 41 -45 60 -13 19 -40 53 -60 75 -20 22 -55 62 -78 89 -52 60 -59 68 -124 142 -55 64 -105 122 -167 197 -22 26 -43 47 -47 47 -5 0 5 -24 21 -52z"],["id","p4vBaUEId","d","M1397 6434 c-4 -5 15 -68 32 -102 4 -9 15 -33 24 -52 42 -95 73 -163 109 -240 50 -108 49 -105 88 -230 42 -135 87 -267 104 -305 8 -16 24 -55 36 -85 28 -70 110 -224 121 -228 5 -2 9 -8 9 -14 0 -12 86 -125 116 -153 60 -56 128 -105 145 -105 9 0 10 19 6 68 -13 129 -47 258 -86 323 -12 19 -28 50 -37 69 -36 82 -99 200 -106 200 -4 0 -8 5 -8 11 0 6 -13 28 -30 49 -16 21 -30 41 -30 44 0 3 -6 14 -14 23 -8 10 -58 77 -110 148 -52 72 -100 136 -106 142 -6 7 -20 30 -32 50 -12 21 -25 40 -28 43 -3 3 -25 43 -49 90 -110 214 -142 266 -154 254z"],["id","pqJbcWJuS","d","M6529 6407 c-8 -12 -44 -80 -80 -152 -35 -71 -66 -132 -69 -135 -3 -3 -15 -22 -27 -42 -12 -20 -56 -82 -97 -138 -42 -55 -76 -105 -76 -110 0 -6 -4 -10 -9 -10 -5 0 -23 -21 -39 -47 -43 -67 -86 -127 -94 -131 -5 -2 -8 -10 -8 -17 0 -7 -3 -15 -7 -17 -10 -4 -74 -111 -97 -163 -19 -40 -28 -59 -74 -149 -14 -28 -29 -64 -33 -80 -44 -170 -61 -296 -40 -296 26 0 221 172 221 196 0 3 8 14 18 25 11 10 25 32 33 47 8 15 17 29 20 32 6 5 98 193 125 255 19 44 67 185 104 305 18 58 39 119 46 137 8 17 14 34 14 37 0 3 18 45 41 93 22 49 50 108 61 133 12 25 32 67 45 95 39 80 63 155 50 155 -7 0 -19 -11 -28 -23z"],["id","pfqH59RR5","d","M8703 6243 c5 -78 15 -131 44 -233 22 -76 52 -171 62 -195 5 -11 20 -47 32 -80 13 -33 27 -64 31 -69 4 -6 8 -16 8 -23 0 -7 13 -41 29 -75 16 -35 41 -90 56 -123 15 -33 35 -79 46 -102 10 -24 28 -64 40 -90 11 -27 24 -56 30 -65 5 -10 9 -25 9 -33 0 -8 5 -15 10 -15 13 0 13 92 -1 199 -20 161 -71 396 -90 415 -5 6 -9 18 -9 27 0 16 -19 65 -66 167 -13 29 -24 55 -24 57 0 2 -20 39 -45 81 -25 41 -45 78 -45 80 0 8 -112 154 -118 154 -3 0 -2 -35 1 -77z"],["id","pxlBJP3x7","d","M13363 6309 c-7 -7 -13 -19 -13 -26 0 -7 -4 -13 -9 -13 -8 0 -27 -27 -86 -122 -5 -9 -21 -38 -35 -65 -14 -26 -28 -50 -31 -53 -4 -3 -10 -16 -14 -30 -4 -14 -11 -27 -14 -30 -3 -3 -17 -32 -29 -65 -13 -33 -28 -69 -33 -80 -9 -20 -33 -97 -63 -194 -9 -29 -16 -63 -16 -76 0 -12 -5 -35 -10 -51 -14 -40 -39 -335 -31 -352 7 -12 16 4 51 93 5 11 25 56 45 100 20 44 42 94 49 110 7 17 20 46 29 65 9 19 30 65 46 103 17 37 31 73 31 80 0 7 4 17 8 23 5 5 19 38 31 74 13 36 26 72 31 81 7 15 32 103 51 179 4 19 13 56 19 81 15 63 10 185 -7 168z"],["id","p8j4MzjUs","d","M13199 6273 c-32 -22 -93 -87 -132 -140 -17 -24 -34 -43 -39 -43 -4 0 -8 -7 -8 -15 0 -8 -4 -15 -9 -15 -5 0 -24 -23 -42 -51 -18 -28 -37 -56 -43 -63 -32 -35 -176 -252 -176 -265 0 -6 -4 -11 -8 -11 -5 0 -14 -10 -21 -22 -6 -13 -20 -36 -31 -53 -11 -16 -23 -37 -26 -45 -4 -8 -13 -22 -19 -30 -28 -34 -135 -238 -135 -257 0 -20 23 -16 82 14 33 17 75 28 111 31 54 4 61 8 93 46 18 22 45 61 59 86 44 78 143 288 180 380 10 25 31 73 47 108 15 34 28 67 28 72 0 6 4 18 10 28 19 35 80 186 80 199 0 7 4 13 9 13 8 0 23 41 18 47 -2 1 -14 -5 -28 -14z"],["id","pXEEGOhdr","d","M8880 6223 c15 -32 44 -98 64 -148 20 -49 41 -98 46 -107 6 -10 10 -22 10 -28 0 -5 13 -38 29 -72 15 -35 45 -102 65 -150 43 -104 134 -282 167 -329 44 -63 67 -79 112 -79 40 0 126 -26 137 -41 3 -4 18 -11 33 -14 21 -6 27 -4 27 9 0 26 -64 152 -128 251 -6 11 -15 27 -19 35 -4 8 -26 43 -50 78 -24 35 -43 65 -43 67 0 9 -162 241 -244 349 -97 130 -196 236 -219 236 -12 0 -9 -13 13 -57z"],["id","pAdhIKha2","d","M2052 5568 c-7 -7 -12 -18 -12 -25 0 -18 100 -173 111 -173 5 0 9 -7 9 -15 0 -8 4 -15 8 -15 4 0 25 -22 45 -49 52 -68 171 -191 185 -191 25 0 33 42 30 166 l-3 125 -50 22 c-27 11 -94 47 -147 79 -124 75 -161 91 -176 76z"],["id","pP7Rqdois","d","M5845 5556 c-51 -27 -138 -78 -145 -86 -7 -7 -96 -50 -105 -50 -4 0 -20 -9 -36 -21 l-29 -20 0 -122 c1 -116 10 -157 34 -157 9 0 136 127 136 135 0 3 10 16 23 28 57 56 184 234 187 264 6 51 -10 58 -65 29z"],["id","lats","id","lats",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pRLm2N7HV","d","M10440 5506 c0 -50 -78 -277 -116 -338 -45 -73 -78 -142 -88 -180 -5 -23 -23 -55 -86 -158 -105 -169 -232 -416 -246 -475 -4 -16 -10 -34 -14 -40 -9 -12 -44 -155 -59 -245 -11 -65 -19 -246 -10 -254 2 -2 24 0 49 5 25 5 106 16 180 24 235 25 284 33 320 49 38 17 70 40 70 49 0 9 90 97 146 142 77 62 96 79 116 98 10 9 21 17 24 17 3 0 11 6 18 13 7 6 31 26 52 42 108 84 139 113 145 135 4 14 7 88 8 165 1 117 -3 157 -24 245 -14 58 -34 123 -44 145 -10 22 -26 58 -36 80 -33 77 -60 130 -67 133 -5 2 -8 9 -8 15 0 14 -66 112 -113 171 -72 89 -183 186 -211 186 -3 0 -6 -11 -6 -24z"],["id","p1CAXsFUVc","d","M11529 5488 c-30 -23 -76 -68 -104 -100 -27 -33 -60 -71 -73 -86 -67 -80 -166 -278 -206 -417 -10 -33 -22 -74 -27 -91 -25 -83 -36 -280 -22 -392 l6 -53 81 -55 c133 -89 196 -140 357 -287 43 -38 92 -78 110 -89 19 -11 36 -24 39 -29 10 -15 205 -47 325 -54 66 -3 138 -10 160 -15 22 -5 41 -7 43 -6 17 18 -4 281 -31 387 -17 64 -43 143 -58 179 -6 14 -17 39 -24 55 -7 17 -30 64 -51 105 -21 41 -45 90 -53 108 -8 17 -19 32 -23 32 -4 0 -8 5 -8 11 0 13 -72 133 -82 137 -5 2 -8 8 -8 13 0 6 -26 54 -57 107 -119 200 -192 376 -210 507 -8 55 -13 75 -22 75 -4 0 -32 -19 -62 -42z"],["id","pUuzU4NHO","d","M2937 4567 c-56 -85 -76 -196 -86 -472 -5 -126 -11 -234 -13 -240 -1 -5 1 -12 7 -14 13 -5 46 63 88 179 61 168 62 173 60 351 -3 204 -17 255 -56 196z"],["id","pdQu3NlZ1","d","M4986 4568 c-3 -13 -6 -105 -6 -205 0 -177 1 -185 31 -275 29 -90 39 -113 81 -205 36 -79 41 -66 34 103 -10 237 -26 402 -46 469 -33 112 -79 167 -94 113z"],["id","triceps","id","triceps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p10HypOIr2","d","M2265 4999 c-8 -11 27 -45 56 -54 11 -4 19 -11 19 -16 0 -5 5 -9 11 -9 14 0 169 -156 169 -170 0 -6 3 -10 8 -10 4 0 20 -20 35 -45 16 -25 33 -45 38 -45 5 0 9 -5 9 -10 0 -22 96 -139 113 -140 17 0 18 5 12 53 -10 67 -13 77 -53 125 -101 123 -220 242 -242 242 -5 0 -10 4 -10 9 0 14 -114 81 -138 81 -12 0 -24 -5 -27 -11z"],["id","p18hQaX6uH","d","M5574 4963 c-69 -47 -137 -105 -178 -152 -12 -13 -32 -35 -46 -50 -32 -33 -91 -109 -107 -138 -7 -12 -15 -44 -19 -72 -6 -47 -5 -51 13 -51 13 0 31 16 48 42 15 23 32 47 37 52 5 6 40 53 78 105 85 114 166 196 243 245 60 39 68 59 26 64 -15 1 -49 -15 -95 -45z"],["id","pHib0UuN5","d","M9552 4908 c14 -62 0 -272 -32 -478 -17 -113 -12 -364 9 -450 21 -88 62 -179 105 -235 30 -40 100 -115 107 -115 2 0 5 44 5 98 1 53 8 131 17 172 42 201 47 244 47 408 0 132 -4 182 -19 238 -35 132 -118 281 -202 365 -22 22 -41 39 -43 39 -2 0 1 -19 6 -42z"],["id","paFEJzNx","d","M12475 4897 c-62 -66 -104 -131 -155 -237 -4 -8 -18 -49 -31 -90 -21 -68 -24 -92 -23 -265 0 -141 5 -212 17 -275 10 -47 25 -119 33 -160 10 -45 15 -108 12 -158 -1 -45 -1 -82 2 -82 22 0 123 126 160 200 12 25 27 53 32 63 5 10 13 39 18 65 6 26 15 72 21 102 13 62 7 311 -10 400 -37 207 -49 410 -26 463 13 30 -9 19 -50 -26z"],["id","p1GXODajM7","d","M9256 4809 c-23 -119 7 -437 60 -611 8 -26 14 -52 14 -58 0 -7 6 -26 14 -43 7 -18 28 -66 45 -107 32 -74 67 -128 77 -118 3 3 -6 41 -20 84 -14 43 -26 84 -26 91 0 7 -6 32 -13 55 -32 100 -79 342 -123 628 -9 58 -17 106 -19 108 -1 1 -5 -12 -9 -29z"],["id","p6EzJdSIu","d","M9404 4832 c-18 -12 -34 -72 -34 -129 0 -75 38 -333 63 -428 11 -40 11 -40 23 50 17 121 16 429 0 475 -13 35 -31 47 -52 32z"],["id","p4rLzEklK","d","M12623 4808 c-15 -28 -18 -59 -18 -213 0 -196 12 -358 25 -350 5 3 13 29 19 58 5 28 18 90 27 137 22 110 25 359 5 383 -20 25 -39 21 -58 -15z"],["id","p9CdZt8WF","d","M12791 4742 c-25 -193 -86 -509 -125 -652 -8 -30 -20 -75 -27 -100 -6 -25 -18 -60 -26 -79 -7 -18 -11 -36 -8 -39 17 -17 85 106 123 224 38 116 52 167 52 189 0 13 5 36 10 51 31 80 47 473 20 489 -4 3 -13 -34 -19 -83z"],["id","biceps","id","biceps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pWfQXx0vm","d","M2208 4833 c-23 -6 -48 -64 -48 -111 0 -22 7 -76 15 -119 9 -44 15 -136 15 -213 1 -74 5 -155 10 -180 6 -25 14 -65 19 -90 37 -186 154 -335 291 -370 19 -5 53 -14 75 -19 65 -17 140 -14 157 7 38 44 53 142 39 252 -18 136 -29 196 -44 241 -15 43 -76 169 -88 179 -3 3 -9 12 -13 20 -19 40 -72 120 -103 155 -7 7 -13 16 -13 19 0 20 -193 214 -224 226 -28 10 -57 11 -88 3z"],["id","pLKZK53J2","d","M5662 4830 c-31 -13 -159 -142 -214 -215 -62 -83 -108 -154 -108 -166 0 -5 -4 -9 -8 -9 -15 0 -109 -203 -126 -270 -19 -81 -31 -268 -22 -343 5 -36 15 -65 31 -83 22 -26 26 -27 97 -21 70 6 88 10 187 46 43 16 141 99 141 120 0 6 4 11 8 11 14 0 71 131 91 210 18 69 25 139 50 503 8 123 3 189 -17 209 -14 14 -84 19 -110 8z"],["id","traps","id","traps",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pohKVtK2e","d","M10892 4219 c-185 -106 -345 -316 -462 -609 -12 -30 -28 -68 -35 -85 -7 -16 -21 -50 -31 -75 -33 -86 -117 -265 -159 -340 -29 -51 -124 -146 -173 -173 -28 -15 -80 -33 -114 -39 l-63 -12 45 -14 c60 -20 356 -22 460 -4 148 26 334 75 354 93 6 5 16 9 23 9 20 0 144 60 179 87 57 43 59 64 59 608 0 453 -5 585 -23 585 -4 0 -31 -14 -60 -31z"],["id","pcwahUdfG","d","M11109 4224 c-10 -12 -13 -120 -13 -517 -1 -537 4 -597 47 -638 36 -33 164 -92 277 -128 165 -52 170 -53 229 -62 31 -4 92 -13 136 -19 99 -15 334 -7 389 13 l40 14 -63 12 c-115 23 -194 82 -276 207 -57 87 -67 106 -159 334 -26 63 -54 128 -62 143 -8 16 -14 33 -14 38 0 16 -96 211 -124 252 -14 21 -26 40 -26 43 0 18 -179 224 -195 224 -2 0 -15 10 -29 23 -21 19 -125 77 -139 77 -3 0 -10 -7 -18 -16z"],["id","pgK5lmqAa","d","M10925 2943 c-11 -3 -29 -12 -40 -19 -11 -8 -26 -14 -33 -14 -8 0 -28 -6 -45 -13 -18 -8 -59 -22 -92 -32 -33 -9 -73 -21 -90 -26 -47 -15 -214 -47 -281 -54 -58 -6 -111 -24 -72 -25 9 0 18 -3 20 -8 2 -4 35 -26 74 -50 38 -23 79 -50 90 -60 10 -10 37 -31 59 -47 70 -53 87 -68 206 -185 64 -63 127 -133 140 -155 50 -82 85 -235 98 -427 1 -9 62 1 74 11 4 4 1 54 -7 112 -17 120 -33 339 -46 654 -11 249 -19 346 -28 344 -4 -1 -16 -4 -27 -6z"],["id","p91hrYD7C","d","M11160 2883 c1 -169 -54 -953 -70 -1005 -10 -30 0 -43 41 -50 24 -4 27 -1 33 31 3 20 12 79 21 131 15 95 31 160 53 213 7 16 12 32 12 37 0 5 3 10 8 12 4 2 27 28 52 58 70 86 74 90 82 90 5 0 8 -7 8 -15 0 -8 -3 -15 -8 -15 -15 0 -81 -146 -92 -205 -16 -83 -25 -295 -13 -295 11 0 68 77 96 128 24 45 47 364 28 394 -10 17 -9 23 11 42 95 91 291 246 358 282 52 28 82 52 72 57 -4 3 -37 8 -72 12 -102 10 -312 58 -415 95 -33 12 -69 24 -80 27 -11 3 -38 14 -61 24 -62 29 -64 27 -64 -48z"],["id","pjfbF5zap","d","M10712 2230 c3 -167 5 -178 31 -232 15 -31 43 -74 62 -95 53 -60 54 -51 25 217 -7 67 -18 111 -37 150 -24 48 -65 115 -80 130 -3 3 -3 -74 -1 -170z"],["id","chest",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1ALVT6SDd","d","M3555 4051 c-55 -9 -217 -61 -280 -90 -22 -10 -68 -30 -102 -45 -34 -14 -77 -34 -95 -44 -18 -10 -69 -38 -113 -62 -44 -24 -81 -47 -83 -52 -2 -4 -10 -8 -18 -8 -28 0 -15 -67 35 -185 29 -68 116 -235 123 -235 4 0 8 -6 8 -13 0 -12 9 -26 50 -74 5 -7 10 -15 10 -19 0 -20 161 -162 210 -185 111 -54 229 -71 327 -48 109 26 262 118 285 173 10 24 13 120 13 401 0 427 5 404 -98 454 -69 34 -180 46 -272 32z"],["id","pImZBe7mv","d","M4210 4050 c-60 -11 -145 -56 -167 -89 -16 -24 -18 -57 -18 -396 0 -281 3 -377 13 -401 23 -55 176 -147 285 -173 98 -23 217 -6 326 48 49 23 211 166 211 185 0 4 9 17 21 29 46 50 154 260 199 389 28 81 29 108 5 108 -7 0 -15 4 -17 8 -6 16 -219 128 -358 187 -214 93 -381 128 -500 105z"],["id","shoulders","id","shoulders",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","p1Em2FavwG","d","M10226 3779 c-55 -4 -113 -13 -129 -19 -17 -5 -44 -10 -61 -10 -63 0 -243 -52 -258 -74 -21 -31 56 -170 175 -321 51 -63 166 -175 180 -175 32 0 95 89 137 191 12 30 26 63 31 74 8 19 27 73 63 180 9 28 17 75 19 105 2 55 2 55 -28 56 -16 1 -75 -2 -129 -7z"],["id","pDVrQ8FOR","d","M11702 3782 c-18 -12 -17 -67 3 -132 9 -30 20 -68 25 -85 36 -123 115 -292 163 -351 31 -37 48 -42 71 -19 8 8 18 15 21 15 4 0 21 16 38 36 18 20 43 48 57 63 43 44 100 119 100 129 0 6 3 12 8 14 11 5 52 66 52 78 0 5 3 10 8 10 13 0 54 97 50 120 -5 34 -88 62 -304 100 -52 9 -237 29 -269 30 -5 0 -16 -4 -23 -8z"],["id","pLtWInZ2t","d","M9464 3752 c-17 -11 -34 -71 -50 -177 -13 -81 -13 -115 -4 -185 11 -79 45 -199 61 -210 3 -3 9 -14 13 -26 9 -30 64 -88 112 -117 90 -56 243 -72 365 -38 72 19 134 51 134 68 0 5 -16 30 -35 53 -115 143 -143 175 -151 178 -5 2 -9 10 -9 17 0 7 -4 15 -9 17 -5 2 -40 40 -79 85 -91 106 -130 148 -226 245 -85 85 -106 100 -122 90z"],["id","pJX9v6Uhz","d","M12471 3642 c-114 -117 -212 -224 -268 -292 -26 -32 -64 -77 -88 -104 -6 -6 -35 -42 -65 -81 -30 -38 -60 -76 -67 -83 -18 -18 -11 -26 44 -52 106 -50 240 -63 355 -34 35 9 65 19 68 23 3 3 18 12 33 19 16 7 31 21 34 31 3 10 15 24 27 30 29 16 67 81 96 166 42 126 29 415 -23 483 -5 6 -14 12 -20 12 -6 0 -63 -53 -126 -118z"],["id","pThJeuJcT","d","M2440 3658 c0 -23 13 -70 39 -133 19 -50 82 -159 93 -163 4 -2 8 -8 8 -13 0 -8 15 -29 45 -63 6 -6 26 -31 45 -56 70 -89 169 -179 270 -244 66 -42 166 -83 177 -72 8 8 -29 171 -46 204 -6 9 -20 40 -33 67 -13 28 -26 52 -30 53 -5 2 -8 10 -8 17 0 7 -28 51 -62 96 -125 169 -269 280 -408 315 -78 19 -90 18 -90 -8z"],["id","pzJ65nzaj","d","M5445 3669 c-16 -6 -39 -14 -50 -19 -11 -5 -40 -17 -65 -28 -87 -36 -243 -183 -326 -307 -92 -137 -152 -300 -145 -393 4 -47 232 92 360 219 65 65 171 199 200 254 12 22 26 48 32 58 5 9 14 25 19 35 6 9 13 24 16 32 3 8 12 31 19 50 8 19 16 51 17 70 3 31 0 35 -22 37 -14 1 -38 -3 -55 -8z"],["id","pNOX1j2to","d","M2356 3572 c-10 -60 -7 -241 5 -306 24 -138 67 -235 121 -274 9 -7 23 -18 30 -25 14 -14 73 -47 128 -70 19 -8 80 -18 135 -22 l100 -7 -40 33 c-104 89 -181 176 -254 288 -73 111 -73 113 -116 201 -53 110 -62 131 -75 172 -16 51 -26 55 -34 10z"],["id","p18DmkkyXv","d","M5593 3599 c-7 -7 -13 -23 -13 -36 0 -13 -4 -23 -9 -23 -5 0 -13 -15 -16 -32 -4 -18 -20 -58 -36 -88 -16 -30 -29 -58 -29 -62 0 -15 -96 -166 -153 -242 -53 -70 -121 -141 -212 -221 l-30 -26 90 6 c85 5 215 40 215 57 0 5 5 8 10 8 6 0 33 17 60 37 90 67 134 192 143 408 7 152 -1 233 -20 214z"],["id","neck","id","neck",1,"fill-gray-500","hover:fill-gray-300","opacity-70",3,"mouseover","mouseout"],["id","pbyoP6RcA","d","M4039 3043 c-14 -37 -17 -212 -4 -221 6 -4 65 -118 133 -254 68 -136 130 -252 137 -258 12 -10 17 -7 26 16 8 22 8 57 0 137 -12 106 -13 110 -90 260 -43 84 -95 181 -114 217 -20 36 -43 80 -51 98 -18 39 -23 40 -37 5z"],["id","p80pIYUZC","d","M3857 3002 c-16 -31 -44 -86 -64 -122 -19 -36 -63 -120 -98 -188 -60 -115 -64 -128 -71 -215 -9 -102 -8 -142 5 -165 7 -12 14 -7 35 24 14 21 26 44 26 50 0 7 4 14 8 16 10 4 172 329 172 345 0 6 3 13 8 15 4 2 18 25 31 52 21 43 23 57 18 125 -12 140 -26 153 -70 63z"],["id","pO5VSAATM","d","M3546 2894 c-11 -10 -14 -24 -10 -37 10 -32 68 -117 79 -117 6 0 18 19 29 43 10 23 23 52 28 63 20 44 7 59 -53 62 -42 2 -61 -1 -73 -14z"],["id","pMi573gZh","d","M4253 2899 c-12 -12 -10 -20 31 -111 11 -27 24 -48 28 -48 8 0 48 52 73 97 18 31 18 33 0 53 -14 15 -30 20 -70 20 -28 0 -56 -5 -62 -11z"],["id","pFmMA3nA8","d","M3194 2855 c-102 -12 -124 -19 -124 -35 0 -11 96 -75 155 -105 22 -11 42 -23 45 -26 12 -15 219 -108 252 -114 43 -8 55 6 43 53 -12 49 -231 248 -264 241 -3 -1 -52 -7 -107 -14z"],["id","pZ71lUFDj","d","M4577 2846 c-63 -43 -172 -146 -200 -189 -10 -16 -17 -40 -15 -55 3 -25 6 -27 42 -25 40 3 306 128 306 145 0 4 5 8 12 8 16 0 138 80 138 91 0 15 -40 26 -125 33 -44 4 -89 10 -100 12 -12 3 -36 -5 -58 -20z"],["id","pS7WBUaDq","d","M3957 2771 c-15 -38 -27 -73 -27 -79 0 -6 -6 -26 -14 -44 -25 -60 -45 -132 -52 -187 l-7 -54 69 6 c38 4 95 3 126 -1 65 -10 70 -5 61 55 -7 51 -103 345 -118 361 -9 10 -17 -3 -38 -57z"],["id","head",1,"fill-gray-500","hover:fill-gray-300","opacity-70"],["id","p17sYKloCT","d","M3838 2340 c-106 -29 -203 -74 -284 -132 -35 -25 -45 -40 -58 -88 -9 -32 -19 -87 -22 -122 -4 -43 -12 -68 -24 -78 -21 -18 -48 -81 -85 -204 -31 -99 -29 -110 23 -135 35 -18 36 -23 21 -126 -22 -150 31 -384 114 -505 75 -109 145 -174 240 -223 59 -31 68 -32 195 -35 109 -3 143 0 185 15 51 17 109 50 115 66 2 4 8 7 12 7 12 0 110 98 110 110 0 4 4 10 9 12 13 4 81 107 81 122 0 7 4 16 9 21 18 20 50 152 56 235 9 104 9 148 0 221 l-7 57 41 18 c44 19 49 33 31 88 -62 192 -74 223 -96 243 -18 17 -25 35 -29 90 -11 112 -32 174 -72 210 -20 18 -46 36 -57 39 -12 4 -23 9 -26 13 -23 28 -293 112 -352 110 -13 0 -71 -14 -130 -29z"],["id","p116KsVsP3","d","M10601 2150 c-6 -25 -17 -65 -25 -90 -8 -25 -22 -80 -32 -123 -12 -51 -22 -76 -30 -73 -22 9 -35 -22 -114 -270 -6 -17 -8 -38 -4 -47 8 -21 48 -47 74 -47 11 0 20 -6 20 -12 0 -7 2 -87 4 -178 5 -164 15 -218 58 -315 42 -94 146 -212 221 -250 91 -46 149 -59 277 -59 74 0 141 6 165 13 65 21 155 63 155 72 0 5 5 9 10 9 14 0 110 96 110 110 0 5 4 10 8 10 13 0 70 121 93 197 18 56 22 95 22 224 l1 157 33 11 c69 25 74 49 36 166 -47 146 -73 205 -89 205 -7 0 -19 30 -29 68 -17 68 -32 127 -58 217 l-14 50 -18 -60 c-10 -33 -24 -74 -31 -92 -8 -17 -14 -35 -14 -41 0 -17 -42 -105 -76 -157 -73 -115 -138 -154 -270 -162 -170 -11 -280 54 -365 217 -13 25 -42 101 -65 170 l-41 125 -12 -45z"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"h3",1),R(2,"Body state"),E(),w(3,"div",2),ue(4,YK,150,0,"div",3)(5,QK,1,0,"div",3),L(6,"div",4),E()()),n&2&&(k(4),$("ngIf",r.userGender==="male"),k(),$("ngIf",r.userGender==="female"))},dependencies:[Ne,Xe],styles:[".body-figure[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{cursor:pointer}.body-figure[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{fill:#ef4444!important}.body-figure[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]:hover{fill:#fca5a5!important}.body-figure[_ngcontent-%COMP%]   .healed[_ngcontent-%COMP%]{fill:#16a34a!important}.body-figure[_ngcontent-%COMP%]   .healed[_ngcontent-%COMP%]:hover{fill:#86efac!important}.body-figure[_ngcontent-%COMP%]   .healing[_ngcontent-%COMP%]{fill:#fbbf24!important}.body-figure[_ngcontent-%COMP%]   .healing[_ngcontent-%COMP%]:hover{fill:#fde68a!important}.body-tooltip[_ngcontent-%COMP%]{background-color:#1f2937cc!important;color:#fff!important;border-radius:4px;padding:10px;border:1px solid white;box-shadow:2px 2px 6px -4px #999;cursor:default;font-size:14px;left:62px;top:20px;display:flex;flex-direction:column;overflow:hidden;white-space:nowrap;z-index:12;transition:.15s ease all}"]})};var cv=class t{constructor(e,n){this.userService=e;this.gfitService=n}isMetric=!0;profileData={weight:null};userWeight;weightGoal=null;ngOnInit(){this.fetchWeightAndHeight(),this.loadWeightGoal(),this.userService.loadUnitPreference().then(()=>{this.isMetric=this.userService.isMetric})}fetchWeightAndHeight(){this.userService.getUserWeight().subscribe(e=>this.profileData.weight=e)}loadWeightGoal(){this.userService.getUserGoals().subscribe(e=>{this.weightGoal=e?.weightGoal||null})}get displayWeight(){return this.profileData.weight?this.isMetric?`${this.profileData.weight} kg`:`${Math.round(this.profileData.weight*2.20462)} lbs`:"N/A"}get displayWeightGoal(){return this.weightGoal?this.isMetric?`${this.weightGoal} kg`:`${Math.round(this.weightGoal*2.20462)} lbs`:"N/A"}static \u0275fac=function(n){return new(n||t)(V(wn),V(gr))};static \u0275cmp=_e({type:t,selectors:[["app-weight-tracker"]],inputs:{isMetric:"isMetric"},standalone:!0,features:[De],decls:9,vars:2,consts:[[1,"weight","h-full","flex","flex-col","justify-center","items-center","bg-gray-800","text-white","rounded-xl","p-4","text-center","shadow-lg","hover:bg-gray-700","transition-all"],[1,"text-green-600","fa-solid","fa-weight-scale","text-4xl","mb-4"],[1,"text-center"],[1,"font-bold","text-2xl","md:text-3xl","lg:text-4xl","mb-2"],[1,"text-sm","text-gray-400","mb-4"]],template:function(n,r){n&1&&(w(0,"div",0),L(1,"i",1),w(2,"div",2)(3,"p",3),R(4),E(),w(5,"p",4),R(6,"Current Weight"),E(),w(7,"p",4),R(8),E()()()),n&2&&(k(4),Me(r.displayWeight),k(4),me("Weight goal: ",r.displayWeightGoal,""))},dependencies:[Ne]})};var uv=class t{constructor(e){this.gfitService=e}isMetric=!0;steps=0;stepGoal=null;stepProgress=0;ngOnInit(){this.loadSteps()}ngOnChanges(e){(e.stepGoal||e.steps)&&this.calculateProgress()}loadSteps(){this.gfitService.getSteps().subscribe(e=>{this.steps=e,this.calculateProgress()})}calculateProgress(){this.stepGoal&&this.steps?this.stepProgress=Math.min(this.steps/this.stepGoal*100,100):this.stepProgress=0}static \u0275fac=function(n){return new(n||t)(V(gr))};static \u0275cmp=_e({type:t,selectors:[["app-steps-tracker"]],inputs:{isMetric:"isMetric",steps:"steps",stepGoal:"stepGoal"},standalone:!0,features:[Ht,De],decls:15,vars:3,consts:[[1,"steps","flex","flex-col","justify-center","items-center","bg-gray-800","text-white","rounded-xl","p-4","text-center","shadow-lg","hover:bg-gray-700","transition-all"],[1,"relative","w-32","h-32"],["viewBox","0 0 36 36",1,"absolute","inset-0","w-full","h-full"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke","currentColor",1,"text-gray-600"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke-linecap","round","stroke","currentColor",1,"text-green-600"],[1,"absolute","inset-0","flex","items-center","justify-center","text-xl","font-bold"],[1,"flex","flex-col","items-center"],[1,"text-green-600","fa-solid","fa-shoe-prints","text-3xl","mb-2"],[1,"text-center","mt-4"],[1,"font-bold","text-2xl","md:text-3xl","lg:text-4xl","mb-2"],[1,"text-sm","text-gray-400"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1),ul(),w(2,"svg",2),L(3,"path",3)(4,"path",4),E(),Bf(),w(5,"div",5)(6,"div",6),L(7,"i",7),w(8,"p"),R(9),E()()()(),w(10,"div",8)(11,"p",9),R(12),E(),w(13,"p",10),R(14,"Steps Today"),E()()()),n&2&&(k(4),Cn("stroke-dasharray",r.stepProgress+", 100"),k(5),me("",r.stepProgress.toFixed(0),"%"),k(3),Me(r.steps))}})};var dv=class t{caloriesGoal=null;caloriesBurnedToday=null;caloriesProgress=0;ngOnInit(){this.calculateProgress()}ngOnChanges(e){(e.caloriesGoal||e.caloriesBurnedToday)&&this.calculateProgress()}calculateProgress(){this.caloriesGoal&&this.caloriesBurnedToday?this.caloriesProgress=Math.min(this.caloriesBurnedToday/this.caloriesGoal*100,100):this.caloriesProgress=0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_e({type:t,selectors:[["app-calories-tracker"]],inputs:{caloriesGoal:"caloriesGoal",caloriesBurnedToday:"caloriesBurnedToday",caloriesProgress:"caloriesProgress"},standalone:!0,features:[Ht,De],decls:15,vars:3,consts:[[1,"calories","flex","flex-col","justify-center","items-center","bg-gray-800","text-white","rounded-xl","p-4","text-center","shadow-lg","hover:bg-gray-700","transition-all"],[1,"relative","w-32","h-32"],["viewBox","0 0 36 36",1,"absolute","inset-0","w-full","h-full"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke","currentColor",1,"text-gray-600"],["d","M18 2.0845a 15.9155 15.9155 0 1 1 0 31.831 15.9155 15.9155 0 1 1 0-31.831","fill","none","stroke-width","2","stroke-linecap","round","stroke","currentColor",1,"text-red-500"],[1,"absolute","inset-0","flex","items-center","justify-center","text-xl","font-bold"],[1,"flex","flex-col","items-center"],[1,"text-red-500","fa-solid","fa-fire","text-3xl","mb-2"],[1,"text-center","mt-4"],[1,"font-bold","text-2xl","md:text-3xl","lg:text-4xl","mb-2"],[1,"text-sm","text-gray-400"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1),ul(),w(2,"svg",2),L(3,"path",3)(4,"path",4),E(),Bf(),w(5,"div",5)(6,"div",6),L(7,"i",7),w(8,"p"),R(9),E()()()(),w(10,"div",8)(11,"p",9),R(12),E(),w(13,"p",10),R(14,"Calories Burned Today"),E()()()),n&2&&(k(4),Cn("stroke-dasharray",r.caloriesProgress+", 100"),k(5),me("",r.caloriesProgress.toFixed(0),"%"),k(3),Me(r.caloriesBurnedToday.toFixed(0)))}})};var hv=class t{formatTime(e){let n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60);return`${n.toString().padStart(2,"0")}h ${r.toString().padStart(2,"0")}m ${i.toString().padStart(2,"0")}s`}calculateDaysDifference(e,n){let r=Math.abs(n.getTime()-e.getTime());return Math.ceil(r/(1e3*60*60*24))}getDaysAgo(e){let r=new Date().getTime()-e.getTime(),i=Math.floor(r/(1e3*3600*24));return i===0?"Today":i>0?`${i} day${i>1?"s":""} ago`:"Invalid date"}getInDays(e){let n=new Date,i=new Date(e).getTime()-n.getTime(),s=Math.floor(i/(1e3*3600*24));return s===0?"Today":s>0?`${s} day${s>1?"s":""} from now`:"Invalid date"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};function ZK(t,e){if(t&1&&(w(0,"div",23)(1,"p",24)(2,"small",7),R(3,"Level:"),E(),R(4),E()()),t&2){let n=O();k(4),me(" ",n.currentAchievement.name," ")}}function JK(t,e){t&1&&(w(0,"div")(1,"p",25),R(2,"No achievements unlocked yet."),E()())}function eY(t,e){if(t&1&&(w(0,"div")(1,"p",26)(2,"small",7),R(3,"Last activity:"),E(),R(4),E()()),t&2){let n=O();k(4),Vn(" ",n.mostRecentWorkout.name," (",n.getDaysAgo(n.mostRecentWorkout.completedAt.toDate()),") ")}}function tY(t,e){if(t&1&&L(0,"img",27),t&2){let n=O();ep("alt","",n.currentAchievement.name," Badge"),$("src",n.currentAchievement.badgeUrl,qn)}}var fv=class t{constructor(e,n,r,i,s,o,a){this.auth=e;this.userService=n;this.workoutService=r;this.toastr=i;this.timeService=s;this.router=o;this.gfitService=a}userId=null;profileData={weight:null};points=0;achievements=[];currentAchievement={name:"",badgeUrl:""};userWeight;weightDifference=null;errorMessage=null;totalTimeSpent="00:00:00";numberOfWorkoutsDone=0;mostRecentWorkout=null;nextScheduledWorkout=null;isMetric=!0;caloriesBurnedToday=0;steps=0;stepGoal=null;stepProgress=0;caloriesGoal=null;caloriesProgress=0;ngOnInit(){return y(this,null,function*(){if(this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,!this.userId){this.router.navigate(["/login"]);return}yield this.fetchProfileData(),yield this.loadDashboardData(),yield this.loadGoogleFitData(),yield this.fetchUserPoints(),yield this.fetchCurrentAchievement(),yield this.loadUserGoals()})}loadUserGoals(){this.userService.getUserGoals().subscribe(e=>{this.stepGoal=e.stepGoal,this.caloriesGoal=e.caloriesGoal,this.calculateProgress()})}loadGoogleFitData(){this.gfitService.getSteps().subscribe(e=>{this.steps=e||0,this.calculateCaloriesFromSteps(),this.calculateProgress()})}calculateCaloriesFromSteps(){let n=this.steps*.05;this.caloriesBurnedToday+=n}calculateProgress(){this.stepGoal&&this.steps&&(this.stepProgress=Math.min(this.steps/this.stepGoal*100,100)),this.caloriesGoal&&this.caloriesBurnedToday&&(this.caloriesProgress=Math.min(this.caloriesBurnedToday/this.caloriesGoal*100,100))}fetchProfileData(){this.userService.getGoogleFitProfileData().subscribe({next:e=>{e?(this.profileData=e,this.fetchWeightAndHeight()):this.errorMessage="No profile data found."},error:e=>this.errorMessage="Error fetching profile data"})}fetchWeightAndHeight(){this.userService.getUserWeight().subscribe(e=>this.profileData.weight=e),this.userService.getUserHeight().subscribe(e=>this.profileData.height=e)}get age(){return this.userService.calculateAge(this.profileData.dob)}getDaysAgo(e){return this.timeService.getDaysAgo(e)}getInDays(e){return this.timeService.getInDays(e)}fetchUserPoints(){return y(this,null,function*(){this.userService.getUserTotalPoints().then(e=>{this.points=e,this.currentAchievement=mc(e)}).catch(e=>{console.error("Error fetching user points:",e),this.toastr.error("Could not fetch user points.")})})}fetchCurrentAchievement(){return y(this,null,function*(){let e=yield this.userService.getUserTotalPoints();this.currentAchievement=mc(e)||{name:"No achievement",badgeUrl:""}})}loadDashboardData(){return y(this,null,function*(){if(this.userId)try{let e=yield this.workoutService.getFinishedWorkouts(this.userId);if(this.numberOfWorkoutsDone=e.length,e.length>0){this.mostRecentWorkout=e.reduce((o,a)=>o.completedAt.toDate()>a.completedAt.toDate()?o:a);let i=e.reduce((o,a)=>o+a.timeSpent,0);this.totalTimeSpent=this.timeService.formatTime(i);let s=new Date;s.setHours(0,0,0,0),this.caloriesBurnedToday=e.filter(o=>o.completedAt.toDate()>=s).reduce((o,a)=>o+a.totalCalories,0)||0,this.calculateCaloriesFromSteps()}let n=yield this.workoutService.getScheduledWorkouts(this.userId);n.length>0&&(this.nextScheduledWorkout=n.reduce((i,s)=>new Date(i.scheduledDate)<new Date(s.scheduledDate)?i:s)),this.fetchUserPoints();let r=yield this.userService.getUserTotalPoints();this.currentAchievement=mc(r)}catch(e){console.error("Error loading dashboard data:",e)}})}onChartReady(){}static \u0275fac=function(n){return new(n||t)(V(je),V(wn),V($t),V(Bt),V(hv),V(Ft),V(gr))};static \u0275cmp=_e({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[De],decls:35,vars:13,consts:[[1,"container","mx-auto","px-4","py-4","mb-10","lg:mb-0"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","mt-1","mb-4"],[1,"user-info","relative","flex","col-span-12","lg:col-span-2","justify-between","items-center","bg-gray-800","hover:bg-gray-700","text-white","rounded-xl","shadow-lg","p-4","gap-4"],[1,"w-full","flex","flex-col","justify-center","items-start","text-left"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-3"],[1,"font-bold","text-xl","mb-2","text-gray-100"],[1,"font-medium","text-sm","text-gray-400"],["class","flex justify-between align-center",4,"ngIf"],[4,"ngIf"],["class","w-10 h-10 md:w-14 md:h-14 absolute right-0 top-0 m-4 rounded-full shadow-md bg-gray-700 border border-gray-600",3,"src","alt",4,"ngIf"],[1,"col-span-6","lg:col-span-1","flex","flex-col","justify-center","items-center","bg-gray-800","hover:bg-gray-700","text-white","rounded-xl","shadow-lg","p-4"],[1,"text-green-600","fa-regular","fa-clock","text-3xl","mb-2"],[1,"text-center"],[1,"font-bold","text-xl","md:text-2xl","mb-1","text-gray-100"],[1,"text-sm","text-gray-400"],[1,"text-green-600","fa-solid","fa-dumbbell","text-3xl","mb-2"],[1,"trackers","grid","grid-cols-auto","lg:grid-cols-3","gap-2","gap-4","mt-2","mb-4"],[3,"isMetric"],[3,"isMetric","stepGoal"],[3,"caloriesGoal","caloriesBurnedToday"],[1,"stats","grid","grid-cols-auto","lg:grid-cols-3","gap-4","mt-2","mb-4"],[1,"lg:col-span-2",3,"chartReady","userId"],[1,"flex","justify-between","align-center"],[1,"font-bold","text-lg","mb-2","text-gray-100"],[1,"text-gray-400"],[1,"font-bold","text-lg","mb-2","capitalize","text-gray-100"],[1,"w-10","h-10","md:w-14","md:h-14","absolute","right-0","top-0","m-4","rounded-full","shadow-md","bg-gray-700","border","border-gray-600",3,"src","alt"]],template:function(n,r){n&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6)(7,"small",7),R(8,"Points:"),E(),R(9),E(),ue(10,ZK,5,1,"div",8)(11,JK,3,0,"div",9),E()(),ue(12,eY,5,2,"div",9),E(),ue(13,tY,1,3,"img",10),E(),w(14,"div",11),L(15,"i",12),w(16,"div",13)(17,"p",14),R(18),E(),w(19,"p",15),R(20,"Total Time"),E()()(),w(21,"div",11),L(22,"i",16),w(23,"div",13)(24,"p",14),R(25),E(),w(26,"p",15),R(27,"Workouts done"),E()()()(),w(28,"div",17),L(29,"app-weight-tracker",18)(30,"app-steps-tracker",19)(31,"app-calories-tracker",20),E(),w(32,"div",21)(33,"app-charts",22),G("chartReady",function(){return r.onChartReady()}),E(),L(34,"app-body-stats"),E()()),n&2&&(k(9),me(" ",r.points.toFixed(0)," "),k(),$("ngIf",r.currentAchievement),k(),$("ngIf",!r.currentAchievement),k(),$("ngIf",r.mostRecentWorkout),k(),$("ngIf",r.currentAchievement.badgeUrl),k(5),Me(r.totalTimeSpent),k(7),Me(r.numberOfWorkoutsDone),k(4),$("isMetric",r.isMetric),k(),$("isMetric",r.isMetric)("stepGoal",r.stepGoal),k(),$("caloriesGoal",r.caloriesGoal)("caloriesBurnedToday",r.caloriesBurnedToday),k(2),$("userId",r.userId))},dependencies:[Ne,Xe,Qt,av,lv,cv,uv,dv],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{display:none}"]})};var uo=class t{constructor(e,n){this.auth=e;this.router=n}canActivate(){return Xk(this.auth).pipe(br(1),le(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(n){return new(n||t)(ee(je),ee(Ft))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})};var WO="firebasestorage.googleapis.com",nY="storageBucket",rY=2*60*1e3,iY=10*60*1e3;var Si=class t extends on{constructor(e,n,r=0){super(UI(e),`Firebase Storage: ${n} (${UI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ms=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ms||{});function UI(t){return"storage/"+t}function sY(){let t="An unknown error occurred, please check the error payload for server response.";return new Si(ms.UNKNOWN,t)}function oY(){return new Si(ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aY(){return new Si(ms.CANCELED,"User canceled the upload/download.")}function lY(t){return new Si(ms.INVALID_URL,"Invalid URL '"+t+"'.")}function cY(t){return new Si(ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LO(t){return new Si(ms.INVALID_ARGUMENT,t)}function zO(){return new Si(ms.APP_DELETED,"The Firebase app was deleted.")}function uY(t){return new Si(ms.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ps=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw cY(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}let d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${m}`,"i"),b={bucket:1,path:3},A=n===WO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",N=new RegExp(`^https?://${A}/${i}/${S}`,"i"),U=[{regex:a,indices:l,postModify:s},{regex:g,indices:b,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<U.length;B++){let re=U[B],Q=re.regex.exec(e);if(Q){let T=Q[re.indices.bucket],_=Q[re.indices.path];_||(_=""),r=new t(T,_),re.postModify(r);break}}if(r==null)throw lY(e);return r}},jI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function dY(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...S){u||(u=!0,e.apply(null,S))}function f(S){i=setTimeout(()=>{i=null,t(g,l())},S)}function m(){s&&clearTimeout(s)}function g(S,...N){if(u){m();return}if(S){m(),d.call(null,S,...N);return}if(l()||o){m(),d.call(null,S,...N);return}r<64&&(r*=2);let U;a===1?(a=2,U=0):U=(r+Math.random())*1e3,f(U)}let b=!1;function A(S){b||(b=!0,m(),!u&&(i!==null?(S||(a=2),clearTimeout(i),f(0)):S||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,A(!0)},n),A}function hY(t){t(!1)}function fY(t){return t!==void 0}function UO(t,e,n,r){if(r<e)throw LO(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw LO(`Invalid value for '${t}'. Expected ${n} or less.`)}function pY(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var BI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(BI||{});function mY(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var $I=class{constructor(e,n,r,i,s,o,a,l,u,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,b)=>{this.resolve_=g,this.reject_=b,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new gc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===BI.NO_ERROR,l=s.getStatus();if(!a||mY(l,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===BI.ABORT;r(!1,new gc(!1,null,d));return}let u=this.successCodes_.indexOf(l)!==-1;r(!0,new gc(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());fY(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=sY();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){let l=this.appDelete_?zO():aY();o(l)}else{let l=oY();o(l)}};this.canceled_?n(!1,new gc(!1,null,!0)):this.backoffId_=dY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},gc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function gY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _Y(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wY(t,e,n,r,i,s,o=!0){let a=pY(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return yY(u,e),gY(u,n),vY(u,s),_Y(u,r),new $I(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function EY(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bY(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var qve=256*1024;var WI=class t{constructor(e,n){this._service=e,n instanceof ps?this._location=n:this._location=ps.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ps(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bY(this._location.path)}get storage(){return this._service}get parent(){let e=EY(this._location.path);if(e===null)return null;let n=new ps(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uY(e)}};function jO(t,e){let n=e?.[nY];return n==null?null:ps.makeFromBucketSpec(n,t)}function IY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Gp(i,t.app.options.projectId))}var zI=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=WO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rY,this._maxUploadRetryTime=iY,this._requests=new Set,i!=null?this._bucket=ps.makeFromBucketSpec(i,this._host):this._bucket=jO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ps.makeFromBucketSpec(this._url,e):this._bucket=jO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return y(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return y(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new WI(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new jI(zO());{let o=wY(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return y(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},BO="@firebase/storage",$O="0.13.2";var HO="storage";function qO(t=Fr(),e){t=gt(t);let r=pr(t,HO).getImmediate({identifier:e}),i=qp("storage");return i&&GO(r,...i),r}function GO(t,e,n,r={}){IY(t,e,n,r)}function DY(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zI(n,r,i,e,ci)}function CY(){mn(new Vt(HO,DY,"PUBLIC").setMultipleInstances(!0)),He(BO,$O,""),He(BO,$O,"esm2017")}CY();var Ca=class{constructor(e){return e}},KO="storage",HI=class{constructor(){return rs(KO)}};var qI=new te("angularfire2.storage-instances");function TY(t,e){let n=Zs(KO,t,e);return n&&new Ca(n)}function SY(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ca(r)}}var xY={provide:HI,deps:[[new yt,qI]]},AY={provide:Ca,useFactory:TY,deps:[[new yt,qI],Zn]};function YO(t,...e){return He("angularfire",Vr.full,"gcs"),Gt([AY,xY,{provide:qI,useFactory:SY(t),multi:!0,deps:[we,bt,ui,Lr,[new yt,ia],[new yt,Xs],...e]}])}var QO=ht(qO,!0);function kY(t,e){if(t&1&&L(0,"img",29),t&2){let n=O();$("src",n.profileData.profilePicture,qn)}}function RY(t,e){t&1&&(w(0,"div",30),L(1,"i",31),E())}function PY(t,e){if(t&1&&(w(0,"div",8)(1,"strong"),R(2,"Age: "),E(),R(3),E()),t&2){let n=O();k(3),me(" ",n.age,"")}}function NY(t,e){if(t&1&&(w(0,"div",8)(1,"strong"),R(2,"Achievements:"),E(),R(3),jo(4,"date"),E()),t&2){let n=e.$implicit;k(3),Vn(" ",n.id," - Unlocked on ",Bo(4,2,n.dateUnlocked.toDate(),"dd.MM.yyyy")," ")}}var pv=class t{constructor(e,n,r,i,s,o,a){this.auth=e;this.firestore=n;this.storage=r;this.userService=i;this.router=s;this.gfitService=o;this.toastr=a;this.isMetric=this.userService.isMetric}userId=null;profileData={dob:"",gender:null,profilePicture:null};points=0;achievements=[];errorMessage=null;height;weight;isMetric=!0;stepGoal=null;caloriesGoal=null;weightGoal=null;inputWeightGoal=null;ngOnInit(){this.userId=this.auth.currentUser?this.auth.currentUser.uid:null,this.userId?(this.fetchProfileData(),this.fetchUserPoints(),this.fetchUserAchievements(),this.loadUserGoals(),this.userService.loadUnitPreference().then(()=>{this.isMetric=this.userService.isMetric,this.updateInputWeightGoal()})):this.router.navigate(["/login"])}fetchProfileData(){this.userService.getGoogleFitProfileData().subscribe({next:e=>{e?(this.profileData=e,this.fetchWeightAndHeight()):this.errorMessage="No profile data found."},error:e=>this.errorMessage="Error fetching profile data"})}fetchWeightAndHeight(){this.userService.getUserWeight().subscribe(e=>this.profileData.weight=e),this.userService.getUserHeight().subscribe(e=>{this.profileData.height=e,this.updateInputWeightGoal()})}toggleUnits(){this.isMetric=!this.isMetric,this.userService.saveUnitPreference(this.isMetric),this.updateInputWeightGoal()}get displayHeight(){if(!this.profileData.height)return"N/A";if(this.isMetric)return`${this.profileData.height} cm`;{let e=Math.floor(this.profileData.height/30.48),n=Math.round(this.profileData.height/2.54%12);return`${e}ft ${n}in`}}get displayWeight(){return this.profileData.weight?this.isMetric?`${this.profileData.weight} kg`:`${Math.round(this.profileData.weight*2.20462)} lbs`:"N/A"}get displayWeightGoal(){return this.weightGoal?this.isMetric?`${this.weightGoal} kg`:`${Math.round(this.weightGoal*2.20462)} lbs`:"N/A"}updateInputWeightGoal(){this.weightGoal!==null?this.inputWeightGoal=this.isMetric?this.weightGoal:Math.round(this.weightGoal*2.20462):this.inputWeightGoal=null}fetchUserPoints(){this.userService.getUserTotalPoints().then(e=>{this.points=e}).catch(e=>{console.error("Error fetching user points:",e),this.toastr.error("Could not fetch user points.")})}fetchUserAchievements(){this.userService.getUserAchievements().then(e=>{this.achievements=e}).catch(e=>{console.error("Error fetching user achievements:",e),this.toastr.error("Could not fetch user achievements.")})}loadUserGoals(){this.userService.getUserGoals().subscribe({next:e=>{this.stepGoal=e?.stepGoal||null,this.caloriesGoal=e?.caloriesGoal||null,this.weightGoal=e?.weightGoal||null},error:e=>{console.error("Error loading goals:",e)}})}saveGoals(){let e=this.stepGoal||0,n=this.caloriesGoal||0,r=this.inputWeightGoal;r!==null&&(r=this.isMetric?r:Math.round(r/2.20462)),this.userService.saveUserGoals({stepGoal:e,caloriesGoal:n,weightGoal:r}).then(()=>{this.toastr.success("Goals saved successfully!")}).catch(i=>{this.toastr.error("Error saving goals"),console.error("Error saving goals:",i)})}deleteAccount(){let e=this.auth.currentUser;confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(e?Zk(e).then(()=>{let n=Dt(this.firestore,`users/${e.uid}`);return Jl(n)}).then(()=>{this.toastr.success("Account and user data deleted successfully"),this.router.navigate(["/login"])}).catch(n=>{console.error("Error deleting account",n),this.toastr.error("Failed to delete account. Please try again later.")}):this.toastr.warning("User not authenticated."))}get age(){return this.userService.calculateAge(this.profileData.dob)}static \u0275fac=function(n){return new(n||t)(V(je),V(qt),V(Ca),V(wn),V(Ft),V(gr),V(Bt))};static \u0275cmp=_e({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[De],decls:58,vars:14,consts:[["cameraIcon",""],[1,"flex","flex-col","items-center","flex-1","h-full","justify-center","m-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","w-full"],[1,"bg-gray-800","text-white","p-4","rounded-xl","shadow-lg","grid","grid-cols-2"],[1,"text-lg","font-bold","mb-4","col-span-3"],[1,"col-span-1","img-wrapper","rounded-full","w-32","h-32","lg:w-44","lg:h-44","overflow-hidden","relative","border-4","border-gray-700","mt-4"],["class","w-full h-full object-cover","alt","Profile Picture",3,"src",4,"ngIf","ngIfElse"],[1,"col-span-1"],[1,"text-lg","mt-2"],["class","text-lg mt-2",4,"ngIf"],[1,"text-lg","mt-2","capitalize"],[1,"pr-2"],[1,"mt-2"],[1,"bg-green-600","hover:bg-green-700","text-sm","font-semibold","py-2","px-4","rounded-full","transition","duration-200",3,"click"],[1,"col-span-2"],["class","text-lg mt-2",4,"ngFor","ngForOf"],[1,"bg-gray-800","text-white","p-4","rounded-xl","shadow-lg"],[1,"text-lg","font-bold","mb-4"],[3,"ngSubmit"],[1,"mb-4"],["for","stepGoal",1,"block","text-gray-400","mb-2"],["id","stepGoal","name","stepGoal","type","number",1,"w-full","p-2","rounded-xl","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring","focus:ring-green-600","transition","duration-200",3,"ngModelChange","ngModel"],["for","caloriesGoal",1,"block","text-gray-400","mb-2"],["id","caloriesGoal","name","caloriesGoal","type","number",1,"w-full","p-2","rounded-xl","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring","focus:ring-green-600","transition","duration-200",3,"ngModelChange","ngModel"],["for","weightGoal",1,"block","text-gray-400","mb-2"],["id","weightGoal","name","weightGoal","type","number",1,"w-full","p-2","rounded-xl","bg-gray-700","text-white","border","border-gray-600","focus:outline-none","focus:ring","focus:ring-green-600","transition","duration-200",3,"ngModelChange","ngModel"],["type","submit",1,"bg-green-600","hover:bg-green-700","text-sm","font-semibold","py-2","px-4","rounded-full","transition","duration-200"],[1,"flex","flex-col","mt-4","gap-4","w-full"],[1,"bg-red-600","hover:bg-red-700","text-white","text-sm","font-semibold","py-2","px-4","rounded-full","transition","duration-200",3,"click"],["alt","Profile Picture",1,"w-full","h-full","object-cover",3,"src"],[1,"flex","justify-center","items-center","w-full","h-full","bg-gray-200"],[1,"fas","fa-camera","text-gray-500","text-2xl"]],template:function(n,r){if(n&1){let i=Ve();w(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),R(4,"Profile Information"),E(),w(5,"div",5),ue(6,kY,1,1,"img",6)(7,RY,2,0,"ng-template",null,0,Q_),E(),w(9,"div",7)(10,"div",8)(11,"strong"),R(12,"Name: "),E(),R(13),E(),ue(14,PY,4,1,"div",9),w(15,"div",10)(16,"strong"),R(17,"Gender:"),E(),R(18),E(),w(19,"div",8)(20,"strong",11),R(21,"Height:"),E(),R(22),E(),w(23,"div",8)(24,"strong",11),R(25,"Weight:"),E(),R(26),E(),w(27,"div",12)(28,"button",13),G("click",function(){return W(i),z(r.toggleUnits())}),R(29),E()()(),L(30,"hr"),w(31,"div",14)(32,"div",8)(33,"strong"),R(34,"Points:"),E(),R(35),E(),ue(36,NY,5,5,"div",15),E()(),w(37,"div",16)(38,"h2",17),R(39,"Set Your Fitness Goals"),E(),w(40,"form",18),G("ngSubmit",function(){return W(i),z(r.saveGoals())}),w(41,"div",19)(42,"label",20),R(43,"Daily Step Goal"),E(),w(44,"input",21),rn("ngModelChange",function(o){return W(i),fn(r.stepGoal,o)||(r.stepGoal=o),z(o)}),E()(),w(45,"div",19)(46,"label",22),R(47,"Daily Calories Goal"),E(),w(48,"input",23),rn("ngModelChange",function(o){return W(i),fn(r.caloriesGoal,o)||(r.caloriesGoal=o),z(o)}),E()(),w(49,"div",19)(50,"label",24),R(51),E(),w(52,"input",25),rn("ngModelChange",function(o){return W(i),fn(r.inputWeightGoal,o)||(r.inputWeightGoal=o),z(o)}),E()(),w(53,"button",26),R(54," Save Goals "),E()()()(),w(55,"div",27)(56,"button",28),G("click",function(){return W(i),z(r.deleteAccount())}),R(57," Delete Profile "),E()()()}if(n&2){let i=rp(8);k(6),$("ngIf",r.profileData.profilePicture)("ngIfElse",i),k(7),Me(r.profileData.name),k(),$("ngIf",r.profileData.dob),k(4),me(" ",r.profileData.gender,""),k(4),me(" ",r.displayHeight," "),k(4),me(" ",r.displayWeight," "),k(3),me(" Switch to ",r.isMetric?"Imperial":"Metric"," "),k(6),me(" ",r.points.toFixed(0),""),k(),$("ngForOf",r.achievements),k(8),nn("ngModel",r.stepGoal),k(4),nn("ngModel",r.caloriesGoal),k(3),me(" Weight Goal (",r.isMetric?"kg":"lbs",") "),k(),nn("ngModel",r.inputWeightGoal)}},dependencies:[Ne,Sn,Xe,zs,Qt,kN,vr,Pd,bi,CN,zr,PI]})};var XO=[{path:"login",component:ic},{path:"profile",component:pv,canActivate:[uo]},{path:"dashboard",component:fv,canActivate:[uo]},{path:"exercises",component:nv,canActivate:[uo]},{path:"workouts",component:sv,canActivate:[uo]},{path:"calendar",component:ov,canActivate:[uo]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}];var e3="@firebase/installations",QI="0.6.9";var t3=1e4,n3=`w:${QI}`,r3="FIS_v2",OY="https://firebaseinstallations.googleapis.com/v1",FY=60*60*1e3,VY="installations",LY="Installations";var UY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Sa=new Xn(VY,LY,UY);function i3(t){return t instanceof on&&t.code.includes("request-failed")}function s3({projectId:t}){return`${OY}/projects/${t}/installations`}function o3(t){return{token:t.token,requestStatus:2,expiresIn:BY(t.expiresIn),creationTime:Date.now()}}function a3(t,e){return y(this,null,function*(){let r=(yield e.json()).error;return Sa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function l3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function jY(t,{refreshToken:e}){let n=l3(t);return n.append("Authorization",$Y(e)),n}function c3(t){return y(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function BY(t){return Number(t.replace("s","000"))}function $Y(t){return`${r3} ${t}`}function WY(r,i){return y(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=s3(t),o=l3(t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let l={fid:n,authVersion:r3,appId:t.appId,sdkVersion:n3},u={method:"POST",headers:o,body:JSON.stringify(l)},d=yield c3(()=>fetch(s,u));if(d.ok){let f=yield d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:o3(f.authToken)}}else throw yield a3("Create Installation",d)})}function u3(t){return new Promise(e=>{setTimeout(e,t)})}function zY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var HY=/^[cdef][\w-]{21}$/,YI="";function qY(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=GY(t);return HY.test(n)?n:YI}catch{return YI}}function GY(t){return zY(t).substr(0,22)}function gv(t){return`${t.appName}!${t.appId}`}var d3=new Map;function h3(t,e){let n=gv(t);f3(n,e),KY(n,e)}function f3(t,e){let n=d3.get(t);if(n)for(let r of n)r(e)}function KY(t,e){let n=YY();n&&n.postMessage({key:t,fid:e}),QY()}var Ta=null;function YY(){return!Ta&&"BroadcastChannel"in self&&(Ta=new BroadcastChannel("[Firebase] FID Change"),Ta.onmessage=t=>{f3(t.data.key,t.data.fid)}),Ta}function QY(){d3.size===0&&Ta&&(Ta.close(),Ta=null)}var XY="firebase-installations-database",ZY=1,xa="firebase-installations-store",GI=null;function XI(){return GI||(GI=Jo(XY,ZY,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xa)}}})),GI}function mv(t,e){return y(this,null,function*(){let n=gv(t),i=(yield XI()).transaction(xa,"readwrite"),s=i.objectStore(xa),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&h3(t,e.fid),e})}function p3(t){return y(this,null,function*(){let e=gv(t),r=(yield XI()).transaction(xa,"readwrite");yield r.objectStore(xa).delete(e),yield r.done})}function vv(t,e){return y(this,null,function*(){let n=gv(t),i=(yield XI()).transaction(xa,"readwrite"),s=i.objectStore(xa),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&h3(t,a.fid),a})}function ZI(t){return y(this,null,function*(){let e,n=yield vv(t.appConfig,r=>{let i=JY(r),s=eQ(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===YI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function JY(t){let e=t||{fid:qY(),registrationStatus:0};return m3(e)}function eQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Sa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nQ(t)}:{installationEntry:e}}function tQ(t,e){return y(this,null,function*(){try{let n=yield WY(t,e);return mv(t.appConfig,n)}catch(n){throw i3(n)&&n.customData.serverCode===409?yield p3(t.appConfig):yield mv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function nQ(t){return y(this,null,function*(){let e=yield ZO(t.appConfig);for(;e.registrationStatus===1;)yield u3(100),e=yield ZO(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield ZI(t);return r||n}return e})}function ZO(t){return vv(t,e=>{if(!e)throw Sa.create("installation-not-found");return m3(e)})}function m3(t){return rQ(t)?{fid:t.fid,registrationStatus:0}:t}function rQ(t){return t.registrationStatus===1&&t.registrationTime+t3<Date.now()}function iQ(r,i){return y(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=sQ(t,n),o=jY(t,n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let l={installation:{sdkVersion:n3,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},d=yield c3(()=>fetch(s,u));if(d.ok){let f=yield d.json();return o3(f)}else throw yield a3("Generate Auth Token",d)})}function sQ(t,{fid:e}){return`${s3(t)}/${e}/authTokens:generate`}function JI(t,e=!1){return y(this,null,function*(){let n,r=yield vv(t.appConfig,s=>{if(!g3(s))throw Sa.create("not-registered");let o=s.authToken;if(!e&&lQ(o))return s;if(o.requestStatus===1)return n=oQ(t,e),s;{if(!navigator.onLine)throw Sa.create("app-offline");let a=uQ(s);return n=aQ(t,a),a}});return n?yield n:r.authToken})}function oQ(t,e){return y(this,null,function*(){let n=yield JO(t.appConfig);for(;n.authToken.requestStatus===1;)yield u3(100),n=yield JO(t.appConfig);let r=n.authToken;return r.requestStatus===0?JI(t,e):r})}function JO(t){return vv(t,e=>{if(!g3(e))throw Sa.create("not-registered");let n=e.authToken;return dQ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function aQ(t,e){return y(this,null,function*(){try{let n=yield iQ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield mv(t.appConfig,r),n}catch(n){if(i3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield p3(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield mv(t.appConfig,r)}throw n}})}function g3(t){return t!==void 0&&t.registrationStatus===2}function lQ(t){return t.requestStatus===2&&!cQ(t)}function cQ(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+FY}function uQ(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function dQ(t){return t.requestStatus===1&&t.requestTime+t3<Date.now()}function hQ(t){return y(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield ZI(e);return r?r.catch(console.error):JI(e).catch(console.error),n.fid})}function fQ(t,e=!1){return y(this,null,function*(){let n=t;return yield pQ(n),(yield JI(n,e)).token})}function pQ(t){return y(this,null,function*(){let{registrationPromise:e}=yield ZI(t);e&&(yield e)})}function mQ(t){if(!t||!t.options)throw KI("App Configuration");if(!t.name)throw KI("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw KI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function KI(t){return Sa.create("missing-app-config-values",{valueName:t})}var v3="installations",gQ="installations-internal",vQ=t=>{let e=t.getProvider("app").getImmediate(),n=mQ(e),r=pr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},yQ=t=>{let e=t.getProvider("app").getImmediate(),n=pr(e,v3).getImmediate();return{getId:()=>hQ(n),getToken:i=>fQ(n,i)}};function _Q(){mn(new Vt(v3,vQ,"PUBLIC")),mn(new Vt(gQ,yQ,"PRIVATE"))}_Q();He(e3,QI);He(e3,QI,"esm2017");var wQ="/firebase-messaging-sw.js",EQ="/firebase-cloud-messaging-push-scope",I3="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bQ="https://fcmregistrations.googleapis.com/v1",D3="google.c.a.c_id",IQ="google.c.a.c_l",DQ="google.c.a.ts",CQ="google.c.a.e";var yv=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(yv||{});function gs(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TQ(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var eD="fcm_token_details_db",SQ=5,y3="fcm_token_object_Store";function xQ(t){return y(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(eD))return null;let e=null;return(yield Jo(eD,SQ,{upgrade:(r,i,s,o)=>y(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(y3))return;let l=o.objectStore(y3),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!u){if(i===2){let d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:gs(d.vapidKey)}}}else if(i===3){let d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:gs(d.auth),p256dh:gs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:gs(d.vapidKey)}}}else if(i===4){let d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:gs(d.auth),p256dh:gs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:gs(d.vapidKey)}}}}})})).close(),yield Xp(eD),yield Xp("fcm_vapid_details_db"),yield Xp("undefined"),AQ(e)?e:null})}function AQ(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var MQ="firebase-messaging-database",kQ=1,Od="firebase-messaging-store",tD=null;function C3(){return tD||(tD=Jo(MQ,kQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Od)}}})),tD}function RQ(t){return y(this,null,function*(){let e=T3(t),r=yield(yield C3()).transaction(Od).objectStore(Od).get(e);if(r)return r;{let i=yield xQ(t.appConfig.senderId);if(i)return yield iD(t,i),i}})}function iD(t,e){return y(this,null,function*(){let n=T3(t),i=(yield C3()).transaction(Od,"readwrite");return yield i.objectStore(Od).put(e,n),yield i.done,e})}function T3({appConfig:t}){return t.appId}var PQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},An=new Xn("messaging","Messaging",PQ);function NQ(t,e){return y(this,null,function*(){let n=yield oD(t),r=S3(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(sD(t.appConfig),i)).json()}catch(o){throw An.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw An.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw An.create("token-subscribe-no-token");return s.token})}function OQ(t,e){return y(this,null,function*(){let n=yield oD(t),r=S3(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${sD(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw An.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw An.create("token-update-failed",{errorInfo:o})}if(!s.token)throw An.create("token-update-no-token");return s.token})}function FQ(t,e){return y(this,null,function*(){let r={method:"DELETE",headers:yield oD(t)};try{let s=yield(yield fetch(`${sD(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw An.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw An.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function sD({projectId:t}){return`${bQ}/projects/${t}/registrations`}function oD(n){return y(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function S3({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==I3&&(i.web.applicationPubKey=r),i}var VQ=7*24*60*60*1e3;function LQ(t){return y(this,null,function*(){let e=yield jQ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:gs(e.getKey("auth")),p256dh:gs(e.getKey("p256dh"))},r=yield RQ(t.firebaseDependencies);if(r){if(BQ(r.subscriptionOptions,n))return Date.now()>=r.createTime+VQ?UQ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield FQ(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _3(t.firebaseDependencies,n)}else return _3(t.firebaseDependencies,n)})}function UQ(t,e){return y(this,null,function*(){try{let n=yield OQ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield iD(t.firebaseDependencies,r),n}catch(n){throw n}})}function _3(t,e){return y(this,null,function*(){let r={token:yield NQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield iD(t,r),r.token})}function jQ(t,e){return y(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TQ(e)})})}function BQ(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function w3(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return $Q(e,t),WQ(e,t),zQ(e,t),e}function $Q(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function WQ(t,e){e.data&&(t.data=e.data)}function zQ(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function HQ(t){return typeof t=="object"&&!!t&&D3 in t}qQ("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function qQ(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function GQ(t){if(!t||!t.options)throw nD("App Configuration Object");if(!t.name)throw nD("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw nD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function nD(t){return An.create("missing-app-config-values",{valueName:t})}var rD=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=GQ(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function KQ(t){return y(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(wQ,{scope:EQ}),t.swRegistration.update().catch(()=>{})}catch(e){throw An.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function YQ(t,e){return y(this,null,function*(){if(!e&&!t.swRegistration&&(yield KQ(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw An.create("invalid-sw-registration");t.swRegistration=e}})}function QQ(t,e){return y(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=I3)})}function XQ(t,e){return y(this,null,function*(){if(!navigator)throw An.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw An.create("permission-blocked");return yield QQ(t,e?.vapidKey),yield YQ(t,e?.serviceWorkerRegistration),LQ(t)})}function ZQ(t,e,n){return y(this,null,function*(){let r=JQ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[D3],message_name:n[IQ],message_time:n[DQ],message_device_time:Math.floor(Date.now()/1e3)})})}function JQ(t){switch(t){case yv.NOTIFICATION_CLICKED:return"notification_open";case yv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eX(t,e){return y(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===yv.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(w3(n)):t.onMessageHandler.next(w3(n)));let r=n.data;HQ(r)&&r[CQ]==="1"&&(yield ZQ(t,n.messageType,r))})}var E3="@firebase/messaging",b3="0.12.12";var tX=t=>{let e=new rD(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>eX(e,n)),e},nX=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>XQ(e,r)}};function rX(){mn(new Vt("messaging",tX,"PUBLIC")),mn(new Vt("messaging-internal",nX,"PRIVATE")),He(E3,b3),He(E3,b3,"esm2017")}function aD(){return y(this,null,function*(){try{yield Kp()}catch{return!1}return typeof window<"u"&&Vu()&&BM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function x3(t=Fr()){return aD().then(e=>{if(!e)throw An.create("unsupported-browser")},e=>{throw An.create("indexed-db-unsupported")}),pr(gt(t),"messaging").getImmediate()}rX();var Fd=class{constructor(e){return e}},A3="messaging",lD=class{constructor(){return rs(A3)}};var M3="__angularfire_symbol__messagingIsSupported",cD="__angularfire_symbol__messagingIsSupportedValue";globalThis[M3]||=aD().then(t=>globalThis[cD]=t).catch(()=>globalThis[cD]=!1);var _v={async:()=>globalThis[M3],sync:()=>{let t=globalThis[cD];if(t===void 0)throw new Error(rk("Messaging"));return t}},uD=new te("angularfire2.messaging-instances");function iX(t,e){if(!_v.sync())return null;let n=Zs(A3,t,e);return n&&new Fd(n)}function sX(t){return(e,n)=>{if(!_v.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new Fd(r)}}var oX={provide:lD,deps:[[new yt,uD]]},aX={provide:Fd,useFactory:iX,deps:[[new yt,uD],Zn]};function k3(t,...e){return He("angularfire",Vr.full,"fcm"),Gt([aX,oX,{provide:sp,useValue:_v.async,multi:!0},{provide:uD,useFactory:sX(t),multi:!0,deps:[we,bt,ui,Lr,...e]}])}var c0e=_v.async;var R3=ht(x3,!0);function P3(t){return new K(3e3,!1)}function lX(){return new K(3100,!1)}function cX(){return new K(3101,!1)}function uX(t){return new K(3001,!1)}function dX(t){return new K(3003,!1)}function hX(t){return new K(3004,!1)}function fX(t,e){return new K(3005,!1)}function pX(){return new K(3006,!1)}function mX(){return new K(3007,!1)}function gX(t,e){return new K(3008,!1)}function vX(t){return new K(3002,!1)}function yX(t,e,n,r,i){return new K(3010,!1)}function _X(){return new K(3011,!1)}function wX(){return new K(3012,!1)}function EX(){return new K(3200,!1)}function bX(){return new K(3202,!1)}function IX(){return new K(3013,!1)}function DX(t){return new K(3014,!1)}function CX(t){return new K(3015,!1)}function TX(t){return new K(3016,!1)}function SX(t,e){return new K(3404,!1)}function xX(t){return new K(3502,!1)}function AX(t){return new K(3503,!1)}function MX(){return new K(3300,!1)}function kX(t){return new K(3504,!1)}function RX(t){return new K(3301,!1)}function PX(t,e){return new K(3302,!1)}function NX(t){return new K(3303,!1)}function OX(t,e){return new K(3400,!1)}function FX(t){return new K(3401,!1)}function VX(t){return new K(3402,!1)}function LX(t,e){return new K(3505,!1)}function ho(t){switch(t.length){case 0:return new lo;case 1:return t[0];default:return new Cd(t)}}function G3(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),d=u==o,f=d&&a||new Map;l.forEach((m,g)=>{let b=g,A=m;if(g!=="offset")switch(b=t.normalizePropertyName(b,i),A){case Dg:A=n.get(g);break;case wi:A=r.get(g);break;default:A=t.normalizeStyleValue(g,b,A,i);break}f.set(b,A)}),d||s.push(f),a=f,o=u}),i.length)throw xX(i);return s}function PD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&dD(n,"start",t)));break;case"done":t.onDone(()=>r(n&&dD(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&dD(n,"destroy",t)));break}}function dD(t,e,n){let r=n.totalTime,i=!!n.disabled,s=ND(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function ND(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function nr(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function N3(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var UX=typeof document>"u"?null:document.documentElement;function OD(t){let e=t.parentNode||t.host||null;return e===UX?null:e}function jX(t){return t.substring(1,6)=="ebkit"}var Aa=null,O3=!1;function BX(t){Aa||(Aa=$X()||{},O3=Aa.style?"WebkitAppearance"in Aa.style:!1);let e=!0;return Aa.style&&!jX(t)&&(e=t in Aa.style,!e&&O3&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Aa.style)),e}function $X(){return typeof document<"u"?document.body:null}function K3(t,e){for(;e;){if(e===t)return!0;e=OD(e)}return!1}function Y3(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var FD=(()=>{let e=class e{validateStyleProperty(r){return BX(r)}containsElement(r,i){return K3(r,i)}getParentElement(r){return OD(r)}query(r,i,s){return Y3(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],u){return new lo(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),jD=class jD{};jD.NOOP=new FD;var Ra=jD,Pa=class{};var WX=1e3,Q3="{{",zX="}}",X3="ng-enter",vD="ng-leave",wv="ng-trigger",Cv=".ng-trigger",F3="ng-animating",yD=".ng-animating";function vs(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_D(parseFloat(e[1]),e[2])}function _D(t,e){switch(e){case"s":return t*WX;default:return t}}function Tv(t,e,n){return t.hasOwnProperty("duration")?t:HX(t,e,n)}function HX(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(P3(t)),{duration:0,delay:0,easing:""};i=_D(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=_D(parseFloat(l),a[4]));let u=a[5];u&&(o=u)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(lX()),a=!0),s<0&&(e.push(cX()),a=!0),a&&e.splice(l,0,P3(t))}return{duration:i,delay:s,easing:o}}function qX(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function xi(t,e,n){e.forEach((r,i)=>{let s=VD(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function ka(t,e){e.forEach((n,r)=>{let i=VD(r);t.style[i]=""})}function Vd(t){return Array.isArray(t)?t.length==1?t[0]:iN(t):t}function GX(t,e,n){let r=e.params||{},i=Z3(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(uX(s))})}var wD=new RegExp(`${Q3}\\s*(.+?)\\s*${zX}`,"g");function Z3(t){let e=[];if(typeof t=="string"){let n;for(;n=wD.exec(t);)e.push(n[1]);wD.lastIndex=0}return e}function Ud(t,e,n){let r=`${t}`,i=r.replace(wD,(s,o)=>{let a=e[o];return a==null&&(n.push(dX(o)),a=""),a.toString()});return i==r?t:i}var KX=/-+([a-z0-9])/g;function VD(t){return t.replace(KX,(...e)=>e[1].toUpperCase())}function YX(t,e){return t===0||e===0}function QX(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,LD(t,a)))}}return e}function tr(t,e,n){switch(e.type){case Se.Trigger:return t.visitTrigger(e,n);case Se.State:return t.visitState(e,n);case Se.Transition:return t.visitTransition(e,n);case Se.Sequence:return t.visitSequence(e,n);case Se.Group:return t.visitGroup(e,n);case Se.Animate:return t.visitAnimate(e,n);case Se.Keyframes:return t.visitKeyframes(e,n);case Se.Style:return t.visitStyle(e,n);case Se.Reference:return t.visitReference(e,n);case Se.AnimateChild:return t.visitAnimateChild(e,n);case Se.AnimateRef:return t.visitAnimateRef(e,n);case Se.Query:return t.visitQuery(e,n);case Se.Stagger:return t.visitStagger(e,n);default:throw hX(e.type)}}function LD(t,e){return window.getComputedStyle(t)[e]}var XX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sv=class extends Pa{normalizePropertyName(e,n){return VD(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(XX.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(fX(e,r))}return o+s}};var xv="*";function ZX(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>JX(r,n,e)):n.push(t),n}function JX(t,e,n){if(t[0]==":"){let l=eZ(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(CX(t)),e;let i=r[1],s=r[2],o=r[3];e.push(V3(i,o));let a=i==xv&&o==xv;s[0]=="<"&&!a&&e.push(V3(o,i))}function eZ(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(TX(t)),"* => *"}}var Ev=new Set(["true","1"]),bv=new Set(["false","0"]);function V3(t,e){let n=Ev.has(t)||bv.has(t),r=Ev.has(e)||bv.has(e);return(i,s)=>{let o=t==xv||t==i,a=e==xv||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Ev.has(t):bv.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Ev.has(e):bv.has(e)),o&&a}}var J3=":self",tZ=new RegExp(`s*${J3}s*,?`,"g");function e4(t,e,n,r){return new ED(t).build(e,n,r)}var L3="",ED=class{constructor(e){this._driver=e}build(e,n,r){let i=new bD(n);return this._resetContextStyleTimingState(i),tr(this,Vd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=L3,e.collectedStyles=new Map,e.collectedStyles.set(L3,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(pX()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==Se.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,n))}),l.name=u}else if(a.type==Se.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(mX())}),{type:Se.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Z3(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&n.errors.push(gX(e.name,[...s.values()]))}return{type:Se.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=tr(this,Vd(e.animation),n),i=ZX(e.expr,n.errors);return{type:Se.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ma(e.options)}}visitSequence(e,n){return{type:Se.Sequence,steps:e.steps.map(r=>tr(this,r,n)),options:Ma(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=tr(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:Se.Group,steps:s,options:Ma(e.options)}}visitAnimate(e,n){let r=sZ(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ei({});if(s.type==Se.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};r.easing&&(u.easing=r.easing),o=Ei(u)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:Se.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===wi?r.push(a):n.errors.push(vX(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Q3)>=0){s=!0;break}}}),{type:Se.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let u=n.collectedStyles.get(n.currentQuerySelector),d=u.get(l),f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(n.errors.push(yX(l,d.startTime,d.endTime,s,i)),f=!1),s=d.startTime),f&&u.set(l,{startTime:s,endTime:i}),n.options&&GX(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:Se.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(_X()),r;let i=1,s=0,o=[],a=!1,l=!1,u=0,d=e.steps.map(N=>{let H=this._makeStyleAst(N,n),U=H.offset!=null?H.offset:iZ(H.styles),B=0;return U!=null&&(s++,B=H.offset=U),l=l||B<0||B>1,a=a||B<u,u=B,o.push(B),H});l&&n.errors.push(wX()),a&&n.errors.push(EX());let f=e.steps.length,m=0;s>0&&s<f?n.errors.push(bX()):s==0&&(m=i/(f-1));let g=f-1,b=n.currentTime,A=n.currentAnimateTimings,S=A.duration;return d.forEach((N,H)=>{let U=m>0?H==g?1:m*H:o[H],B=U*S;n.currentTime=b+A.delay+B,A.duration=B,this._validateStyleAst(N,n),N.offset=U,r.styles.push(N)}),r}visitReference(e,n){return{type:Se.Reference,animation:tr(this,Vd(e.animation),n),options:Ma(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:Se.AnimateChild,options:Ma(e.options)}}visitAnimateRef(e,n){return{type:Se.AnimateRef,animation:this.visitReference(e.animation,n),options:Ma(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=nZ(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,nr(n.collectedStyles,n.currentQuerySelector,new Map);let a=tr(this,Vd(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:Se.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ma(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(IX());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Tv(e.timings,n.errors,!0);return{type:Se.Stagger,animation:tr(this,Vd(e.animation),n),timings:r,options:null}}};function nZ(t){let e=!!t.split(/\s*,\s*/).find(n=>n==J3);return e&&(t=t.replace(tZ,"")),t=t.replace(/@\*/g,Cv).replace(/@\w+/g,n=>Cv+"-"+n.slice(1)).replace(/:animating/g,yD),[t,e]}function rZ(t){return t?j({},t):null}var bD=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function iZ(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function sZ(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Tv(t,e).duration;return hD(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=hD(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Tv(n,e);return hD(i.duration,i.delay,i.easing)}function Ma(t){return t?(t=j({},t),t.params&&(t.params=rZ(t.params))):t={},t}function hD(t,e,n){return{duration:t,delay:e,easing:n}}function UD(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var jd=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},oZ=1,aZ=":enter",lZ=new RegExp(aZ,"g"),cZ=":leave",uZ=new RegExp(cZ,"g");function t4(t,e,n,r,i,s=new Map,o=new Map,a,l,u=[]){return new ID().buildKeyframes(t,e,n,r,i,s,o,a,l,u)}var ID=class{buildKeyframes(e,n,r,i,s,o,a,l,u,d=[]){u=u||new jd;let f=new DD(e,n,u,i,s,d,[]);f.options=l;let m=l.delay?vs(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([o],null,f.errors,l),tr(this,r,f);let g=f.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let A=g.length-1;A>=0;A--){let S=g[A];if(S.element===n){b=S;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,f.errors,l)}return g.length?g.map(b=>b.buildKeyframes()):[UD(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:vs(Ud(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?vs(r.duration):null,a=r.delay!=null?vs(r.delay):null;return o!==0&&e.forEach(l=>{let u=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),tr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==Se.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Av);let o=vs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>tr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?vs(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),tr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Ud(r,n.params,n.errors):r;return Tv(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==Se.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?vs(i.delay):0;s&&(n.previousNode.type===Se.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Av);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{n.currentQueryIndex=d;let f=n.createSubContext(e.options,u);s&&f.delayNextStep(s),u===n.element&&(l=f.currentTimeline),tr(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;o=Math.max(o,m)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let d=n.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;tr(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},Av={},DD=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Av,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Mv(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=vs(r.duration)),r.delay!=null&&(i.delay=vs(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Ud(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Av,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new CD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(lZ,"."+this._enterClassName),e=e.replace(uZ,"."+this._leaveClassName);let l=r!=1,u=this._driver.query(this.element,e,l);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&a.length==0&&o.push(DX(n)),a}},Mv=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oZ,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||wi),this._currentKeyframe.set(n,wi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=dZ(e,this._globalTimelineStyles);for(let[a,l]of o){let u=Ud(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wi),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===Dg?e.add(f):d===wi&&n.add(f)}),r||u.set("offset",l/this.duration),i.push(u)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return UD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},CD=class extends Mv{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let u=new Map(e[0]);u.set("offset",U3(a)),s.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),g=m.get("offset"),b=n+g*r;m.set("offset",U3(b/o)),s.push(m)}r=o,n=0,i="",e=s}return UD(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function U3(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function dZ(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,wi)}else for(let[s,o]of i)n.set(s,o)}),n}function j3(t,e,n,r,i,s,o,a,l,u,d,f,m){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:f,errors:m}}var fD={},kv=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return hZ(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,u,d){let f=[],m=this.ast.options&&this.ast.options.params||fD,g=a&&a.params||fD,b=this.buildStyles(r,g,f),A=l&&l.params||fD,S=this.buildStyles(i,A,f),N=new Set,H=new Map,U=new Map,B=i==="void",re={params:n4(A,m),delay:this.ast.options?.delay},Q=d?[]:t4(e,n,this.ast.animation,s,o,b,S,re,u,f),T=0;return Q.forEach(_=>{T=Math.max(_.duration+_.delay,T)}),f.length?j3(n,this._triggerName,r,i,B,b,S,[],[],H,U,T,f):(Q.forEach(_=>{let I=_.element,C=nr(H,I,new Set);_.preStyleProps.forEach(M=>C.add(M));let x=nr(U,I,new Set);_.postStyleProps.forEach(M=>x.add(M)),I!==n&&N.add(I)}),j3(n,this._triggerName,r,i,B,b,S,Q,[...N.values()],H,U,T))}};function hZ(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function n4(t,e){let n=j({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var TD=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=n4(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Ud(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function fZ(t,e,n){return new SD(t,e,n)}var SD=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new TD(i.style,s,r))}),B3(this.states,"true","1"),B3(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new kv(e,i,this.states))}),this.fallbackTransition=pZ(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function pZ(t,e,n){let r=[(o,a)=>!0],i={type:Se.Sequence,steps:[],options:null},s={type:Se.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new kv(t,s,e)}function B3(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var mZ=new jd,xD=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=e4(this._driver,n,r,i);if(r.length)throw AX(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=G3(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=t4(this._driver,n,s,X3,vD,new Map,new Map,r,mZ,i),o.forEach(d=>{let f=nr(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push(MX()),o=[]),i.length)throw kX(i);a.forEach((d,f)=>{d.forEach((m,g)=>{d.set(g,this._driver.computeStyle(f,g,wi))})});let l=o.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=ho(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw RX(e);return n}listen(e,n,r,i){let s=ND(n,"","","");return PD(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},$3="ng-animate-queued",gZ=".ng-animate-queued",pD="ng-animate-disabled",vZ=".ng-animate-disabled",yZ="ng-star-inserted",_Z=".ng-star-inserted",wZ=[],r4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},EZ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed",Bd=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=IZ(i),r){let s=e,{value:o}=s,a=lh(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ld="void",mD=new Bd(Ld),AD=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yr(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw PX(r,n);if(r==null||r.length==0)throw NX(n);if(!DZ(r))throw OX(r,n);let s=nr(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=nr(this._engine.statesByElement,e,new Map);return a.has(n)||(yr(e,wv),yr(e,wv+"-"+n),a.set(n,mD)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw FX(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new $d(this.id,n,e),a=this._engine.statesByElement.get(e);a||(yr(e,wv),yr(e,wv+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),u=new Bd(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(n,u),l||(l=mD),!(u.value===Ld)&&l.value===u.value){if(!SZ(l.params,u.params)){let A=[],S=s.matchStyles(l.value,l.params,A),N=s.matchStyles(u.value,u.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{ka(e,S),xi(e,N)})}return}let m=nr(this._engine.playersByElement,e,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==n&&A.queued&&A.destroy()});let g=s.matchTransition(l.value,u.value,e,u.params),b=!1;if(!g){if(!i)return;g=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:g,fromState:l,toState:u,player:o,isFallbackTransition:b}),b||(yr(e,$3),o.onStart(()=>{vc(e,$3)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let S=this._engine.playersByElement.get(e);if(S){let N=S.indexOf(o);N>=0&&S.splice(N,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Cv,!0);r.forEach(i=>{if(i[qr])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){let d=this.trigger(e,u,Ld,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ho(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,u=r.get(o)||mD,d=new Bd(Ld),f=new $d(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[qr];(!s||s===r4)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){yr(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=ND(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,PD(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},MD=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new AD(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(Iv(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Iv(n))return;let s=n[qr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yr(e,pD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vc(e,pD))}removeNode(e,n,r){if(Iv(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[qr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Iv(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Cv,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,yD,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ho(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[qr];if(n&&n.setForRemoval){if(e[qr]=r4,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(pD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vZ,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];yr(i,yZ)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ho(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw VX(e)}_flushAnimations(e,n){let r=new jd,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ie=>{d.add(ie);let oe=this.driver.query(ie,gZ,!0);for(let ce=0;ce<oe.length;ce++)d.add(oe[ce])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=H3(m,this.collectedEnterElements),b=new Map,A=0;g.forEach((ie,oe)=>{let ce=X3+A++;b.set(oe,ce),ie.forEach(de=>yr(de,ce))});let S=[],N=new Set,H=new Set;for(let ie=0;ie<this.collectedLeaveElements.length;ie++){let oe=this.collectedLeaveElements[ie],ce=oe[qr];ce&&ce.setForRemoval&&(S.push(oe),N.add(oe),ce.hasAnimation?this.driver.query(oe,_Z,!0).forEach(de=>N.add(de)):H.add(oe))}let U=new Map,B=H3(m,Array.from(N));B.forEach((ie,oe)=>{let ce=vD+A++;U.set(oe,ce),ie.forEach(de=>yr(de,ce))}),e.push(()=>{g.forEach((ie,oe)=>{let ce=b.get(oe);ie.forEach(de=>vc(de,ce))}),B.forEach((ie,oe)=>{let ce=U.get(oe);ie.forEach(de=>vc(de,ce))}),S.forEach(ie=>{this.processLeaveNode(ie)})});let re=[],Q=[];for(let ie=this._namespaceList.length-1;ie>=0;ie--)this._namespaceList[ie].drainQueuedTransitions(n).forEach(ce=>{let de=ce.player,rt=ce.element;if(re.push(de),this.collectedEnterElements.length){let Ct=rt[qr];if(Ct&&Ct.setForMove){if(Ct.previousTriggersValues&&Ct.previousTriggersValues.has(ce.triggerName)){let Ai=Ct.previousTriggersValues.get(ce.triggerName),Mn=this.statesByElement.get(ce.element);if(Mn&&Mn.has(ce.triggerName)){let Mi=Mn.get(ce.triggerName);Mi.value=Ai,Mn.set(ce.triggerName,Mi)}}de.destroy();return}}let vt=!f||!this.driver.containsElement(f,rt),ct=U.get(rt),st=b.get(rt),et=this._buildInstruction(ce,r,st,ct,vt);if(et.errors&&et.errors.length){Q.push(et);return}if(vt){de.onStart(()=>ka(rt,et.fromStyles)),de.onDestroy(()=>xi(rt,et.toStyles)),i.push(de);return}if(ce.isFallbackTransition){de.onStart(()=>ka(rt,et.fromStyles)),de.onDestroy(()=>xi(rt,et.toStyles)),i.push(de);return}let _r=[];et.timelines.forEach(Ct=>{Ct.stretchStartingKeyframe=!0,this.disabledNodes.has(Ct.element)||_r.push(Ct)}),et.timelines=_r,r.append(rt,et.timelines);let Ec={instruction:et,player:de,element:rt};o.push(Ec),et.queriedElements.forEach(Ct=>nr(a,Ct,[]).push(de)),et.preStyleProps.forEach((Ct,Ai)=>{if(Ct.size){let Mn=l.get(Ai);Mn||l.set(Ai,Mn=new Set),Ct.forEach((Mi,ys)=>Mn.add(ys))}}),et.postStyleProps.forEach((Ct,Ai)=>{let Mn=u.get(Ai);Mn||u.set(Ai,Mn=new Set),Ct.forEach((Mi,ys)=>Mn.add(ys))})});if(Q.length){let ie=[];Q.forEach(oe=>{ie.push(LX(oe.triggerName,oe.errors))}),re.forEach(oe=>oe.destroy()),this.reportError(ie)}let T=new Map,_=new Map;o.forEach(ie=>{let oe=ie.element;r.has(oe)&&(_.set(oe,oe),this._beforeAnimationBuild(ie.player.namespaceId,ie.instruction,T))}),i.forEach(ie=>{let oe=ie.element;this._getPreviousPlayers(oe,!1,ie.namespaceId,ie.triggerName,null).forEach(de=>{nr(T,oe,[]).push(de),de.destroy()})});let I=S.filter(ie=>q3(ie,l,u)),C=new Map;z3(C,this.driver,H,u,wi).forEach(ie=>{q3(ie,l,u)&&I.push(ie)});let M=new Map;g.forEach((ie,oe)=>{z3(M,this.driver,new Set(ie),l,Dg)}),I.forEach(ie=>{let oe=C.get(ie),ce=M.get(ie);C.set(ie,new Map([...oe?.entries()??[],...ce?.entries()??[]]))});let D=[],Ge=[],rr={};o.forEach(ie=>{let{element:oe,player:ce,instruction:de}=ie;if(r.has(oe)){if(d.has(oe)){ce.onDestroy(()=>xi(oe,de.toStyles)),ce.disabled=!0,ce.overrideTotalTime(de.totalTime),i.push(ce);return}let rt=rr;if(_.size>1){let ct=oe,st=[];for(;ct=ct.parentNode;){let et=_.get(ct);if(et){rt=et;break}st.push(ct)}st.forEach(et=>_.set(et,rt))}let vt=this._buildAnimation(ce.namespaceId,de,T,s,M,C);if(ce.setRealPlayer(vt),rt===rr)D.push(ce);else{let ct=this.playersByElement.get(rt);ct&&ct.length&&(ce.parentPlayer=ho(ct)),i.push(ce)}}else ka(oe,de.fromStyles),ce.onDestroy(()=>xi(oe,de.toStyles)),Ge.push(ce),d.has(oe)&&i.push(ce)}),Ge.forEach(ie=>{let oe=s.get(ie.element);if(oe&&oe.length){let ce=ho(oe);ie.setRealPlayer(ce)}}),i.forEach(ie=>{ie.parentPlayer?ie.syncPlayerEvents(ie.parentPlayer):ie.destroy()});for(let ie=0;ie<S.length;ie++){let oe=S[ie],ce=oe[qr];if(vc(oe,vD),ce&&ce.hasAnimation)continue;let de=[];if(a.size){let vt=a.get(oe);vt&&vt.length&&de.push(...vt);let ct=this.driver.query(oe,yD,!0);for(let st=0;st<ct.length;st++){let et=a.get(ct[st]);et&&et.length&&de.push(...et)}}let rt=de.filter(vt=>!vt.destroyed);rt.length?CZ(this,oe,rt):this.processLeaveNode(oe)}return S.length=0,D.forEach(ie=>{this.players.push(ie),ie.onDone(()=>{ie.destroy();let oe=this.players.indexOf(ie);this.players.splice(oe,1)}),ie.play()}),D}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ld;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let u=l.element,d=u!==s,f=nr(r,u,[]);this._getPreviousPlayers(u,d,o,a,n.toState).forEach(g=>{let b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),f.push(g)})}ka(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,u=[],d=new Set,f=new Set,m=n.timelines.map(b=>{let A=b.element;d.add(A);let S=A[qr];if(S&&S.removedBeforeQueried)return new lo(b.duration,b.delay);let N=A!==l,H=TZ((r.get(A)||wZ).map(T=>T.getRealPlayer())).filter(T=>{let _=T;return _.element?_.element===A:!1}),U=s.get(A),B=o.get(A),re=G3(this._normalizer,b.keyframes,U,B),Q=this._buildPlayer(b,re,H);if(b.subTimeline&&i&&f.add(A),N){let T=new $d(e,a,A);T.setRealPlayer(Q),u.push(T)}return Q});u.forEach(b=>{nr(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>bZ(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>yr(b,F3));let g=ho(m);return g.onDestroy(()=>{d.forEach(b=>vc(b,F3)),xi(l,n.toStyles)}),f.forEach(b=>{nr(i,b,[]).push(g)}),g}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new lo(e.duration,e.delay)}},$d=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new lo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>PD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){nr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function bZ(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function IZ(t){return t??null}function Iv(t){return t&&t.nodeType===1}function DZ(t){return t=="start"||t=="done"}function W3(t,e){let n=t.style.display;return t.style.display=e??"none",n}function z3(t,e,n,r,i){let s=[];n.forEach(l=>s.push(W3(l)));let o=[];r.forEach((l,u)=>{let d=new Map;l.forEach(f=>{let m=e.computeStyle(u,f,i);d.set(f,m),(!m||m.length==0)&&(u[qr]=EZ,o.push(u))}),t.set(u,d)});let a=0;return n.forEach(l=>W3(l,s[a++])),o}function H3(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let u=a.parentNode;return n.has(u)?l=u:i.has(u)?l=r:l=o(u),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function yr(t,e){t.classList?.add(e)}function vc(t,e){t.classList?.remove(e)}function CZ(t,e,n){ho(n).onDone(()=>t.processLeaveNode(e))}function TZ(t){let e=[];return i4(t,e),e}function i4(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof Cd?i4(r.players,e):e.push(r)}}function SZ(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function q3(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var _c=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new MD(e.body,n,r),this._timelineEngine=new xD(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],u=[],d=e4(this._driver,s,l,u);if(l.length)throw SX(i,l);u.length&&void 0,a=fZ(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=N3(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=N3(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function xZ(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=gD(e[0]),e.length>1&&(r=gD(e[e.length-1]))):e instanceof Map&&(n=gD(e)),n||r?new kD(t,n,r):null}var yc=class yc{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=yc.initialStylesByElement.get(e);i||yc.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&xi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xi(this._element,this._initialStyles),this._endStyles&&(xi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(yc.initialStylesByElement.delete(this._element),this._startStyles&&(ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),xi(this._element,this._initialStyles),this._state=3)}};yc.initialStylesByElement=new WeakMap;var kD=yc;function gD(t){let e=null;return t.forEach((n,r)=>{AZ(r)&&(e=e||new Map,e.set(r,n))}),e}function AZ(t){return t==="display"||t==="position"}var Rv=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:LD(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Pv=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return K3(e,n)}getParentElement(e){return OD(e)}query(e,n,r){return Y3(e,n,r)}computeStyle(e,n,r){return LD(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let u=new Map,d=o.filter(g=>g instanceof Rv);YX(r,i)&&d.forEach(g=>{g.currentSnapshot.forEach((b,A)=>u.set(A,b))});let f=qX(n).map(g=>new Map(g));f=QX(e,f,u);let m=xZ(e,f);return new Rv(e,f,l,m)}};var Dv="@",s4="@.disabled",Nv=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.parentNode(n)&&this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==Dv&&n==s4?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},RD=class extends Nv{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==Dv?n.charAt(1)=="."&&n==s4?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==Dv){let i=MZ(e),s=n.slice(1),o="";return s.charAt(0)!=Dv&&([s,o]=kZ(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function MZ(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function kZ(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Ov=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new Nv(r,i,this.engine,f),u.set(i,d)}return d}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return n.data.animation.forEach(a),new RD(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var PZ=(()=>{let e=class e extends _c{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(ee(kt),ee(Ra),ee(Pa))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function NZ(){return new Sv}function OZ(t,e,n){return new Ov(t,e,n)}var o4=[{provide:Pa,useFactory:NZ},{provide:_c,useClass:PZ},{provide:Os,useFactory:OZ,deps:[Tp,_c,we]}],FZ=[{provide:Ra,useFactory:()=>new Pv},{provide:T_,useValue:"BrowserAnimations"},...o4],D0e=[{provide:Ra,useClass:FD},{provide:T_,useValue:"NoopAnimations"},...o4];function a4(){return Us("NgEagerAnimations"),[...FZ]}var VZ=function(){function t(){}return t.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},t.prototype.getStyle=function(e,n){return this.getAllStyles(e)[n]},t.prototype.isStaticPositioned=function(e){return(this.getStyle(e,"position")||"static")==="static"},t.prototype.offsetParent=function(e){for(var n=e.offsetParent||document.documentElement;n&&n!==document.documentElement&&this.isStaticPositioned(n);)n=n.offsetParent;return n||document.documentElement},t.prototype.position=function(e,n){n===void 0&&(n=!0);var r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(e,"position")==="fixed")r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var s=this.offsetParent(e);r=this.offset(e,!1),s!==document.documentElement&&(i=this.offset(s,!1)),i.top+=s.clientTop,i.left+=s.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,n&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},t.prototype.offset=function(e,n){n===void 0&&(n=!0);var r=e.getBoundingClientRect(),i={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},s={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i.top,bottom:r.bottom+i.top,left:r.left+i.left,right:r.right+i.left};return n&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},t.prototype.positionElements=function(e,n,r,i){var s=r.split("-"),o=s[0],a=o===void 0?"top":o,l=s[1],u=l===void 0?"center":l,d=i?this.offset(e,!1):this.position(e,!1),f=this.getAllStyles(n),m=parseFloat(f.marginTop),g=parseFloat(f.marginBottom),b=parseFloat(f.marginLeft),A=parseFloat(f.marginRight),S=0,N=0;switch(a){case"top":S=d.top-(n.offsetHeight+m+g);break;case"bottom":S=d.top+d.height;break;case"left":N=d.left-(n.offsetWidth+b+A);break;case"right":N=d.left+d.width;break}switch(u){case"top":S=d.top;break;case"bottom":S=d.top+d.height-n.offsetHeight;break;case"left":N=d.left;break;case"right":N=d.left+d.width-n.offsetWidth;break;case"center":a==="top"||a==="bottom"?N=d.left+d.width/2-n.offsetWidth/2:S=d.top+d.height/2-n.offsetHeight/2;break}n.style.transform="translate("+Math.round(N)+"px, "+Math.round(S)+"px)";var H=n.getBoundingClientRect(),U=document.documentElement,B=window.innerHeight||U.clientHeight,re=window.innerWidth||U.clientWidth;return H.left>=0&&H.top>=0&&H.right<=re&&H.bottom<=B},t}();var T0e=new VZ;var Gr=function(){return Gr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gr.apply(this,arguments)},BD=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Lv=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(Lv||{}),UZ=[Lv.SUNDAY,Lv.SATURDAY],$D=7,WD=24,Fv=60,fo=60*60*24;function l4(t,e){var n=e.startDate,r=e.seconds,i=e.excluded,s=e.precision;if(i.length<1)return 0;for(var o=t.addSeconds,a=t.getDay,l=t.addDays,u=o(n,r-1),d=a(n),f=a(u),m=0,g=n,b=function(){var A=a(g);i.some(function(S){return S===A})&&(m+=jZ(t,{dayStart:d,dayEnd:f,day:A,precision:s,startDate:n,endDate:u})),g=l(g,1)};g<u;)b();return m}function jZ(t,e){var n=e.precision,r=e.day,i=e.dayStart,s=e.dayEnd,o=e.startDate,a=e.endDate,l=t.differenceInSeconds,u=t.endOfDay,d=t.startOfDay;if(n==="minutes"){if(r===i)return l(u(o),o)+1;if(r===s)return l(a,d(a))+1}return fo}function BZ(t,e){var n=e.event,r=e.offset,i=e.startOfWeekDate,s=e.excluded,o=e.precision,a=e.totalDaysInView,l=t.max,u=t.differenceInSeconds,d=t.addDays,f=t.endOfDay,m=t.differenceInDays,g=fo,b=l([n.start,i]);if(n.end)switch(o){case"minutes":g=u(n.end,b);break;default:g=m(d(f(n.end),1),b)*fo;break}var A=r*fo,S=A+g,N=a*fo;return S>N&&(g=N-A),g-=l4(t,{startDate:b,seconds:g,excluded:s,precision:o}),g/fo}function $Z(t,e){var n=e.event,r=e.startOfWeek,i=e.excluded,s=e.precision,o=t.differenceInDays,a=t.startOfDay,l=t.differenceInSeconds;if(n.start<r)return 0;var u=0;switch(s){case"days":u=o(a(n.start),r)*fo;break;case"minutes":u=l(n.start,r);break}return u-=l4(t,{startDate:r,seconds:u,excluded:i,precision:s}),Math.abs(u/fo)}function WZ(t,e){var n=e.event,r=e.periodStart,i=e.periodEnd,s=t.isSameSecond,o=n.start,a=n.end||n.start;return!!(o>r&&o<i||a>r&&a<i||o<r&&a>i||s(o,r)||s(o,i)||s(a,r)||s(a,i))}function Wd(t,e){var n=e.events,r=e.periodStart,i=e.periodEnd;return n.filter(function(s){return WZ(t,{event:s,periodStart:r,periodEnd:i})})}function c4(t,e){var n=e.date,r=e.weekendDays,i=r===void 0?UZ:r,s=t.startOfDay,o=t.isSameDay,a=t.getDay,l=s(new Date),u=a(n);return{date:n,day:u,isPast:n<l,isToday:o(n,l),isFuture:n>l,isWeekend:i.indexOf(u)>-1}}function Bv(t,e){for(var n=e.viewDate,r=e.weekStartsOn,i=e.excluded,s=i===void 0?[]:i,o=e.weekendDays,a=e.viewStart,l=a===void 0?t.startOfWeek(n,{weekStartsOn:r}):a,u=e.viewEnd,d=u===void 0?t.addDays(l,$D):u,f=t.addDays,m=t.getDay,g=[],b=l;b<d;)s.some(function(A){return m(b)===A})||g.push(c4(t,{date:b,weekendDays:o})),b=f(b,1);return g}function zZ(t,e){for(var n=e.date1,r=e.date2,i=e.excluded,s=n,o=0;s<r;)i.indexOf(t.getDay(s))===-1&&o++,s=t.addDays(s,1);return o}function HZ(t,e){var n=e.events,r=n===void 0?[]:n,i=e.excluded,s=i===void 0?[]:i,o=e.precision,a=o===void 0?"days":o,l=e.absolutePositionedEvents,u=l===void 0?!1:l,d=e.viewStart,f=e.viewEnd;d=t.startOfDay(d),f=t.endOfDay(f);var m=t.differenceInSeconds,g=t.differenceInDays,b=zZ(t,{date1:d,date2:f,excluded:s}),A=g(f,d)+1,S=r.filter(function(U){return U.allDay}).map(function(U){var B=$Z(t,{event:U,startOfWeek:d,excluded:s,precision:a}),re=BZ(t,{event:U,offset:B,startOfWeekDate:d,excluded:s,precision:a,totalDaysInView:A});return{event:U,offset:B,span:re}}).filter(function(U){return U.offset<b}).filter(function(U){return U.span>0}).map(function(U){return{event:U.event,offset:U.offset,span:U.span,startsBeforeWeek:U.event.start<d,endsAfterWeek:(U.event.end||U.event.start)>f}}).sort(function(U,B){var re=m(U.event.start,B.event.start);return re===0?m(B.event.end||B.event.start,U.event.end||U.event.start):re}),N=[],H=[];return S.forEach(function(U,B){if(H.indexOf(U)===-1){H.push(U);var re=U.span+U.offset,Q=S.slice(B+1).filter(function(I){if(I.offset>=re&&re+I.span<=A&&H.indexOf(I)===-1){var C=I.offset-re;return u||(I.offset=C),re+=I.span+C,H.push(I),!0}}),T=BD([U],Q,!0),_=T.filter(function(I){return I.event.id}).map(function(I){return I.event.id}).join("-");N.push(Gr({row:T},_?{id:_}:{}))}}),N}function qZ(t,e){var n=e.events,r=e.viewDate,i=e.hourSegments,s=e.hourDuration,o=e.dayStart,a=e.dayEnd,l=e.weekStartsOn,u=e.excluded,d=e.weekendDays,f=e.segmentHeight,m=e.viewStart,g=e.viewEnd,b=e.minimumEventHeight,A=KZ(t,{viewDate:r,hourSegments:i,hourDuration:s,dayStart:o,dayEnd:a}),S=Bv(t,{viewDate:r,weekStartsOn:l,excluded:u,weekendDays:d,viewStart:m,viewEnd:g}),N=t.setHours,H=t.setMinutes,U=t.getHours,B=t.getMinutes;return S.map(function(re){var Q=GZ(t,{events:n,viewDate:re.date,hourSegments:i,dayStart:o,dayEnd:a,segmentHeight:f,eventWidth:1,hourDuration:s,minimumEventHeight:b}),T=A.map(function(C){var x=C.segments.map(function(M){var D=H(N(re.date,U(M.date)),B(M.date));return Gr(Gr({},M),{date:D})});return Gr(Gr({},C),{segments:x})});function _(C,x){var M=Math.max.apply(Math,x.map(function(Ge){return Ge.left+1})),D=C.filter(function(Ge){return Ge.left>=M}).filter(function(Ge){return Vv(x,Ge.top,Ge.top+Ge.height).length>0});return D.length>0?_(C,D):M}var I=Q.events.map(function(C){var x=_(Q.events,Vv(Q.events,C.top,C.top+C.height)),M=100/x;return Gr(Gr({},C),{left:C.left*M,width:M})});return{hours:T,date:re.date,events:I.map(function(C){var x=Vv(I.filter(function(M){return M.left>C.left}),C.top,C.top+C.height);return x.length>0?Gr(Gr({},C),{width:Math.min.apply(Math,x.map(function(M){return M.left}))-C.left}):C})}})}function u4(t,e){var n=e.events,r=n===void 0?[]:n,i=e.viewDate,s=e.weekStartsOn,o=e.excluded,a=o===void 0?[]:o,l=e.precision,u=l===void 0?"days":l,d=e.absolutePositionedEvents,f=d===void 0?!1:d,m=e.hourSegments,g=e.hourDuration,b=e.dayStart,A=e.dayEnd,S=e.weekendDays,N=e.segmentHeight,H=e.minimumEventHeight,U=e.viewStart,B=U===void 0?t.startOfWeek(i,{weekStartsOn:s}):U,re=e.viewEnd,Q=re===void 0?t.endOfWeek(i,{weekStartsOn:s}):re;r||(r=[]);var T=t.startOfDay,_=t.endOfDay;B=T(B),Q=_(Q);var I=Wd(t,{events:r,periodStart:B,periodEnd:Q}),C=Bv(t,{viewDate:i,weekStartsOn:s,excluded:a,weekendDays:S,viewStart:B,viewEnd:Q});return{allDayEventRows:HZ(t,{events:I,excluded:a,precision:u,absolutePositionedEvents:f,viewStart:B,viewEnd:Q}),period:{events:I,start:C[0].date,end:_(C[C.length-1].date)},hourColumns:qZ(t,{events:r,viewDate:i,hourSegments:m,hourDuration:g,dayStart:b,dayEnd:A,weekStartsOn:s,excluded:a,weekendDays:S,segmentHeight:N,viewStart:B,viewEnd:Q,minimumEventHeight:H})}}function d4(t,e){var n=e.events,r=n===void 0?[]:n,i=e.viewDate,s=e.weekStartsOn,o=e.excluded,a=o===void 0?[]:o,l=e.viewStart,u=l===void 0?t.startOfMonth(i):l,d=e.viewEnd,f=d===void 0?t.endOfMonth(i):d,m=e.weekendDays;r||(r=[]);for(var g=t.startOfWeek,b=t.endOfWeek,A=t.differenceInDays,S=t.startOfDay,N=t.addHours,H=t.endOfDay,U=t.isSameMonth,B=t.getDay,re=g(u,{weekStartsOn:s}),Q=b(f,{weekStartsOn:s}),T=Wd(t,{events:r,periodStart:re,periodEnd:Q}),_=[],I,C=function(ce){var de;if(I?(de=S(N(I,WD)),I.getTime()===de.getTime()&&(de=S(N(I,WD+1))),I=de):de=I=re,!a.some(function(ct){return B(de)===ct})){var rt=c4(t,{date:de,weekendDays:m}),vt=Wd(t,{events:T,periodStart:S(de),periodEnd:H(de)});rt.inMonth=U(de,i),rt.events=vt,rt.badgeTotal=vt.length,_.push(rt)}},x=0;x<A(Q,re)+1;x++)C(x);var M=[],D=$D-a.length;if(D<$D)for(var x=0;x<_.length;x+=D){var Ge=_.slice(x,x+D),rr=Ge.some(function(de){return u<=de.date&&de.date<f});rr&&(M=BD(BD([],M,!0),Ge,!0))}else M=_;for(var ie=Math.floor(M.length/D),oe=[],x=0;x<ie;x++)oe.push(x*D);return{rowOffsets:oe,totalDaysVisibleInWeek:D,days:M,period:{start:M[0].date,end:H(M[M.length-1].date),events:T}}}function Vv(t,e,n){return t.filter(function(r){var i=r.top,s=r.top+r.height;return e<s&&s<n||e<i&&i<n?!0:i<=e&&n<=s})}function GZ(t,e){var n=e.events,r=e.viewDate,i=e.hourSegments,s=e.dayStart,o=e.dayEnd,a=e.eventWidth,l=e.segmentHeight,u=e.hourDuration,d=e.minimumEventHeight,f=t.setMinutes,m=t.setHours,g=t.startOfDay,b=t.startOfMinute,A=t.endOfDay,S=t.differenceInMinutes,N=f(m(g(r),Uv(s.hour)),jv(s.minute)),H=f(m(b(A(r)),Uv(o.hour)),jv(o.minute));H.setSeconds(59,999);var U=[],B=Wd(t,{events:n.filter(function(_){return!_.allDay}),periodStart:N,periodEnd:H}),re=B.sort(function(_,I){return _.start.valueOf()-I.start.valueOf()}).map(function(_){var I=_.start,C=_.end||I,x=I<N,M=C>H,D=i*l/(u||Fv),Ge=0;if(I>N){var rr=t.getTimezoneOffset(I),ie=t.getTimezoneOffset(N),oe=ie-rr;Ge+=S(I,N)+oe}Ge*=D,Ge=Math.floor(Ge);var ce=x?N:I,de=M?H:C,rt=t.getTimezoneOffset(ce)-t.getTimezoneOffset(de),vt=S(de,ce)+rt;_.end?vt*=D:vt=l,d&&vt<d&&(vt=d),vt=Math.floor(vt);for(var ct=Ge+vt,st=Vv(U,Ge,ct),et=0;st.some(function(Ec){return Ec.left===et});)et+=a;var _r={event:_,height:vt,width:a,top:Ge,left:et,startsBeforeDay:x,endsAfterDay:M};return U.push(_r),_r}),Q=Math.max.apply(Math,re.map(function(_){return _.left+_.width})),T=Wd(t,{events:n.filter(function(_){return _.allDay}),periodStart:g(N),periodEnd:A(H)});return{events:re,width:Q,allDayEvents:T,period:{events:B,start:N,end:H}}}function Uv(t){return Math.max(Math.min(23,t),0)}function jv(t){return Math.max(Math.min(59,t),0)}function KZ(t,e){var n=e.viewDate,r=e.hourSegments,i=e.hourDuration,s=e.dayStart,o=e.dayEnd,a=t.setMinutes,l=t.setHours,u=t.startOfDay,d=t.startOfMinute,f=t.endOfDay,m=t.addMinutes,g=t.addDays,b=[],A=a(l(u(n),Uv(s.hour)),jv(s.minute)),S=a(l(d(f(n)),Uv(o.hour)),jv(o.minute)),N=(i||Fv)/r,H=u(n),U=f(n),B=function(C){return C};t.getTimezoneOffset(H)!==t.getTimezoneOffset(U)&&(H=g(H,1),A=g(A,1),S=g(S,1),B=function(C){return g(C,-1)});for(var re=i?WD*60/i:Fv,Q=0;Q<re;Q++){for(var T=[],_=0;_<r;_++){var I=m(m(A,Q*(i||Fv)),_*N);I>=A&&I<S&&T.push({date:B(I),displayDate:I,isStart:_===0})}T.length>0&&b.push({segments:T})}return b}var h4=void 0;typeof Object.create!="function"?h4=function(t){var e=function(){};return function(n,r){if(n!==Object(n)&&n!==null)throw TypeError("Argument must be an object, or null");e.prototype=n||{};var i=new e;return e.prototype=null,r!==t&&Object.defineProperties(i,r),n===null&&(i.__proto__=null),i}}():h4=Object.create;var zd=["webkit","moz","ms","o"],k0e=function(){if(typeof window>"u")return function(){};for(var t=0,e=zd.length;t<e&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[zd[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(r){var i=new Date().getTime(),s=Math.max(0,16-i-n),o=window.setTimeout(function(){return r(i+s)},s);return n=i+s,o}}return window.requestAnimationFrame.bind(window)}(),R0e=function(){if(typeof window>"u")return function(){};for(var t=0,e=zd.length;t<e&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[zd[t]+"CancelAnimationFrame"]||window[zd[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){window.clearTimeout(n)}),window.cancelAnimationFrame.bind(window)}();var Hd=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({}),t})();var L0e=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;var U0e=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});var zD=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({}),t})();var m4=(()=>{class t{constructor(n){this.i18nPlural=n}monthCell({day:n,locale:r}){return n.badgeTotal>0?`
        ${Ot(n.date,"EEEE MMMM d",r)},
        ${this.i18nPlural.transform(n.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${Ot(n.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:n,locale:r}){return`
      Beginning of expanded view for ${Ot(n,"EEEE MMMM dd",r)}
    `}openDayEventsAlert({date:n,locale:r}){return`${Ot(n,"EEEE MMMM dd",r)} expanded`}eventDescription({event:n,locale:r}){if(n.allDay===!0)return this.allDayEventDescription({event:n,locale:r});let i=`
      ${Ot(n.start,"EEEE MMMM dd",r)},
      ${n.title}, from ${Ot(n.start,"hh:mm a",r)}
    `;return n.end?i+` to ${Ot(n.end,"hh:mm a",r)}`:i}allDayEventDescription({event:n,locale:r}){let i=`
      ${n.title}, event spans multiple days:
      start time ${Ot(n.start,"MMMM dd hh:mm a",r)}
    `;return n.end?i+`, stop time ${Ot(n.end,"MMMM d hh:mm a",r)}`:i+", no stop time"}actionButtonLabel({action:n}){return n.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(n){return new(n||t)(ee(_p))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();var $v=class{month(e,n){return e.title}monthTooltip(e,n){return e.title}week(e,n){return e.title}weekTooltip(e,n){return e.title}day(e,n){return e.title}dayTooltip(e,n){return e.title}};function YZ(t,e,n,r){let i=0,s=0,o=n<0?t.subDays:t.addDays,a=e;for(;s<=Math.abs(n);){a=o(e,i);let l=t.getDay(a);r.indexOf(l)===-1&&s++,i++}return a}function QZ(t,e,n,r=[],i){let s=i?t.startOfDay(e):t.startOfWeek(e,{weekStartsOn:n}),o=t.endOfWeek(e,{weekStartsOn:n});for(;r.indexOf(t.getDay(s))>-1&&s<o;)s=t.addDays(s,1);if(i){let a=t.endOfDay(YZ(t,s,i-1,r));return{viewStart:s,viewEnd:a}}else{let a=o;for(;r.indexOf(t.getDay(a))>-1&&a>s;)a=t.subDays(a,1);return{viewStart:s,viewEnd:a}}}var wc=class{};var XZ=(()=>{class t{constructor(n){this.dateAdapter=n}monthViewColumnHeader({date:n,locale:r}){return Ot(n,"EEEE",r)}monthViewDayNumber({date:n,locale:r}){return Ot(n,"d",r)}monthViewTitle({date:n,locale:r}){return Ot(n,"LLLL y",r)}weekViewColumnHeader({date:n,locale:r}){return Ot(n,"EEEE",r)}weekViewColumnSubHeader({date:n,locale:r}){return Ot(n,"MMM d",r)}weekViewTitle({date:n,locale:r,weekStartsOn:i,excludeDays:s,daysInWeek:o}){let{viewStart:a,viewEnd:l}=QZ(this.dateAdapter,n,i,s,o),u=(d,f)=>Ot(d,"MMM d"+(f?", yyyy":""),r);return`${u(a,a.getUTCFullYear()!==l.getUTCFullYear())} - ${u(l,!0)}`}weekViewHour({date:n,locale:r}){return Ot(n,"h a",r)}dayViewHour({date:n,locale:r}){return Ot(n,"h a",r)}dayViewTitle({date:n,locale:r}){return Ot(n,"EEEE, MMMM d, y",r)}}return t.\u0275fac=function(n){return new(n||t)(ee(wc))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),g4=(()=>{class t extends XZ{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=ii(t)))(r||t)}})(),t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})();var v4=(()=>{class t{constructor(n){this.dateAdapter=n}getMonthView(n){return d4(this.dateAdapter,n)}getWeekViewHeader(n){return Bv(this.dateAdapter,n)}getWeekView(n){return u4(this.dateAdapter,n)}}return t.\u0275fac=function(n){return new(n||t)(ee(wc))},t.\u0275prov=Z({token:t,factory:t.\u0275fac}),t})(),y_e=new te("Moment");var qd=(()=>{class t{static forRoot(n,r={}){return{ngModule:t,providers:[n,r.eventTitleFormatter||$v,r.dateFormatter||g4,r.utils||v4,r.a11y||m4]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({providers:[_p],imports:[Ne]}),t})();var __e=Ig("collapse",[Ea("void",Ei({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Ea("*",Ei({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),nc("* => void",tc("150ms ease-out")),nc("void => *",tc("150ms ease-in"))]);var f4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({imports:[Ne,Hd,qd,Hd]}),t})();var HD=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({imports:[Ne,zD,Hd,qd,zD,Hd]}),t})();var p4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({imports:[Ne,qd,HD]}),t})(),y4=(()=>{class t{static forRoot(n,r={}){return{ngModule:t,providers:[n,r.eventTitleFormatter||$v,r.dateFormatter||g4,r.utils||v4,r.a11y||m4]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mt({type:t}),t.\u0275inj=pt({imports:[qd,f4,HD,p4,qd,f4,HD,p4]}),t})();function ZZ(t){return new Date(t).getTimezoneOffset()}function _4(){return{addDays:dc,addHours:VN,addMinutes:UN,addSeconds:jN,differenceInDays:qN,differenceInMinutes:GN,differenceInSeconds:YN,endOfDay:Yg,endOfMonth:KN,endOfWeek:ZN,getDay:yO,getMonth:bO,isSameDay:$N,isSameMonth:CO,isSameSecond:TO,max:BN,setHours:AO,setMinutes:MO,startOfDay:Di,startOfMinute:DO,startOfMonth:QN,startOfWeek:Hr,getHours:wO,getMinutes:EO,getTimezoneOffset:ZZ}}function w4(){return Bc(Bc({},_4()),{addWeeks:qg,addMonths:$g,subDays:Jg,subWeeks:PO,subMonths:RO,getISOWeek:Xg,setDate:xO,setMonth:SO,setYear:kO,getDate:vO,getYear:IO})}var E4={providers:[oA({eventCoalescing:!0}),kM(XO),LA(),Sg,c_(lN.forRoot({timeOut:5e3,closeButton:!0,positionClass:"toast-bottom-right",preventDuplicates:!0}),y4.forRoot({provide:wc,useFactory:w4})),a4(),ik(()=>sk(bg.firebaseConfig)),tN(()=>rN()),Qk(()=>Jk()),YO(()=>QO()),k3(()=>R3())]};qA(Tg,E4).catch(t=>console.error(t));
